{"version":3,"sources":["CustomComponents/CustomComponents.js","views/globals.js","CustomComponents/VsList.js","CustomComponents/VsCheckBox.js","CustomComponents/VsTextFilter.js","views/Visit/Visit.js","CustomComponents/VsTextSearch.js","views/Appointment/Appointment.js","views/Investigation/Investigation.js","CustomComponents/VsTeeth.js","views/Treatment/DentalTreatment.js","views/ProfCharge/ProfCharge.js","views/Patient/Patient.js","views/NextVisit/NextVisit.js","views/Wallet/useScript.js","views/Wallet/Wallet.js","views/SuperUser/Customer.js","views/SuperUser/Sample.js","views/Profile/UserProfile.js","views/Login/ChangePassword.js","assets/jss/material-dashboard-react/components/tableStyle.js","components/Table/Table.js","views/MED/PSPage.js","views/MED/VideoPlayer.js","views/MED/About.js","views/MED/Home.js","views/MED/ContactUs.js","views/MED/PointSystem.js","views/Settings/WorkingHours.js","views/Settings/Holiday.js","views/Settings/Assistant.js","CustomComponents/CricDreamTabs.js","CustomComponents/VsButton.js","assets/jss/material-dashboard-react/components/cardStyle.js","components/Card/Card.js","assets/jss/material-dashboard-react/components/cardBodyStyle.js","components/Card/CardBody.js","UserContext.js","assets/globalStyles.js","views/Report/Report.js","assets/jss/material-dashboard-react.js","CustomComponents/VsCancel.js","assets/dynamicModal.js","components/Grid/GridContainer.js","assets/jss/material-dashboard-react/components/cardIconStyle.js","components/Card/CardIcon.js","assets/jss/material-dashboard-react/components/cardFooterStyle.js","components/Card/CardFooter.js","views/functions.js","components/Grid/GridItem.js","views/Login/SignIn.js","views/Login/SignUp.js","views/MED/Welcome.js","views/MED/Doctor.js","views/Login/ResetPassword.js","views/Login/ForgotPassword.js","App.js","index.js"],"names":["useStyles","makeStyles","theme","title","fontSize","typography","pxToRem","fontWeight","fontWeightBold","color","blue","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","width","height","form","submit","button","jumpButton","marginRight","jumpButtonFull","groupName","balance","version","error","red","successMessage","green","failureMessage","table","th","border","align","padding","deepOrange","borderWidth","borderColor","borderStyle","td","allBlue","tdBlue","apptName","ngHeader","fontWeightRegular","ngCard","divider","BlankArea","React","Component","NothingToDisplay","ValidComp","ValidatorForm","addValidationRule","value","props","p1","length","validateSpecialCharacters","validateInteger","toString","validateEmail","validateMobile","validateUpi","removeValidationRule","DisplayGroupName","classes","className","DisplayPageHeader","msg","tournament","component","variant","headerName","DisplayBalance","wallet","CricDreamLogo","mylogo","process","src","DisplayPatientDetails","gClasses","globalStyles","_button1","button1","_button2","button2","_button3","button3","_button4","button4","_button5","button5","boxStyle","borderRadius","patientName","patient","displayName","patientInfo","patientInfo2","pid","dispAge","age","gender","dispEmail","email","dispMobile","mobile","DisplayPatientBox","onClick","DisplayDocumentDetails","d","Date","document","date","myDate","DATESTR","getDate","MONTHNUMBERSTR","getMonth","getFullYear","myTime","HOURSTR","getHours","MINUTESTR","getMinutes","_notbrief","brief","desc","type","DisplayAppointmentBox","appointment","apptTime","DisplayHolidayDetails","ordinalSuffix","holiday","MONTHSTR","month","year","DisplayUserDetails","user","DisplayImage","mime","file","DisplayPDF","base64","LoadingMessage","str1by2","String","fromCharCode","INR","VISITTYPE","pending","expired","cancelled","visit","WEEKSTR","SHORTWEEKSTR","MINUTEBLOCK","BLOCKNUMBER","allBlockStart","allBlockEnd","morningBlockStart","morningBlockEnd","afternoonBlockStart","afternoonBlockEnd","eveningBlockStart","eveningBlockEnd","dialogOptions","message","buttons","label","alert","childrenElement","closeOnEscape","closeOnClickOutside","willUnmount","afterClose","onClickOutside","onKeypressEscape","overlayClassName","ToothNumber","upperLeft","upperRight","lowerRight","lowerLeft","ToothRange","start","end","VsList","bStyle","foneWeight","listArray","map","item","Box","style","onSelect","name","onDelete","IconButton","size","VsCheckBox","_align","FormControlLabel","control","Checkbox","checked","blueCheckBox","Typography","blueCheckBoxLabel","VsTextFilter","_type","required","fullWidth","vgSpacing","onChange","endAdornment","InputAdornment","position","onClear","slotTitle","murItem","paddingRight","root","info","header","editdelete","marginLeft","NoMedicines","radio","medicine","modalHeader","messageText","symbolText","reviewDate","marginBottom","heading","selectedAccordian","normalAccordian","secondaryHeading","text","noPadding","medQty","dynamicModal","timeArray","unitArray","medStr","qtyNum","retStr","Math","floor","userCid","Visit","useAlert","useState","currentSelection","setCurrentSelection","visitIndex","setVisitIndex","remember","setRemember","filterItem","setFilterItem","setFilterItemText","filterItemArray","setFilterItemArray","isDrawerOpened","setIsDrawerOpened","currentPatient","setCurrentPatient","currentPatientData","setCurrentPatientData","medicineArray","setMedicineArray","noteArray","setNoteArray","remarkArray","setRemarkArray","visitArray","setVisitArray","nextVisitTime","setNextVisitTime","nextVisitUnit","setNextVisitUnit","setStandard","setEditMedicine","setEmurVisitNumber","emurNumber","setEmurNumber","emurName","setEmurName","emedDose1","setEmedDose1","emedDose2","setEmedDose2","emedDose3","setEmedDose3","emedTime","setEmedTime","emedUnit","setEmedUnit","modalRegister","setModalRegister","DisplayFunctionItem","itemName","Grid","key","xs","sm","md","lg","setSelection","functionSelected","functionUnselected","a","sessionStorage","setItem","JSON","stringify","DisplayFunctionHeader","container","visitNumber","changIndex","num","DisplayVisitDates","indexSelection","v","visitDate","getPatientVisit","rec","axios","get","resp","data","console","log","trackPromise","ModalResisterStatus","myMsg","regerr","nonerror","DisplayNewVisitBtn","VsButton","handleCreateNewVisit","handleCopyNew","x","tmpArray","enabled","medicines","remarks","userNotes","concat","selectedVisit","newVisit","cloneDeep","updateNewVisit","generateVisitDocument","myURL","method","url","responseType","response","myFile","fileDownload","success","med","note","rem","nextime","nextunit","userNote","remark","nextTime","nextUnit","newVisitInfo","encodeURIComponent","post","handleAddUserNotes","handleDeleteNotes","vNumber","mNumber","vsDialog","tmp","filter","index","arr","handleDeleteNotesConfirm","handleAddNewRemark","handleDeleteRemark","handleDeleteRemarkConfirm","handleAddNewMedicine","handleDeleteMedicine","handleDeleteMedicineConfirm","ArunMedicines","m","justify","dose1","dose2","dose3","time","unit","ttt","find","handleEditMedicine","ArunNotes","un","notesNumber","handleEditUserNotes","ArunRemarks","r","remarkNumber","handleEditRemark","ArunFollowup","setDate","setMonth","setYear","FormControl","RadioGroup","row","aria-label","myVisit","updateUnit","event","target","filterRadio","Radio","updateTime","Number","ArunVisitUpdateButton","setEmurNameWithFilter","txt","substr","toLowerCase","includes","handleVsSelect","useEffect","getItem","checkPatient","patRec","i","push","str","setMedQty","getAllMedicines","getAllNotes","getAllRemarks","CssBaseline","Drawer","drawer","anchor","open","VsCancel","onSubmit","medName","myUrl","_","sortBy","e","updateMedicineToDatabase","Select","labelId","id","inputProps","MenuItem","placeholder","noteName","updateNoteToDatabase","remarkName","updateRemarkToDatabase","VsTextSearch","TextField","InputProps","selIndex","unselIndex","availableSlot","pendingSlot","expiredSlot","grey","visitSlot","lightGreen","freeSlot","usedSlot","slotboxStyle","dateTime","pink","isMobile","dateTimeNormal","dateTimeBlock","switchText","orange","accordianSummary","zeroAppt","yellow","newAppt","allAppt","select","tdPending","tdCancel","tdVisit","lime","wd","we","today","noday","blueGrey","ho","customerData","NUMBEROFDAYS","Appointment","searchText","setSearchText","registerStatus","setRegisterStatus","patientArray","setPatientArray","patientMasterArray","setPatientMasterArray","allPendingAppt","setAllPendingAppt","radioValue","setRadioValue","setPatientName","setPatientAge","patientGender","setPatientGender","patientEmail","setPatientEmail","patientMobile","setPatientMobile","patientDob","setPatientDob","setSelectPatient","holidayArray","setHolidayArray","apptArray","setApptArray","currentIndex","setCurrentIndex","allTimeSlots","setAllTimeSlots","reloadAppointmentDetails","allPending","generateSlots","allHolidays","slotData","getFirstDate","getNextDate","prepareData","setNewCurrentIndex","idx","itIsToday","currentSlot","currentOrder","generateOrderByDate","morningSlots","generateOrder","hour","minute","afternoonSlots","eveningSlots","checkAppt","hr","min","workingHours","myYear","myMonth","myDay","getDay","blk","apptSts","day","slot","clinicOff","myHoildays","ShowResisterStatus","getPrevDate","compareDate","prevDate","nextDate","newData","handleAddAppointment","myOrder","currentValidOrder","cid","order","jTmp","myTmpSlots","DisplayAvailableAppointments","tStr","t","dStr","freeSlots","myClass","cancelAppt","handleCancelApptConfirm","getSlotIndex","tmpAppt","slotIndex","cancelOrder","hasExpired","DisplayPatientAppointments","handleCancelAppt","DisplayAllPatients","handleSelectPatient","setPatientFilter","myArray","filterStr","trim","pidStr","filterPatients","getAppointmentsByPid","myPid","myAppt","toDate","testAge","myMobile","myEmail","encrypt","dobStr","status","getAllPatients","ppp","PgetAllHolidays","PgetAllPendingAppointment","PgetAllMyPatients","parse","getAllHolidays","getAllMyPatients","makeSlots","checkFromPatient","webPage","Container","maxWidth","moment","timeFormat","initialValue","dateFormat","isValidDate","disableFutureDt","onClose","closeOnSelect","validators","errorMessages","investigationIndex","setInvestigationIndex","investigationArray","setInvestigationArray","diagnosisDbArray","setDiagnosisDbArray","symptomDbArray","setSymptomDbArray","DisplayInvestigationDates","investigationNumber","investigationDate","getPatientInvestigation","handleCreateNewInvestigation","symptom","diagnosis","updateInvestigation","sArray","dArray","tmp1","handleAddDiagnosis","handleDeleteDiagnosis","handleDeleteDiagnosisConfirm","handleAddNewSymptom","myName","myEncodedName","handleDeleteSymptom","myData","handleDeleteSymptomConfirm","ArunSymptoms","ArunDiagnosis","DisplayNewBtn","getAllDiagnosis","getAllSymptom","updateSymptomToDatabase","myInvestitgation","sym","updateDiagnosisToDatabase","dia","VsTeeth","_Click","dummy","tooth","toothType","toothArray","selectedTooth","normalTooth","borderColour","borderType","innerPadding","toothNumber","total","DentalTreatment","treatTypeArray","setTreatTypeArray","treatmentIndex","setTreatmentIndex","treatmentArray","setTreatmentArray","emurToothArray","setEmurToothArray","emurAmount","setEmurAmount","getPatientTreatment","DisplayTreatmentDates","treatmentNumber","treatmentDate","handleCreateNewTreatment","treatment","handleDeleteTreatment","updateNewTreatment","handleDeleteTreatmentConfirm","ArunTreatment","amount","sumBy","getAllTreatType","updateTreatTypeToDatabase","treat","newTootlArray","paymentModeArray","ProfCharge","profChargeArray","setProfChargeArray","billing","payment","due","setBalance","paymentMode","setPaymentMode","emurTid","setEmurTid","emurDesc","setEmurDesc","getProfCharge","getBalance","abs","addNewPayment","handleDeletePayment","tid","DisplayAllToolTips","effect","multiline","ArunProfCharge","p","isBilling","myInfo","treatmentDetails","description","data-for","data-tip","data-iscapture","pRec","reverse","flexShrink","link","noinfo","paddings","NoPatients","flexBasis","Patient","isBirthday","setIsBirday","isAdd","setIsAdd","oldPatientName","setOldPatientName","handleCancelConfirm","DisplayPatientHeader","patientInfo2Green","patientInfo2Blue","pat","checkIfBirthday","dob","dispOnlyAge","handleCancel","us","localStorage","Divider","Report","NextVisit","nextVisitArray","setNextVisitArray","getAllNextVisits","TableContainer","Table","TableHead","TableRow","TableCell","scope","TableBody","myNextVisit","getOnlyDate","nextVisit","useScript","script","createElement","async","body","appendChild","removeChild","require","tdBonus","tdWallet","bonus","orderId","setOrderId","sss","Wallet","setRazOpt","setMasterTransactions","transactions","setTransactions","addNewWallet","setAddNewWallet","setAmount","parseInt","REACT_APP_MINBALANCE","WalletInfo","DisplayWalletTable","colSpan","transDate","transType","transSubType","parseFloat","toFixed","handleRazor","razorpay_order_id","razorpay_payment_id","setTab","myOpt","order_id","Razorpay","Customer","userName","setUserName","password","setEmail","setMobile","addUser","setAddUser","customerArray","setCustomerArray","setCustomerData","newRecharge","setNewRecharge","newCustomer","setNewCustomer","radioRecharge","setRadioRecharge","newExpiry","setNewExpiry","radioUserType","setRadioUserType","radioCustomerPlan","setRadioCustomerPlan","DisplayCustomerList","myExpiry","expiryDate","plan","Link","href","disabled","_id","handleEnable","handleNewUser","DisplayRecharge","newRadio","handleRecharge","getAllCustomers","Button","blueButton","buttonStyle","yesterday","subtract","disablePastDt","current","isAfter","disableAllDt","customFuncyion","Sample","yyy","setMinutes","handleDate","xxx","autoWidth","timeConstraints","minutes","step","icon","common","userMessage","userCode","textColor","helpMessage","Profile","useHistory","setUserCode","editName","setEditName","editEmail","setEditEmail","setProfile","copied","copyState","setCopyState","userRes","decrypt","profileInfo","headerText","onCopy","drawerPaper","ChangePassword","currentPassword","setCurrentPassword","newPassword","setNewPassword","repeatPassword","setRepeatPassword","showCurrentPassword","setShowCurrentPassword","showNewPassword","setShowNewPassword","showRepeatPassword","setShowRepeatPassword","handleSubmit","show","tmp2","fetch","tableStyle","borderBottom","warningTableHeader","warningColor","primaryTableHeader","primaryColor","dangerTableHeader","dangerColor","successTableHeader","successColor","infoTableHeader","infoColor","roseTableHeader","roseColor","grayTableHeader","grayColor","borderSpacing","borderCollapse","tableHeadCell","defaultFont","tableCell","lineHeight","verticalAlign","tableResponsive","overflowX","tableHeadRow","outline","tableBodyRow","styles","card","t20Card","odiCard","testCard","fontStyle","bold","media","paddingTop","expand","transform","transition","transitions","create","duration","shortest","expandOpen","currentTime","range","playIcon","boxColor","cardImage","welcome","textData","WorkingHours","defaultMorningSlots","setDefaultMorningSlots","defaultAfternoonSlots","setDefaultAfternoonSlots","defaultEveningSlots","setDefaultEveningSlots","workingArray","setWorkingArray","morningCB","setMorningCB","afternoonCB","setAfternoonCB","eveningCB","setEveningCB","w","allSlotStr","allSlotSplit","split","allSlotArray","toggleCheckbox","toggleAllCheckbox","slotType","setDefaultSlots","startNum","endNum","blockNumber","DisplayMorningSlots","slice","DisplayAfterNoonSlots","DisplayEveningSlots","DisplayDaySelection","workingslots","MINLEFT","Holiday","holidayDate","setHolidayDate","holidayDesc","setHolidayDesc","getHolidays","mmm","changMonth","DisplayMonthSelection","handleCancelHoliday","hol","handleCancelHolidayConfirm","DisplayMonthlyHolidays","sort","b","aler","Assistant","userArray","setUserArray","uid","setUid","userMobile","setUserMobile","userEmail","setUserEmail","usr","DisplayUsers","getUsers","flexGrow","doctor","ankit","noSpacing","menuButton","statButton","teamButton","visitButton","new","whatIsNew","paddingLeft","menuStyle","avatar1","getContrastText","cdRefresh","CricDreamTabs","auth","anchorEl","setAnchorEl","Boolean","grpAnchorEl","setGrpAnchorEl","setArunGroup","itIsMobile","setValue","setIdle","handleClose","handleGrpClose","setMenuValue","handleAppointment","handlePatient","handleProfile","handleWallet","handleChangePassword","DisplayCdItems","AppBar","Toolbar","aria-controls","aria-haspopup","currentTarget","anchorOrigin","vertical","horizontal","transformOrigin","window","handleLogout","bSTyle","handler","cardStyle","hexToRgb","blackColor","background","whiteColor","boxShadow","minWidth","wordWrap","cardPlain","cardProfile","textAlign","cardChart","cardBodyStyle","cardBody","flex","WebkitBoxFlex","cardBodyPlain","cardBodyProfile","UserContext","createContext","bgRed","bgBlue","whiteSpace","paddingBottom","patientInfo999","selectForm","selectEmpty","selectLabel","signInWelcome","page","yesNoTitle","yesNoNormalMessage","yesNoErrorMessage","message18","message16","message14","message12","message10","upArrowCardCategory","stats","top","cardCategory","cardCategoryWhite","cardTitle","minHeight","fontFamily","textDecoration","cardTitleWhite","modalContainer","content","opacity","modalTitle","modalMessage","modalbutton","noSpace","hide","SupportedMimeTypes","SupportedExtensions","Document","startLoading","setStartLoading","dlMime","setDlMime","dlFile","setDlFile","dlDoc","setDlDoc","setViewImage","selectedFile","state","setState","documentArray","setDocumentArray","setTitle","setDesc","b64","Buffer","from","indexOf","deleteDocConfirm","addDoc","formData","FormData","append","getPatientDocument","ddd","DisplayAllReports","handleFileView","deleteDoc","files","input","replace","test","Error","first","second","last","toUpperCase","primaryBoxShadow","infoBoxShadow","successBoxShadow","warningBoxShadow","dangerBoxShadow","roseBoxShadow","warningCardHeader","successCardHeader","dangerCardHeader","infoCardHeader","primaryCardHeader","roseCardHeader","borderTop","myDisabled","myWidth","modalStyles","left","right","bottom","transparent","grid","cardIconStyle","cardIcon","float","cardFooterStyle","cardFooter","justifyContent","cardFooterProfile","cardFooterPlain","cardFooterStats","cardFooterChart","crypto","isUserLogged","location","reload","sts","isNaN","NumberString","match","hash","cipher","createCipheriv","update","final","err","decipher","createDecipheriv","getImageName","teamName","imageName","replaceAll","currentAPLVersion","latestAPLVersion","upGradeRequired","upGrade","upGradeRecord","latest","internalToText","downloadApk","REACT_APP_APLAXIOS","download","clearBackupData","removeItem","navigator","userAgent","idle","CR","LF","SP","IntCR","IntLF","IntSP","txt1","join","isBefore","j","k","outStr","downloadVisit","stringToBase64","originalString","d1","d2","yesB","noB","option","confirmAlert","REACT_APP_WELCOME","android","downloadButon","SignIn","setPassword","isError","errorMessage","setErrorMessage","setError","preventDefault","enPassword","userData","userType","customer","clear","showPassword","setShowPassword","SignUp","referalCode","setReferalCode","getInput","validate","rCode","helperText","setHelperText","eid","eid2","getElementById","myValue","newError","newText","focus","myPass1","myPass2","showPass1","setShowPass1","showPass2","setShowPass2","handleVisibility1","isVisible","handleVisibility2","Password1NonMobile","defaultValue","Password2NonMobile","Password1Text","Password2Text","Password1Password","Password2Password","DisplayPassword1","DisplayPassword2","cardData","image","setpos","Home","alt","Doctor","doctorArray","setDoctorArray","masterDoctorArray","setMasterDoctorArray","categary","setCategary","DisplayFilterRadios","handleRadioChange","DisplayRadios","DisplayDoctor","clinicName","addr1","addr2","addr3","getDoctors","allCat","Set","doctorButton","ResetPassword","disableButton","setDisableButton","verifyCode","ForgotPassword","hist","createBrowserHistory","AppRouter","setUser","useMemo","DispayTabs","myLink","resetLink","pathname","checkResetPasswordRequest","ipos","REACT_APP_BASEPOS","initCdParams","history","Provider","options","positions","TOP_CENTER","timeout","offset","SCALE","ReactDOM","render","template","AlertTemplate","App"],"mappings":"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","file":"static/js/main.3f6385e3.chunk.js","sourcesContent":["import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport Box from '@material-ui/core/Box';\r\nimport Link from '@material-ui/core/Link';\r\nimport PDFViewer from 'pdf-viewer-reactjs';\r\n\r\nimport VsCancel from \"CustomComponents/VsCancel\";\r\n\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\nimport {red, blue, green, deepOrange, yellow} from '@material-ui/core/colors';\r\nimport {\r\n  validateSpecialCharacters, validateEmail, validateMobile, validateInteger, validateUpi,\r\n  encrypt, decrypt, \r\n  currentAPLVersion, latestAPLVersion,\r\n\tgetImageName,\r\n\tdispOnlyAge, dispAge, dispEmail, dispMobile,\r\n\tgetOnlyDate,\r\n\tordinalSuffix,\r\n} from \"views/functions.js\";\r\n\r\nimport {\r\nHOURSTR, MINUTESTR, DATESTR, MONTHNUMBERSTR, MONTHSTR,\r\n} from \"views/globals.js\";\r\n\r\nimport {setTab} from \"CustomComponents/CricDreamTabs.js\"\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport globalStyles from \"assets/globalStyles\";\r\nimport VsButton from \"CustomComponents/VsButton\";\r\n\r\n//Icons\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\n//import PreviewIcon from '@material-ui/icons/Preview';\r\nimport VisibilityIcon from '@material-ui/icons/Visibility';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  title: {\r\n\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tcolor: blue[700],\r\n\t},\r\n\tpaper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n    width: theme.spacing(10),\r\n    height: theme.spacing(10),\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  button: {\r\n    margin: theme.spacing(0, 1, 0),\r\n  },\r\n  jumpButton: {\r\n    // margin: theme.spacing(0, 1, 0),\r\n    marginTop: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n    backgroundColor: '#FFFFFF',\r\n    color: '#1A237E',\r\n    fontWeight: theme.typography.fontWeightBold,\r\n    fontSize: '16px',\r\n    width: theme.spacing(20),\r\n  },\r\n  jumpButtonFull: {\r\n    // margin: theme.spacing(0, 1, 0),\r\n    marginTop: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n    backgroundColor: '#FFFFFF',\r\n    color: '#1A237E',\r\n    fontWeight: theme.typography.fontWeightBold,\r\n    fontSize: '16px',\r\n    width: theme.spacing(40),\r\n  },\r\n  groupName:  {\r\n    // right: 0,\r\n    fontSize: '14px',\r\n    fontWeight: theme.typography.fontWeightBold,\r\n    color: blue[700],\r\n    // position: 'absolute',\r\n    alignItems: 'center',\r\n    marginTop: '0px',\r\n  },\r\n  balance:  {\r\n    // right: 0,\r\n    marginRight: theme.spacing(3),\r\n    fontSize: '18px',\r\n    fontWeight: theme.typography.fontWeightBold,\r\n    color: blue[900],\r\n    // // position: 'absolute',\r\n    // alignItems: 'center',\r\n    // marginTop: '0px',\r\n  },\r\n  version:  {\r\n    //marginRight: theme.spacing(3),\r\n    fontSize: '18px',\r\n    color: blue[900],\r\n  },\r\n  error:  {\r\n    // right: 0,\r\n    fontSize: '12px',\r\n    color: red[700],\r\n    // position: 'absolute',\r\n    alignItems: 'center',\r\n    marginTop: '0px',\r\n  },\r\n  successMessage: {\r\n    color: green[700],\r\n  }, \r\n  failureMessage: {\r\n    color: red[700],\r\n  }, \r\n  table: {\r\n    // minWidth: 650,\r\n  },\r\n  th: { \r\n    border: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tfontSize: theme.typography.pxToRem(13),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t//backgroundColor: '#FFA726',\r\n\t\tbackgroundColor: deepOrange[200],\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n  },\r\n  td : {\r\n    spacing: 0,\r\n    // border: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n    height: 10,\r\n  },\r\n\tallBlue: {\r\n\t\tbackgroundColor: blue[100],\r\n\t},\r\n\ttdBlue : {\r\n    border: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tborderWidth: 1,\r\n\t\tbackgroundColor: blue[100],\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n  },\r\n\tapptName: {\r\n\t\tfontSize: theme.typography.pxToRem(15),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tcolor: blue[700]\r\n\t},  \r\n  ngHeader: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    fontWeight: theme.typography.fontWeightRegular,\r\n  },\r\n  ngCard: {\r\n    backgroundColor: '#B3E5FC',\r\n  },\r\n  divider: {\r\n    backgroundColor: '#000000',\r\n    color: '#000000',\r\n    fontWeight: theme.typography.fontWeightBold,\r\n  }\r\n}));\r\n\r\n\r\nexport function DisplayPrizeTable(props) {\r\n  const classes = useStyles();\r\n  // console.log(\"in Table\");\r\n  // console.log(props.tableName);\r\n  return (\r\n    <TableContainer component={Paper}>\r\n      <Table> \r\n      <TableHead p={0}>\r\n          <TableRow align=\"center\">\r\n          <TableCell className={classes.th} p={0} align=\"center\">Rank</TableCell>\r\n          <TableCell className={classes.th} p={0} align=\"center\">Prize</TableCell>\r\n          </TableRow>\r\n      </TableHead>\r\n      <TableBody p={0}>\r\n        {props.tableName.map(x => {\r\n        return (\r\n          <TableRow key={x.rank} align=\"center\">\r\n          <TableCell  className={classes.td} p={0} align=\"center\" >\r\n              {x.rank}\r\n          </TableCell>\r\n          <TableCell  className={classes.td} p={0} align=\"center\" >\r\n              {x.prize}\r\n          </TableCell>\r\n          </TableRow>\r\n          )\r\n          })}\r\n      </TableBody>\r\n      </Table>\r\n  </TableContainer>    \r\n  );\r\n}\r\n\r\nexport function ShowCreateGroup() {\r\n  return (\r\n    <div>\r\n    <Typography paragraph>\r\n    Click on Group Icon (on right hand side) and select “New Group”.\r\n    </Typography>\r\n    <Typography paragraph>\r\n    You will need the following information to create new Group.\r\n    </Typography>\r\n    <Typography paragraph>\r\n    1.  Name of your group. e.g. \"Bonaventure Gold\". User who creates the new group is considered as the group \"OWNER/ADMIN\".\r\n    </Typography>\r\n    <Typography paragraph>\r\n    2.  Number of members that will be part of this group.\r\n    </Typography>\r\n    <Typography paragraph>\r\n    3.  Member Free (e.g. 50/75/100 Rupees as desired by you.) It will be available in your wallet.\r\n    </Typography>\r\n    <Typography paragraph>\r\n    4.  Select the tournamenet for which you want to play.\r\n    </Typography>\r\n    Once above information is provided, user can click on \"Create\" button to create new group.\r\n    <Typography paragraph>\r\n    Next is to select the number of prizes (in the range 1 to 5).\r\n    </Typography>\r\n    <Typography paragraph>\r\n    Total Prize money will be equal to Number of Members * Member Fee \r\n    </Typography>\r\n    <Typography paragraph>\r\n    The final step is to copy the Groupcode and share with the members.\r\n    </Typography>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport function ShowJoinGroup() {\r\n  return (\r\n    <div>\r\n    <Typography paragraph>\r\n    Click on Group Icon (on right hand side) and select “Join Group”.\r\n    </Typography>\r\n    <Typography paragraph>\r\n    When the GroupCode is shared with you, just go to \"Join Group\" and join the group using the group code.\r\n    </Typography>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport function ShowAuctionGroup() {\r\n  return (\r\n    <div>\r\n    <Typography paragraph>\r\n    Once all the players have joined the group, the next step is to purchase Players by the process of Auction.\r\n    </Typography>\r\n    <Typography paragraph>\r\n    Go to \"Auction\" tab. Group onwer can click on \"Start Auction\" button.\r\n    </Typography>\r\n    <Typography paragraph>\r\n    Now the player details will be displayed to all memebers. Click on amount button and do bidding. When Group owner find that bid amount is not increasiunng, then owner will press of \"Sold\" button and the player will be awarded to the highest bidder.\r\n    </Typography>\r\n    <Typography paragraph>\r\n    If there is no bid (bid amount 0) for the player, group owner can click on \"Unsold\" to skip the player. details will be displayed to all memebsr. Click on amount button and do bidding. When Group owner find that bid amount is not increasiunng, then he will pess of \"Sold\" button and the player will be awarded to the highest bidder.\r\n    </Typography>\r\n    <Typography paragraph>\r\n    Once auction is complete, Admin will click on “Stop Auction” button. After this, all group members will get message indicating end of Auction.\r\n    </Typography>\r\n    <Typography paragraph>\r\n    User can view the number of players purchased by them along with the balance amount.\r\n    </Typography>\r\n    <Typography paragraph>\r\n    All the members can view the players purchased during auction by clicking on “My Team” tab.\r\n    </Typography>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport function ShowCaptainGroup() {\r\n  return (\r\n    <div>\r\n    <Typography paragraph>\r\n    After the Auction is complete. Use can click on \"Captain\" (availabein Menu) and select Captain and Vice Captain.\r\n    </Typography>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport function ShowMultipleGroup() {\r\n  return (\r\n    <div>\r\n    <Typography paragraph>\r\n    After the Auction is complete. Use can click on \"Captain\" (availabein Menu) and select Captain and Vice Captain.\r\n    </Typography>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport function NoGroup() {\r\n  const classes = useStyles();\r\n  return (<h3>Does not belong to any Group</h3>);\r\n}\r\n\r\n\r\nexport class BlankArea extends React.Component {\r\n  render() {return <h5></h5>;}\r\n}\r\n\r\nexport class NothingToDisplay extends React.Component {\r\n  render() {return null}\r\n}\r\n\r\n\r\nexport class ValidComp extends React.Component {\r\n\r\n  componentDidMount()  {\r\n    // custom rule will have name 'isPasswordMatch'\r\n    ValidatorForm.addValidationRule('isPasswordMatch', (value) => {\r\n      return (value === this.props.p1)\r\n    });\r\n\r\n    ValidatorForm.addValidationRule('minLength', (value) => {\r\n      return (value.length >= 6)\r\n    });\r\n\r\n    ValidatorForm.addValidationRule('noSpecialCharacters', (value) => {\r\n      // console.log(\"Special chars test for: \", value);\r\n      return validateSpecialCharacters(value);\r\n    });\r\n\r\n    ValidatorForm.addValidationRule('isNumeric', (value) => {\r\n      // console.log(\"string: \", value);\r\n      // console.log(value.toString());\r\n      return validateInteger(value.toString());\r\n    });\r\n\r\n    ValidatorForm.addValidationRule('isEmailOK', (value) => {\r\n      return validateEmail(value);\r\n    });\r\n\r\n    ValidatorForm.addValidationRule('mobile', (value) => {\r\n      return validateMobile(value);\r\n    });\r\n\r\n    ValidatorForm.addValidationRule('checkbalance', (value) => {\r\n      return (value >= this.props.balance);\r\n    });\r\n\r\n    ValidatorForm.addValidationRule('isUpiOK', (value) => {\r\n      return validateUpi(value);\r\n    });\r\n  }\r\n\r\n  \r\n  componentWillUnmount() {\r\n    // remove rule when it is not needed\r\n    ValidatorForm.removeValidationRule('isPasswordMatch');\r\n    ValidatorForm.removeValidationRule('isEmailOK');\r\n    ValidatorForm.removeValidationRule('mobile');\r\n    ValidatorForm.removeValidationRule('minLength');\r\n    ValidatorForm.removeValidationRule('noSpecialCharacters');   \r\n    ValidatorForm.removeValidationRule('checkbalance'); \r\n    ValidatorForm.removeValidationRule('isNumeric');    \r\n    ValidatorForm.removeValidationRule('isUpiOK');\r\n  }\r\n\r\n  render() {\r\n    return <br/>;\r\n  }\r\n\r\n}\r\n\r\nexport function GeneralMessage (props) {\r\n  return(<h3 align=\"center\">{props.message}</h3>);\r\n}\r\n\r\nexport function DisplayGroupName (props) {\r\n  const classes = useStyles();\r\n  if (props.groupName.length > 0)\r\n    return(<Typography className={classes.groupName} align=\"center\">({props.groupName})</Typography>);\r\n  else\r\n    return(<NothingToDisplay />);\r\n}\r\n\r\nexport function DisplayPageHeader (props) {\r\n    let msg = \"\";\r\n    if (props.groupName.length > 0) \r\n      msg = props.groupName + '-' + props.tournament;\r\n    return (\r\n    <div>\r\n      <Typography align=\"center\" component=\"h1\" variant=\"h5\">{props.headerName}</Typography>\r\n      <DisplayGroupName groupName={msg}/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function DisplayBalance (props) {\r\n  const classes = useStyles();\r\n  return (\r\n  <div>\r\n    <Typography align=\"right\" className={classes.balance} >{`Wallet balance: ${props.wallet}`}</Typography>\r\n  </div>\r\n  );\r\n}\r\n\r\n\r\nexport function MessageToUser (props) {\r\n  const classes = useStyles();\r\n  // console.log(props.mtuMessage);\r\n  let myClass = props.mtuMessage.toLowerCase().includes(\"success\") ? classes.successMessage : classes.failureMessage;\r\n  return (\r\n    <Dialog aria-labelledby=\"simple-dialog-title\" open={props.mtuOpen}\r\n        onClose={() => {props.mtuClose(false)}} >\r\n        <DialogTitle id=\"simple-dialog-title\" className={myClass}>{props.mtuMessage}</DialogTitle>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\n\r\nexport class Copyright extends React.Component {\r\n  render () {\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright © '}\r\n        <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n        Viraag Services\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  }\r\n}\r\n\r\n\r\n\r\nexport function JumpButton(props) {\r\n  let myDisabled = false;\r\n  if (props.disabled) myDisabled = props.disabled;\r\n  const classes = useStyles();\r\n  return (\r\n    <div align=\"center\">\r\n      {/* <Divider className={classes.divider} /> */}\r\n      {/* <BlankArea /> */}\r\n      <Button variant=\"outlined\" size=\"medium\" color=\"primary\"\r\n        disabled={myDisabled}\r\n        className={classes.jumpButton}\r\n        onClick={() => setTab(props.page) }>\r\n        {props.text}\r\n      </Button>\r\n  </div>\r\n  )\r\n}\r\n\r\nexport function JumpButton2(props) {\r\n  let myDisabled1 = (props.disabled1) ? props.disabled1 : false;\r\n  let myDisabled2 = (props.disabled2) ? props.disabled2 : false;\r\n  //const classes = useStyles();\r\n  return (\r\n    <Grid container >\r\n      <Grid item xs={6} sm={6} md={6} lg={6} >\r\n        <JumpButton page={props.page1} text={props.text1} disabled={myDisabled1}/>\r\n      </Grid>\r\n      <Grid item xs={6} sm={6} md={6} lg={6} >\r\n        <JumpButton page={props.page2} text={props.text2} disabled={myDisabled2}/>\r\n      </Grid>\r\n    </Grid>\r\n  )\r\n}\r\n\r\nexport function JumpButtonFull(props) {\r\n  let myDisabled = false;\r\n  if (props.disabled) myDisabled = props.disabled;\r\n  const classes = useStyles();\r\n  return (\r\n    <div align=\"center\">\r\n      {/* <Divider className={classes.divider} /> */}\r\n      {/* <BlankArea /> */}\r\n      <Button variant=\"outlined\" size=\"medium\" color=\"primary\"\r\n        disabled={myDisabled}\r\n        className={classes.jumpButtonFull}\r\n        onClick={() => setTab(props.page) }>\r\n        {props.text}\r\n      </Button>\r\n  </div>\r\n  )\r\n}\r\n\r\nexport function JumpButtonOnly(props) {\r\n  let myDisabled = false;\r\n  if (props.disabled) myDisabled = props.disabled;\r\n  const classes = useStyles();\r\n  return (\r\n    <div align=\"center\">\r\n      {/* <BlankArea /> */}\r\n      <Button variant=\"outlined\" size=\"medium\" color=\"primary\"\r\n        disabled={myDisabled}\r\n        className={classes.jumpButton}\r\n        onClick={() => setTab(props.page) }>\r\n        {props.text}\r\n      </Button>\r\n  </div>\r\n  )\r\n}\r\n\r\nexport function CricDreamLogo () {\r\n  let mylogo = `${process.env.PUBLIC_URL}/DV.ICO`;\r\n  const classes = useStyles();\r\n  return (\r\n    <Avatar variant=\"square\" className={classes.avatar}  src={mylogo}/>\r\n);\r\n}\r\n\r\nexport function DisplayVersion(props) {\r\n  const classes = useStyles();\r\n  let ver = props.version.toFixed(1);\r\n  let msg =  `${props.text} ${ver}`;\r\n  return <Typography align=\"center\" className={classes.version} >{msg}</Typography>\r\n}\r\n\r\nexport async function DisplayCurrentAPLVersion() {\r\n  let version = await currentAPLVersion();\r\n  return <DisplayVersion text=\"Current APL version\" version={version}/>\r\n}\r\n\r\nexport async function DisplayLatestAPLVersion() {\r\n  let version = await latestAPLVersion();\r\n  return <DisplayVersion text=\"Latest APL version\" version={version}/>\r\n}\r\n\r\n\r\nexport function DisplayCancel(props) {\r\nreturn(\r\n  <div align=\"right\" >\r\n  <IconButton\r\n  // iconStyle={{width: '24px', height: '24px'}}\r\n    onClick={props.onCancel}\r\n    // disabled={currentTournament === 0}\r\n    aria-label=\"left\" color=\"primary\">\r\n  < CancelIcon fontSize=\"large\" />\r\n  </IconButton>\r\n  </div>\r\n)}\r\n\r\nexport function ShowTeamImage(props) {\r\n\tlet myTeam = getImageName(props.teamName);\r\n\treturn(\r\n\t<Avatar variant=\"square\" src={myTeam} />    \r\n\t)\r\n} \r\n\r\nexport function DisplayMyPlayers(props) {\r\nconst gClasses = globalStyles();\r\nreturn(\r\n  <Table>\r\n\t\t<TableHead p={0}>\r\n\t\t\t<TableRow key=\"header\" align=\"center\">\r\n\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Team</TableCell>\r\n\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Player Name</TableCell>\r\n\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Bid Amount</TableCell>      \r\n\t\t\t</TableRow>\r\n\t\t</TableHead>\r\n\t\t<TableBody p={0}>\r\n\t\t\t{props.players.map(item => {\r\n\t\t\treturn (\r\n\t\t\t\t<TableRow key={item.playerName}>\r\n\t\t\t\t<TableCell className={gClasses.td} p={0} align=\"center\" ><ShowTeamImage teamName={item.team} /></TableCell> \r\n\t\t\t\t{/* <TableCell className={gClasses.td} p={0} align=\"center\" >{item.team}</TableCell>*/}\r\n\t\t\t\t<TableCell className={gClasses.td} p={0} align=\"center\" >{item.playerName}</TableCell>\r\n\t\t\t\t<TableCell className={gClasses.td} p={0} align=\"center\" >{item.bidAmount}</TableCell>\r\n\t\t\t\t</TableRow>\r\n\t\t\t)})}\r\n\t\t</TableBody> \r\n\t</Table>\r\n)}\r\n\r\nexport function DisplayYesNo(props) {\r\n\tlet myId = sessionStorage.getItem(\"YESNO_id\");\r\n\tlet myTitle = sessionStorage.getItem(\"YESNO_title\");\r\n\tlet myMessage = sessionStorage.getItem(\"YESNO_message\");\r\n\tlet myButton1 = sessionStorage.getItem(\"YESNO_yesbutton\");\r\n\tlet myButton2 = sessionStorage.getItem(\"YESNO_nobutton\");\r\n\tlet isError = sessionStorage.getItem(\"YESNO_iserror\");\r\n\t\r\n\tconst gClasses = globalStyles();\r\n\tlet msgClass = (isError == \"true\") ? gClasses.yesNoErrorMessage : gClasses.yesNoNormalMessage\r\n\treturn(\r\n\t\t<div align=\"center\">\r\n\t\t\t{(myTitle != \"\") && \r\n\t\t\t\t<div>\r\n\t\t\t\t<Typography className={gClasses.yesNoTitle}>{myTitle}</Typography>\r\n\t\t\t\t<BlankArea />\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t\t{(myMessage != \"\") && \r\n\t\t\t\t<Typography className={gClasses.msgClass}>{myMessage}</Typography>\r\n\t\t\t}\r\n\t\t\t<BlankArea />\r\n\t\t\t{(myButton1 != \"\") && <VsButton name={myButton1} onClick={() => { props.close(); props.func(myId, \"YES\"); }} />}\r\n\t\t\t{(myButton2 != \"\") && <VsButton name={myButton2} color='red' onClick={() => { props.close(); props.func(myId, \"NO\");  }} />}\r\n\t\t</div>\r\n\t)}\r\n\t\r\n\r\nexport function DisplayPatientDetails(props) {\r\n\tconst gClasses = globalStyles();\r\n\tlet _button1 = (props.button1 == null);\r\n\tlet _button2 = (props.button2 == null);\r\n\tlet _button3 = (props.button3 == null);\r\n\tlet _button4 = (props.button4 == null);\r\n\tlet _button5 = (props.button5 == null);\r\n\t//console.log(_button1, _button2, _button3, _button4, _button5);\r\nreturn (\r\n\t<Box className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t\t<div align=\"center\" >\r\n\t\t<Typography>\r\n\t\t<span className={gClasses.patientName}>{props.patient.displayName}</span>\r\n\t\t</Typography>\r\n\t\t</div>\r\n\t\t<div align=\"left\" >\r\n\t\t<Typography>\r\n\t\t\t<span className={gClasses.patientInfo}>Id: </span>\r\n\t\t\t<span className={gClasses.patientInfo2}>{props.patient.pid}</span>\r\n\t\t</Typography>\r\n\t\t<Typography> \r\n\t\t\t<span className={gClasses.patientInfo}>Age: </span>\r\n\t\t\t<span className={gClasses.patientInfo2}>{dispAge(props.patient.age, props.patient.gender)}</span>\r\n\t\t</Typography>\r\n\t\t<Typography > \r\n\t\t\t<span className={gClasses.patientInfo}>Email: </span>\r\n\t\t\t<span className={gClasses.patientInfo2}>{dispEmail(props.patient.email)}</span>\r\n\t\t</Typography>\r\n\t\t<Typography > \r\n\t\t\t<span className={gClasses.patientInfo}>Mob.: </span>\r\n\t\t\t<span className={gClasses.patientInfo2}>{dispMobile(props.patient.mobile)}</span>\r\n\t\t</Typography>\r\n\t\t<BlankArea />\r\n\t\t<div align=\"right\">\r\n\t\t{(!_button1) && props.button1}\r\n\t\t{(!_button2) && props.button2}\r\n\t\t{(!_button3) && props.button3}\r\n\t\t{(!_button4) && props.button4}\r\n\t\t{(!_button5) && props.button5}\r\n\t\t</div>\r\n\t</div>\r\n\t</Box>\r\n)}\r\n\r\nexport function DisplayPatientBox(props) {\r\n\tconst gClasses = globalStyles();\r\n\tlet _button1 = (props.button1 == null);\r\n\tlet _button2 = (props.button2 == null);\r\n\tlet _button3 = (props.button3 == null);\r\n\tlet _button4 = (props.button4 == null);\r\n\tlet _button5 = (props.button5 == null);\r\n\treturn (\r\n\t<Box className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t\t<div align=\"center\" >\r\n\t\t<Typography onClick={props.onClick} >\r\n\t\t<span className={gClasses.patientName} >{props.patient.displayName}</span>\r\n\t\t</Typography>\r\n\t\t</div>\r\n\t\t<div align=\"left\" >\r\n\t\t<Typography onClick={props.onClick} >\r\n\t\t\t<span className={gClasses.patientInfo}>Id: </span>\r\n\t\t\t<span className={gClasses.patientInfo2}>{props.patient.pid}</span>\r\n\t\t</Typography>\r\n\t\t<Typography onClick={props.onClick} > \r\n\t\t\t<span className={gClasses.patientInfo}>Age: </span>\r\n\t\t\t<span className={gClasses.patientInfo2}>{dispAge(props.patient.age, props.patient.gender)}</span>\r\n\t\t</Typography>\r\n\t\t<Typography onClick={props.onClick} > \r\n\t\t\t<span className={gClasses.patientInfo}>Email: </span>\r\n\t\t\t<span className={gClasses.patientInfo2}>{dispEmail(props.patient.email)}</span>\r\n\t\t</Typography>\r\n\t\t<Typography onClick={props.onClick} > \r\n\t\t\t<span className={gClasses.patientInfo}>Mob.: </span>\r\n\t\t\t<span className={gClasses.patientInfo2}>{dispMobile(props.patient.mobile)}</span>\r\n\t\t</Typography>\r\n\t\t<BlankArea />\r\n\t\t</div>\r\n\t\t<div align=\"right\">\r\n\t\t{(!_button1) && props.button1}\r\n\t\t{(!_button2) && props.button2}\r\n\t\t{(!_button3) && props.button3}\r\n\t\t{(!_button4) && props.button4}\r\n\t\t{(!_button5) && props.button5}\r\n\t\t</div>\r\n\t</Box>\r\n\t)}\r\n\r\nexport function DisplayMedicineDetails(props) {\r\n\tconst gClasses = globalStyles();\r\n\tlet _button1 = (props.button1 == null);\r\n\tlet _button2 = (props.button2 == null);\r\n\tlet _button3 = (props.button3 == null);\r\n\tlet _button4 = (props.button4 == null);\r\n\tlet _button5 = (props.button5 == null);\r\n\t//console.log(_button1, _button2, _button3, _button4, _button5);\r\nreturn (\r\n\t<Box className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t\t<div key={\"MEDDETAILS\"+props.medicine.name}align=\"center\" >\r\n\t\t<Typography>\r\n\t\t<span className={gClasses.patientName}>{props.medicine.name}</span>\r\n\t\t</Typography>\r\n\t\t</div>\r\n\t\t<div align=\"left\" >\r\n\t\t<Typography>\r\n\t\t\t<span className={gClasses.patientInfo}>Description: </span>\r\n\t\t\t<span className={gClasses.patientInfo2}>{props.medicine.description}</span>\r\n\t\t</Typography>\r\n\t\t<Typography> \r\n\t\t\t<span className={gClasses.patientInfo}>Precaution : </span>\r\n\t\t\t<span className={gClasses.patientInfo2}>{props.medicine.precaution}</span>\r\n\t\t</Typography>\r\n\t\t<BlankArea />\r\n\t\t<div align=\"right\">\r\n\t\t{(!_button1) && props.button1}\r\n\t\t{(!_button2) && props.button2}\r\n\t\t{(!_button3) && props.button3}\r\n\t\t{(!_button4) && props.button4}\r\n\t\t{(!_button5) && props.button5}\r\n\t\t</div>\r\n\t</div>\r\n\t</Box>\r\n)}\r\n\r\n\r\nexport function DisplayDocumentDetails(props) {\r\n\tconst gClasses = globalStyles();\r\n\tlet d = new Date(props.document.date);\r\n\tlet myDate = DATESTR[d.getDate()] + \"/\" + MONTHNUMBERSTR[d.getMonth()] + \"/\" + d.getFullYear();\r\n\tlet myTime = HOURSTR[d.getHours()] + \":\" + MINUTESTR[d.getMinutes()];\r\n\tlet _button1 = (props.button1 == null);\r\n\tlet _button2 = (props.button2 == null);\r\n\tlet _button3 = (props.button3 == null);\r\n\tlet _button4 = (props.button4 == null);\r\n\tlet _button5 = (props.button5 == null);\r\n\t//console.log(_button1, _button2, _button3, _button4, _button5);\r\n\tlet _notbrief = (props.brief == null)\r\nreturn (\r\n\t<Box className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t\t{(_notbrief) &&\r\n\t\t\t<div>\r\n\t\t\t<div align=\"center\" >\r\n\t\t\t<Typography>\r\n\t\t\t<span className={gClasses.patientName}>{props.document.title}</span>\r\n\t\t\t</Typography>\r\n\t\t\t</div>\r\n\t\t\t<div align=\"left\" >\r\n\t\t\t<Typography>\r\n\t\t\t\t<span className={gClasses.patientInfo}>Date: </span>\r\n\t\t\t\t<span className={gClasses.patientInfo2}>{myDate+' '+myTime}</span>\r\n\t\t\t</Typography>\r\n\t\t\t<Typography>\r\n\t\t\t\t<span className={gClasses.patientInfo}>Desc: </span>\r\n\t\t\t\t<span className={gClasses.patientInfo2}>{props.document.desc}</span>\r\n\t\t\t</Typography>\r\n\t\t\t<Typography> \r\n\t\t\t\t<span className={gClasses.patientInfo}>Type: </span>\r\n\t\t\t\t<span className={gClasses.patientInfo2}>{props.document.type}</span>\r\n\t\t\t</Typography>\r\n\t\t\t<BlankArea />\r\n\t\t\t</div>\r\n\t\t\t<div align=\"right\">\r\n\t\t\t\t{(!_button1) && props.button1}\r\n\t\t\t\t{(!_button2) && props.button2}\r\n\t\t\t\t{(!_button3) && props.button3}\r\n\t\t\t\t{(!_button4) && props.button4}\r\n\t\t\t\t{(!_button5) && props.button5}\r\n\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t}\r\n\t\t{(!_notbrief) &&\r\n\t\t\t<Typography>\r\n\t\t\t<span className={gClasses.patientName}>{props.document.title} {props.button1}</span>\r\n\t\t\t</Typography>\r\n\t\t}\r\n\t</Box>\r\n)}\r\n\r\n\r\nexport function DisplayAppointmentDetails(props) {\r\n\tconst gClasses = globalStyles();\r\n\tlet d = new Date(props.appointment.apptTime);\r\n\t\r\n\tlet myDate = DATESTR[d.getDate()] + \"/\" +\r\n\t\tMONTHNUMBERSTR[d.getMonth()] + \"/\" +\r\n\t\td.getFullYear();\r\n\t\t\r\n\tlet myTime = HOURSTR[d.getHours()] + \":\" + MINUTESTR[d.getMinutes()];\r\n\t\t\r\n\tlet _button1 = (props.button1 == null);\r\n\tlet _button2 = (props.button2 == null);\r\n\tlet _button3 = (props.button3 == null);\r\n\tlet _button4 = (props.button4 == null);\r\n\tlet _button5 = (props.button5 == null);\r\n\t//console.log(_button1, _button2, _button3, _button4, _button5);\r\nreturn (\r\n\t<Box className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t\t<div align=\"center\" >\r\n\t\t<Typography>\r\n\t\t<span className={gClasses.patientName}>{props.appointment.displayName}</span>\r\n\t\t</Typography>\r\n\t\t</div>\r\n\t\t<div align=\"left\" >\r\n\t\t<Typography>\r\n\t\t\t<span className={gClasses.patientInfo}>Id: </span>\r\n\t\t\t<span className={gClasses.patientInfo2}>{props.appointment.pid}</span>\r\n\t\t</Typography>\r\n\t\t<Typography> \r\n\t\t\t<span className={gClasses.patientInfo}>Date: </span>\r\n\t\t\t<span className={gClasses.patientInfo2}>{myDate}</span>\r\n\t\t</Typography>\r\n\t\t<Typography > \r\n\t\t\t<span className={gClasses.patientInfo}>Time: </span>\r\n\t\t\t<span className={gClasses.patientInfo2}>{myTime}</span>\r\n\t\t</Typography>\r\n\t\t<BlankArea />\r\n\t\t<div align=\"right\">\r\n\t\t{(!_button1) && props.button1}\r\n\t\t{(!_button2) && props.button2}\r\n\t\t{(!_button3) && props.button3}\r\n\t\t{(!_button4) && props.button4}\r\n\t\t{(!_button5) && props.button5}\r\n\t\t</div>\r\n\t</div>\r\n\t</Box>\r\n)}\r\n\r\n\r\nexport function DisplayAppointmentBox(props) {\r\n\tconst gClasses = globalStyles();\r\n\tlet d = new Date(props.appointment.apptTime);\r\n\t\r\n\tlet myDate = DATESTR[d.getDate()] + \"/\" +\r\n\t\tMONTHNUMBERSTR[d.getMonth()] + \"/\" +\r\n\t\td.getFullYear();\r\n\t\t\r\n\tlet myTime = HOURSTR[d.getHours()] + \":\" + MINUTESTR[d.getMinutes()];\r\n\t\t\r\n\tlet _button1 = (props.button1 == null);\r\n\tlet _button2 = (props.button2 == null);\r\n\tlet _button3 = (props.button3 == null);\r\n\tlet _button4 = (props.button4 == null);\r\n\tlet _button5 = (props.button5 == null);\r\n\t//console.log(_button1, _button2, _button3, _button4, _button5);\r\nreturn (\r\n\t<Box className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t\t<Typography> \r\n\t\t<span className={gClasses.patientName}>{\"Appt.: \"}</span>\r\n\t\t<span className={gClasses.patientInfo2}>{myDate+\" \"+myTime}</span>\r\n\t\t<span className={gClasses.patientInfo2}>\r\n\t\t\t\t{(!_button1) && props.button1}\r\n\t\t\t\t{(!_button2) && props.button2}\r\n\t\t\t\t{(!_button3) && props.button3}\r\n\t\t\t\t{(!_button4) && props.button4}\r\n\t\t\t\t{(!_button5) && props.button5}\r\n\t\t</span>\r\n\t\t</Typography>\r\n\t</Box>\r\n)}\r\n\r\nexport function DisplayHolidayDetails(props) {\r\n\tconst gClasses = globalStyles();\r\n\t\r\n\tlet myDate = ordinalSuffix(props.holiday.date) + \" \" + MONTHSTR[props.holiday.month] + \" \" + props.holiday.year;\r\n\t\t\r\n\tlet _button1 = (props.button1 == null);\r\n\tlet _button2 = (props.button2 == null);\r\n\tlet _button3 = (props.button3 == null);\r\n\tlet _button4 = (props.button4 == null);\r\n\tlet _button5 = (props.button5 == null);\r\n\t//console.log(_button1, _button2, _button3, _button4, _button5);\r\nreturn (\r\n\t<Box className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t\t<div align=\"center\">\r\n\t\t\t<Typography>\r\n\t\t\t<span className={gClasses.patientName}>{myDate}</span>\r\n\t\t\t</Typography>\r\n\t\t</div>\r\n\t\t<div align=\"left\">\r\n\t\t\t<Typography > \r\n\t\t\t<span className={gClasses.patientInfo}>Desc: </span>\r\n\t\t\t<span className={gClasses.patientInfo2}>{props.holiday.desc}</span>\r\n\t\t</Typography>\r\n\t\t</div>\r\n\t\t<div align=\"right\">\r\n\t\t\t{(!_button1) && props.button1}\r\n\t\t\t{(!_button2) && props.button2}\r\n\t\t\t{(!_button3) && props.button3}\r\n\t\t\t{(!_button4) && props.button4}\r\n\t\t\t{(!_button5) && props.button5}\r\n\t\t</div>\r\n\t</Box>\r\n)}\r\n\r\n\r\nexport function DisplayPatientName(props) {\r\n\tlet myText = props.name;\r\n\tif (props.id) myText + \" (Id: \" + props.id\r\nreturn (\r\n<Typography></Typography>\r\n)}\r\n\r\n\r\nexport function DisplayDocumentList(props) {\r\n const classes = useStyles();\r\n const gClasses = globalStyles();\r\n if (props.documentArray.length === 0) \r\n\t return <Box className={classes.allBlue} width=\"100%\"><Typography>No Reports avaialble</Typography></Box>\r\n \r\n //console.log(props.documentArray);\r\nlet _view = (props.viewHandle == null);\r\nlet _reload = (props.reloadHandle == null);\r\nlet _del = (props.deleteHandle == null);\r\nlet cmdCount = 0;\r\nif (!_view) ++cmdCount;\r\nif (!_reload) ++cmdCount;\r\nif (!_del) ++cmdCount;\r\nreturn (\t\r\n<Box className={classes.allBlue} width=\"100%\">\r\n\t\t<TableContainer>\r\n\t\t<Table style={{ width: '100%' }}>\r\n\t\t<TableHead>\r\n\t\t\t<TableRow align=\"center\">\r\n\t\t\t\t<TableCell key={\"TH1\"} colSpan={5+cmdCount} component=\"th\" scope=\"row\" align=\"center\" padding=\"none\"\r\n\t\t\t\tclassName={classes.th} >\r\n\t\t\t\tMedical Reports\r\n\t\t\t\t</TableCell>\r\n\t\t\t</TableRow>\r\n\t\t\t<TableRow align=\"center\">\r\n\t\t\t\t<TableCell key={\"TH21\"} component=\"th\" scope=\"row\" align=\"center\" padding=\"none\"\r\n\t\t\t\tclassName={classes.th} >\r\n\t\t\t\tDate\r\n\t\t\t\t</TableCell>\r\n\t\t\t\t<TableCell key={\"TH22\"} component=\"th\" scope=\"row\" align=\"center\" padding=\"none\"\r\n\t\t\t\tclassName={classes.th} >\r\n\t\t\t\t\tTitle\r\n\t\t\t\t</TableCell>\r\n\t\t\t\t<TableCell key={\"TH23\"} component=\"th\" scope=\"row\" align=\"center\" padding=\"none\"\r\n\t\t\t\tclassName={classes.th} >\r\n\t\t\t\tDescription\r\n\t\t\t\t</TableCell>\r\n\t\t\t\t<TableCell key={\"TH24\"} component=\"th\" scope=\"row\" align=\"center\" padding=\"none\"\r\n\t\t\t\tclassName={classes.th} >\r\n\t\t\t\tType\r\n\t\t\t\t</TableCell>\r\n\t\t\t\t<TableCell key={\"TH25\"} component=\"th\" scope=\"row\" align=\"center\" padding=\"none\"\r\n\t\t\t\tclassName={classes.th} >\r\n\t\t\t\tName\r\n\t\t\t\t</TableCell>\r\n\t\t\t\t{(cmdCount > 0) &&\r\n\t\t\t\t\t<TableCell colSpan={3} key={\"TH31\"} component=\"th\" scope=\"row\" align=\"center\" padding=\"none\"\r\n\t\t\t\t\tclassName={classes.th} >\r\n\t\t\t\t\tcmds\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t}\r\n\t\t\t</TableRow>\r\n\t\t</TableHead>\r\n\t\t<TableBody>  \r\n\t\t{props.documentArray.map( (a, index) => {\r\n\t\t\t//let myExpiry = getOnlyDate(a.expiryDate);\r\n\t\t\tlet myClass = classes.tdBlue;\r\n\t\t\treturn(\r\n\t\t\t\t<TableRow align=\"center\" key={\"TROW\"+index}>\r\n\t\t\t\t<TableCell key={\"TD1\"+index} align=\"center\" component=\"td\" scope=\"row\" align=\"center\" padding=\"none\"\r\n\t\t\t\t\tclassName={myClass}>\r\n\t\t\t\t\t<Typography className={classes.apptName}>\r\n\t\t\t\t\t\t{getOnlyDate(a.date)}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</TableCell>\r\n\t\t\t\t<TableCell key={\"TD2\"+index} align=\"center\" component=\"td\" scope=\"row\" align=\"center\" padding=\"none\"\r\n\t\t\t\t\tclassName={myClass}>\r\n\t\t\t\t\t<Typography className={classes.apptName}>\r\n\t\t\t\t\t\t{a.title}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</TableCell>\r\n\t\t\t\t<TableCell key={\"TD3\"+index} align=\"center\" component=\"td\" scope=\"row\" align=\"center\" padding=\"none\"\r\n\t\t\t\t\tclassName={myClass}>\r\n\t\t\t\t\t<Typography className={classes.apptName}>\r\n\t\t\t\t\t\t{a.desc}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</TableCell>\r\n\t\t\t\t<TableCell key={\"TD4\"+index} align=\"center\" component=\"td\" scope=\"row\" align=\"center\" padding=\"none\"\r\n\t\t\t\t\tclassName={myClass}>\r\n\t\t\t\t\t<Typography className={classes.apptName}>\r\n\t\t\t\t\t\t{a.type}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</TableCell>\r\n\t\t\t\t<TableCell key={\"TD5\"+index} align=\"center\" component=\"td\" scope=\"row\" align=\"center\" padding=\"none\"\r\n\t\t\t\t\tclassName={myClass}>\r\n\t\t\t\t\t<Typography className={classes.apptName}>\r\n\t\t\t\t\t\t{a.name}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</TableCell>\r\n\t\t\t\t{(!_view) &&\r\n\t\t\t\t<TableCell key={\"TD11\"+index} align=\"center\" component=\"td\" scope=\"row\" align=\"center\" padding=\"none\"\r\n\t\t\t\t\tclassName={myClass}>\r\n\t\t\t\t\t\t<IconButton className={gClasses.blue} size=\"small\" onClick={() => {props.viewHandle(a)}} >\r\n\t\t\t\t\t\t\t<VisibilityIcon\t />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t</TableCell>\r\n\t\t\t\t}\r\n\t\t\t\t{(!_reload) &&\r\n\t\t\t\t<TableCell key={\"TD12\"+index} align=\"center\" component=\"td\" scope=\"row\" align=\"center\" padding=\"none\"\r\n\t\t\t\t\tclassName={myClass}>\r\n\t\t\t\t\t\t<Typography className={classes.link}>\r\n\t\t\t\t\t\t<Link href=\"#\" variant=\"body2\" onClick={() => {props.reloadHandle(a)}}>Reload</Link>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t</TableCell>\r\n\t\t\t\t}\r\n\t\t\t\t{(!_del) &&\r\n\t\t\t\t<TableCell key={\"TD13\"+index} align=\"center\" component=\"td\" scope=\"row\" align=\"center\" padding=\"none\"\r\n\t\t\t\t\tclassName={myClass}>\r\n\t\t\t\t\t\t<IconButton color=\"secondary\" size=\"small\" onClick={() => {props.deleteHandle(a)}} >\r\n\t\t\t\t\t\t\t<DeleteIcon\t />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t</TableCell>\r\n\t\t\t\t}\r\n\t\t\t\t</TableRow>\r\n\t\t)})}\r\n\t\t</TableBody> \r\n\t\t</Table>\r\n\t\t</TableContainer>\r\n\t</Box>\t\r\n)}\r\n\t\r\nexport function DisplayUserDetails(props) {\r\n\tconst gClasses = globalStyles();\r\n\tlet _button1 = (props.button1 == null);\r\n\tlet _button2 = (props.button2 == null);\r\n\tlet _button3 = (props.button3 == null);\r\n\tlet _button4 = (props.button4 == null);\r\n\tlet _button5 = (props.button5 == null);\r\n\t//console.log(_button1, _button2, _button3, _button4, _button5);\r\nreturn (\r\n\t<Box className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t\t<div align=\"center\" >\r\n\t\t<Typography>\r\n\t\t<span className={gClasses.patientName}>{props.user.displayName}</span>\r\n\t\t</Typography>\r\n\t\t</div>\r\n\t\t<div align=\"left\" >\r\n\t\t<Typography > \r\n\t\t\t<span className={gClasses.patientInfo}>Email: </span>\r\n\t\t\t<span className={gClasses.patientInfo2}>{dispEmail(props.user.email)}</span>\r\n\t\t</Typography>\r\n\t\t<Typography > \r\n\t\t\t<span className={gClasses.patientInfo}>Mob.: </span>\r\n\t\t\t<span className={gClasses.patientInfo2}>{dispMobile(props.user.mobile)}</span>\r\n\t\t</Typography>\r\n\t\t<BlankArea />\r\n\t\t<div align=\"right\">\r\n\t\t{(!_button1) && props.button1}\r\n\t\t{(!_button2) && props.button2}\r\n\t\t{(!_button3) && props.button3}\r\n\t\t{(!_button4) && props.button4}\r\n\t\t{(!_button5) && props.button5}\r\n\t\t</div>\r\n\t</div>\r\n\t</Box>\r\n)}\r\n\r\nexport function DisplayImage(props) {\r\nconst classes = useStyles();\r\n//console.log(props);\r\nreturn(\t\r\n<Box align=\"center\" width=\"100%\">\r\n\t<Typography className={classes.title}>{\"Medical Report Title: \"+props.title}</Typography>\r\n\t<BlankArea />\r\n\t<img src={`data:${props.mime};base64,${props.file}`}/>\r\n</Box>\r\n)}\r\n\t\r\nexport function DisplayPDF(props) {\r\n\tconst classes = useStyles();\r\n\treturn(\t\r\n\t<Box align=\"center\" width=\"100%\">\r\n\t\t<Typography className={classes.title}>{\"Medical Report Title: \"+props.title}</Typography>\r\n\t\t<BlankArea />\r\n\t\t<PDFViewer \r\n\t\t\tdocument={{base64: props.file }}\r\n\t\t/>\r\n\t</Box>\r\n\t)}\r\n\r\nexport function LoadingMessage() {\r\nreturn(\r\n<div align=\"center\">\r\n\t<Typography>Sorry to keep you waiting. Just give a moment. Loading information from server.....</Typography>\r\n</div>\r\n)}\r\n\r\n","import React from 'react';\r\nimport 'react-confirm-alert/src/react-confirm-alert.css'; // Import css\r\n\r\nexport const SupportedMimeTypes = [\"image/png\",  \"image/jpeg\", \"application/pdf\"]\r\nexport const SupportedExtensions = [\"PNG\",  \"JPG\", \"PDF\"];\r\n\r\nexport const str1by4 = String.fromCharCode(188)\r\nexport const str1by2 = String.fromCharCode(189)\r\nexport const str3by4 = String.fromCharCode(190)\r\nexport const INR = String.fromCharCode(8377)\r\n\r\nexport const VISITTYPE = {pending: \"pending\", expired: \"expired\", cancelled: \"cancelled\", visit: \"\"};\r\nexport const WALLETTYPE = {all: \"all\", wallet: \"wallet\", bonus: \"bonus\"};\r\n\r\nexport const WEEKSTR = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\r\nexport const SHORTWEEKSTR = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\r\nexport const MONTHSTR = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\r\n\t\t\t\t\t\t\t\"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\t\r\nexport const SHORTMONTHSTR = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oc\", \"Nov\", \"Dec\"];\t\r\n\r\nexport const HOURSTR = [\r\n\"00\", \r\n\"01\", \"02\", \"03\", \"04\", \"05\", \"06\", \"07\", \"08\", \"09\", \"10\",\r\n\"11\", \"12\", \"13\", \"14\", \"15\", \"16\", \"17\", \"18\", \"19\", \"20\",\r\n\"21\", \"22\", \"23\"\r\n];\r\n\r\nexport const MINUTESTR = [\r\n\"00\", \"01\", \"02\", \"03\", \"04\", \"05\", \"06\", \"07\", \"08\", \"09\",\r\n\"10\", \"11\", \"12\", \"13\", \"14\", \"15\", \"16\", \"17\", \"18\", \"19\",\r\n\"20\", \"21\", \"22\", \"23\", \"24\", \"25\", \"26\", \"27\", \"28\", \"29\", \r\n\"30\", \"31\", \"32\", \"33\", \"34\", \"35\", \"36\", \"37\", \"38\", \"39\", \r\n\"40\", \"41\", \"42\", \"43\", \"44\", \"45\", \"46\", \"47\", \"48\", \"49\", \r\n\"50\", \"51\", \"52\", \"53\", \"54\", \"55\", \"56\", \"57\", \"58\", \"59\"\r\n];\r\n\r\nexport const MINUTEBLOCK=[0, 15, 30, 45];\r\n\r\nexport const DATESTR = [\r\n\"00\",\r\n\"01\", \"02\", \"03\", \"04\", \"05\", \"06\", \"07\", \"08\", \"09\", \"10\",\r\n\"11\", \"12\", \"13\", \"14\", \"15\", \"16\", \"17\", \"18\", \"19\", \"20\",\r\n\"21\", \"22\", \"23\", \"24\", \"25\", \"26\", \"27\", \"28\", \"29\", \"30\",\r\n\"31\"\t\t\t\t\t\t\t\r\n];\r\n\r\n//in date function 0 represents JAN I.e. month number 1\r\nexport const MONTHNUMBERSTR = [\"01\", \"02\", \"03\", \"04\", \"05\", \"06\", \"07\", \"08\", \"09\", \"10\", \"11\", \"12\"]\r\n\r\nexport const BLOCKNUMBER={\r\nallBlockStart: 0,\r\nallBlockEnd: 95,\r\nmorningBlockStart: 0,\r\nmorningBlockEnd: 47,\r\nafternoonBlockStart: 48,\r\nafternoonBlockEnd: 63,\r\neveningBlockStart: 64,\r\neveningBlockEnd: 95,\r\n}\r\n\r\nexport const dialogOptions={\r\n  title: 'Title',\r\n  message: 'Message',\r\n  buttons: [\r\n    {label: 'Yes', onClick: () => alert('Click Yes')},\r\n    {label: 'No',  onClick: () => alert('Click No')}\r\n  ],\r\n  childrenElement: () => <div />,\r\n  //customUI: ({ onClose }) => <div>Custom UI</div>,\r\n  closeOnEscape: false,\r\n  closeOnClickOutside: false,\r\n  willUnmount: () => {},\r\n  afterClose: () => {},\r\n  onClickOutside: () => {},\r\n  onKeypressEscape: () => {},\r\n  overlayClassName: \"overlay-custom-class-name\"\r\n}\r\n\r\n// for dental\r\n\r\nexport const ToothLeft =\t\t[8,7,6,5,4,3,2,1];\r\nexport const ToothRight =\t\t[1,2,3,4,5,6,7,8];\r\n\r\nexport const ToothNumber = {\r\n\tupperLeft:  [18, 17, 16, 15, 14, 13, 12, 11],\r\n\tupperRight: [28, 27, 26, 25, 24, 23, 22, 21],\r\n\tlowerRight: [38, 37, 36, 35, 34, 33, 32, 31],\r\n\tlowerLeft:  [48, 47, 46, 45, 44, 43, 42, 41]\r\n}\r\n\r\nexport const ToothRange = {\r\n\tupperLeft:  {start: 11, end: 18},\r\n\tupperRight: {start: 21, end: 28},\r\n\tlowerRight: {start: 31, end: 38},\r\n\tlowerLeft:  {start: 41, end: 48}\r\n}","import React from 'react';\r\nimport Box from '@material-ui/core/Box';\r\n//import Typography from '@material-ui/core/Typography';\r\n// icons\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\n\r\n\r\n\r\n//colours \r\n//import {  blue, yellow } from '@material-ui/core/colors';\r\n\r\n\r\nfunction dummy() {\r\n\t//alert(\"disabled\");\r\n}\r\n\r\nfunction arunSelect(x) { console.log(\"sel\", x) };\r\nfunction arunDelete(x) { console.log(\"del\", x) };\r\n//var liStyle = {padding: \"5px 10px\", margin: \"4px 2px\", color: 'black', fontSize:'16px', borderRadius: 7, border: 2};\r\n\r\nexport default function VsList(props) {\r\nvar bStyle = \r\n{padding: \"5px 5px\", margin: \"2px 2px\", \r\ncolor: 'blue', \r\n//backgroundColor: 'lightGrey',\r\nfontSize:'16px', \r\nfoneWeight: 'bold',\r\nborderRadius:7, \r\nborder: 2\r\n};\r\n\r\n//let _align = (props.align == null) ? \"center\" : props.align;\r\nlet _select = arunSelect;\t\t//(props.onClick == null) ? dummy : props.onSelect;\r\nlet _delete = arunDelete;\t\t//((props.onClick == null) ? dummy : props.onDelete;\r\nreturn (\r\n\t<div align=\"left\">\r\n\t{props.listArray.map( item =>\r\n\t\t<Box borderColor=\"black\" borderRadius={20} border={1} >\r\n\t\t<span style={bStyle} onClick={() => props.onSelect(item) } >\r\n\t\t\t{item.name}\r\n\t\t</span>\r\n\t\t<span style={bStyle} onClick={() => props.onDelete(item) }>\r\n\t\t\t<IconButton color=\"secondary\" size=\"small\" >\r\n\t\t\t\t<CancelIcon />\r\n\t\t\t</IconButton>\t\r\n\t\t</span>\r\n\t\t</Box>\r\n\t)}\t\r\n\t</div>\r\n\t)\r\n}\r\n\r\n","import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport globalStyles from \"assets/globalStyles\";\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core//Checkbox';\r\n\r\nexport default function VsCheckBox(props) {\r\nconst gClasses = globalStyles();\r\nlet _align = (props.align == null) ? 'center' : props.align;\r\nreturn (\r\n\t<div align={_align} >\r\n\t <FormControlLabel \r\n\t\tcontrol={\r\n\t\t <Checkbox checked={props.checked}  onClick={props.onClick} className={gClasses.blueCheckBox} />\r\n\t\t} \r\n\t\tlabel={\r\n\t\t <Typography className={gClasses.blueCheckBoxLabel}>\r\n\t\t {props.label} \r\n\t\t </Typography>\r\n\t\t }\r\n\t\t/>\r\n\t</div>\r\n\t)\r\n}\r\n\r\n","import React from 'react';\r\nimport Box from '@material-ui/core/Box';\r\nimport globalStyles from \"assets/globalStyles\";\r\nimport { TextValidator} from 'react-material-ui-form-validator';\r\nimport { InputAdornment } from '@material-ui/core';\r\n//import IconButton from '@material-ui/core/IconButton';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\n\r\n\r\n//function arunSelect(x) { console.log(\"sel\", x) };\r\n\r\nexport default function VsTextFilter(props) {\r\nconst gClasses = globalStyles();\r\nlet _type = (props.type == null) ? 'text' : props.type;\r\nreturn (\r\n\t<TextValidator required fullWidth color=\"primary\" className={gClasses.vgSpacing}\r\n\t\tlabel={props.label} required type={_type} onChange={props.onChange} value={props.value}\r\n\t\tInputProps={\r\n\t\t\t{\r\n\t\t\t\tendAdornment: (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t<InputAdornment position=\"end\"><ClearIcon onClick={props.onClear} /></InputAdornment>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t/>\r\n)\r\n}\r\n\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { InputAdornment, makeStyles, Container, CssBaseline } from '@material-ui/core';\r\nimport axios from \"axios\";\r\nimport SwitchBtn from '@material-ui/core/Switch';\r\nimport { usePromiseTracker, trackPromise } from \"react-promise-tracker\";\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport Radio from '@material-ui/core/Radio';\r\n\r\nimport VsButton from \"CustomComponents/VsButton\";\r\nimport VsCancel from \"CustomComponents/VsCancel\";\r\nimport VsList from \"CustomComponents/VsList\";\r\nimport VsCheckBox from \"CustomComponents/VsCheckBox\";\r\nimport VsTextFilter from \"CustomComponents/VsTextFilter\";\r\n\r\nimport { useLoading, Audio } from '@agney/react-loading';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport { useAlert } from 'react-alert'\r\nimport fileDownload  from 'js-file-download';\r\nimport fs from 'fs';\r\nimport _ from 'lodash';\r\n\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport Box from '@material-ui/core/Box';\r\nimport Modal from 'react-modal';\r\nimport { borders } from '@material-ui/system';\r\nimport {dynamicModal } from \"assets/dynamicModal\";\r\nimport cloneDeep from 'lodash/cloneDeep';\r\n//import StepProgressBar from 'react-step-progress';\r\n// import the stylesheet\r\nimport 'react-step-progress/dist/index.css';\r\n\r\n// styles\r\nimport globalStyles from \"assets/globalStyles\";\r\nimport modalStyles from \"assets/modalStyles\";\r\n\r\n// icons\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport LocalHospitalIcon from '@material-ui/icons/LocalHospital';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport EventNoteIcon from '@material-ui/icons/EventNote';\r\nimport AddIcon from '@material-ui/icons/AddCircleOutline';\r\nimport LeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport RightIcon from '@material-ui/icons/ChevronRight';\r\n\r\nimport Switch from \"@material-ui/core/Switch\";\r\n\r\n\r\nimport Link from '@material-ui/core/Link';\r\nimport Card from \"components/Card/Card.js\";\r\nimport CardBody from \"components/Card/CardBody.js\";\r\nimport Avatar from \"@material-ui/core/Avatar\"\r\n// import CardAvatar from \"components/Card/CardAvatar.js\";\r\n// import { useHistory } from \"react-router-dom\";\r\n// import { UserContext } from \"../../UserContext\";\r\n\r\nimport {DisplayYesNo, DisplayPageHeader, ValidComp, BlankArea,\r\nDisplayPatientDetails,\r\nDisplayDocumentList,\r\nDisplayImage, DisplayPDF,\r\nLoadingMessage,\r\nDisplayDocumentDetails,\r\n} from \"CustomComponents/CustomComponents.js\"\r\n\r\nimport {\r\nSupportedMimeTypes, SupportedExtensions,\r\nstr1by4, str1by2, str3by4,\r\nHOURSTR, MINUTESTR, DATESTR, MONTHNUMBERSTR, MONTHSTR,\r\n} from \"views/globals.js\";\r\n\r\n// icons\r\nimport FileCopyIcon from '@material-ui/icons/FileCopy';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\n//import DeleteIcon from '@material-ui/icons/Delete';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport DeleteIcon from '@material-ui/icons/Cancel';\r\nimport VisibilityIcon from '@material-ui/icons/Visibility';\r\n\r\n\r\n//colours \r\nimport { red, blue \r\n} from '@material-ui/core/colors';\r\n\r\nimport { callYesNo, \r\n\tdownloadVisit,\r\n\tencrypt, decrypt, \r\n\tvalidateInteger,\r\n\tupdatePatientByFilter,\r\n\tdispAge, dispEmail, dispMobile,\r\n\tgetPatientDocument,\r\n\tstringToBase64,\r\n\tvsDialog,\r\n\tordinalSuffix,\r\n} from \"views/functions.js\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tslotTitle: {\r\n\t\tcolor: 'green',\r\n\t\tfontSize: theme.typography.pxToRem(28),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tpadding: \"10px 10px\", \r\n\t\tmargin: \"10px 10px\", \r\n\t},\r\n\tpatientName: {\r\n\t\tfontSize: theme.typography.pxToRem(16),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\t\r\n\t\tcolor: 'blue',\r\n\t},\r\n\tpatientInfo: {\r\n\t\tfontSize: theme.typography.pxToRem(14),\r\n\t},\r\n\tmurItem: {\r\n\t\tfontSize: theme.typography.pxToRem(15),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tpaddingRight: '10px',\r\n\t},\r\n    root: {\r\n      width: '100%',\r\n    }, \r\n    info: {\r\n        color: blue[700],\r\n    },     \r\n    header: {\r\n\t\t\tcolor: '#D84315',\r\n    }, \r\n    error:  {\r\n      // right: 0,\r\n      fontSize: '12px',\r\n      color: red[700],\r\n      // position: 'absolute',\r\n      alignItems: 'center',\r\n      marginTop: '0px',\r\n\t\t},\r\n\t\teditdelete: {\r\n\t\t\tmarginLeft:  '50px',\r\n\t\t\tmarginRight: '50px',\r\n\t\t},\r\n\t\tNoMedicines: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: blue[700]\r\n\t\t},  \r\n\t\tradio: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: \"blue\",\r\n\t\t},\r\n\t\tmedicine: {\r\n\t\t\tfontSize: theme.typography.pxToRem(15),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: blue[700]\r\n\t\t},  \r\n\t\tmodalHeader: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: blue[700]\r\n\t\t},\r\n\t\tmessageText: {\r\n\t\t\tcolor: '#4CC417',\r\n\t\t\tfontSize: 12,\r\n\t\t\t// backgroundColor: green[700],\r\n    },\r\n    symbolText: {\r\n        color: '#4CC417',\r\n        // backgroundColor: green[700],\r\n    },\r\n    button: {\r\n\t\t\tmargin: theme.spacing(0, 1, 0),\r\n    },\r\n\t\treviewDate: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: 'blue',\r\n\t\t\tmarginBottom: '50px',\r\n\t\t},\r\n\t\ttitle: {\r\n\t\t\tfontSize: theme.typography.pxToRem(15),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: blue[700],\r\n\t\t},\r\n    heading: {\r\n\t\t\tfontSize: theme.typography.pxToRem(15),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t},\r\n\t\tselectedAccordian: {\r\n\t\t\t//backgroundColor: '#B2EBF2',\r\n\t\t},\r\n\t\tnormalAccordian: {\r\n\t\t\tbackgroundColor: '#FFE0B2',\r\n\t\t},\r\n    secondaryHeading: {\r\n      fontSize: theme.typography.pxToRem(15),\r\n      color: theme.palette.text.secondary,\r\n    },\r\n\t\tnoPadding: {\r\n\t\t\tpadding: '1px', \r\n\t\t}\r\n  }));\r\n\r\nconst addEditModal = dynamicModal('60%');\r\nconst yesNoModal = dynamicModal('60%');\r\n\r\nconst COUNTPERPAGE=10;\r\n// set-up the step content\r\nconst step1Content = <h1>Request to server</h1>;\r\nconst step2Content = <h1>Geneate visit document</h1>;\r\nconst step3Content = <h1>Download visit document</h1>;\r\n\r\nlet test=[];\r\nlet medQty=[];\r\nconst timeArray=[1, 2, 3, 4, 5, 6];\r\nconst unitArray=[\"Day\", \"Week\", \"Month\"];\r\n\r\nfunction setMedQty() {\r\n\tmedQty = [];\r\n\tfor(let i=0; i<=4; ++i) {\r\n\t\tmedQty.push({num: i, str: medStr(i)});\r\n\t}\r\n}\r\n\r\nfunction medStr(qtyNum) {\r\n\tif (qtyNum == 0) return \"0\";\r\n\tvar retStr = (qtyNum >= 2) ? Math.floor(qtyNum / 2).toString() : \"\";\r\n\tswitch (qtyNum % 2) \r\n\t{\r\n\t\tcase 1: retStr += str1by2; break;\r\n\t\t//case 2: retStr += str1by2; break;\r\n\t\t//case 3: retStr += str3by4; break;\r\n\t}\r\n\treturn retStr;\r\n}\r\n\r\nfunction dose(dose1, dose2, dose3) {\r\n\t//dose3 = 3;\r\n\treturn (medStr(dose1) + \"-\" + medStr(dose2) + \"-\" + medStr(dose3));\r\n}\r\n\r\nlet searchText = \"\";\r\nfunction setSearchText(sss) { searchText = sss;}\r\n\r\n\r\nvar userCid;\r\nexport default function Visit(props) {\r\n  \r\n  const classes = useStyles();\r\n\tconst gClasses = globalStyles();\r\n\tconst alert = useAlert();\r\n\t\r\n\tconst [currentSelection, setCurrentSelection] = useState(\"Medicine\");\r\n\tconst [visitIndex, setVisitIndex] = useState(0);\r\n\tconst [remember, setRemember] = useState(false);\r\n\t\r\n\tconst [filterItem, setFilterItem] = useState(\"\");\r\n\tconst [filterItemText, setFilterItemText] = useState(\"\");\r\n\tconst [filterItemArray, setFilterItemArray] = useState([]);\r\n\t\r\n\tconst [isDrawerOpened, setIsDrawerOpened] = useState(\"\");\r\n\tconst [isListDrawer, setIsListDrawer] = useState(\"\");\r\n\tconst [selectPatient, setSelectPatient] = useState(false);\r\n  const [patientArray, setPatientArray] = useState([])\r\n\tconst [patientMasterArray, setPatientMasterArray] = useState([])\r\n\tconst [currentPatient, setCurrentPatient] = useState(\"\");\r\n\tconst [currentPatientData, setCurrentPatientData] = useState({});\r\n\t\r\n\tconst [startLoading, setStartLoading] = useState(false);\r\n\t\r\n\tconst [showDocument, setShowDocument] = useState(false);\r\n\tconst [documentArray, setDocumentArray] = useState([]);\r\n\t\r\n\r\n\tconst [dlMime, setDlMime] = useState(\"\");\r\n\tconst [dlFile, setDlFile] = useState(\"\");\r\n\tconst [isPdf, setIsPdf] = useState(false);\r\n\tconst [dlSrc, setDlSrc] = useState(\"\");\r\n\tconst [dlDoc, setDlDoc] = useState({});\r\n\tconst [viewImage, setViewImage] = useState(false);\r\n\t\r\n\tconst [medicineArray, setMedicineArray] = useState([])\r\n\tconst [noteArray, setNoteArray] = useState([]);\r\n\tconst [remarkArray, setRemarkArray] = useState([{name: \"Rem1\"}, {name: \"Rem2\"}]);\r\n\t\r\n\t//const [currentAppt, setCurrentAppt] = useState(null);\r\n\tconst [visitArray, setVisitArray] = useState([])\r\n\r\n\tconst [nextVisitTime, setNextVisitTime] = useState(2);\r\n\tconst [nextVisitUnit, setNextVisitUnit] = useState(unitArray[1]);\r\n\t\r\n\tconst [addEditNotes, setAddEditNotes] = useState(false);\r\n\t\r\n\tconst [standard, setStandard] = useState(true);\r\n\tconst [info, setInfo] = useState(\"\");\r\n\tconst [hideInfo, setHideInfo] = useState(true);\r\n\tconst [editMedicine, setEditMedicine] = useState({});\r\n\t\r\n\tconst [newPatient, setNewPatient] = useState(false)\r\n\t\r\n\tconst [emurVisitNumber, setEmurVisitNumber] = useState(0);\r\n\tconst [emurNumber, setEmurNumber] = useState(0);\r\n\tconst [emurName, setEmurName] = useState(\"\");\r\n\t\r\n\tconst [emedDose1, setEmedDose1] = useState(0);\r\n\tconst [emedDose2, setEmedDose2] = useState(0);\r\n\tconst [emedDose3, setEmedDose3] = useState(0);\r\n\tconst [emedTime,  setEmedTime] = useState(0);\r\n\tconst [emedUnit,  setEmedUnit] = useState(\"\");\r\n\t\r\n\tconst [modalRegister, setModalRegister] = useState(0);\r\n\r\n\t\r\n\r\n  useEffect(() => {\t\r\n\t\tuserCid = sessionStorage.getItem(\"cid\");\r\n\r\n\t\tconst checkPatient = async () => {\t\r\n\t\t\ttry {\r\n\t\t\t\tlet patRec = props.patient;\t//JSON.parse(sessionStorage.getItem(\"shareData\"));\r\n\t\t\t\t//console.log(patRec);\r\n\t\t\t\tsetCurrentPatientData(patRec);\r\n\t\t\t\tsetCurrentPatient(patRec.displayName);\r\n\t\t\t\tawait getPatientVisit(patRec);\r\n\t\t\t\t//setSearchText(patRec.displayName);\r\n\t\t\t\t//setPatientArray([patRec]);\r\n\r\n\t\t\t\t//let ddd = await getPatientDocument(userCid, patRec.pid);\r\n\t\t\t\t//console.log(\"Docs\", ddd);\r\n\t\t\t\t//setDocumentArray(ddd);\r\n\t\t\t} catch {\r\n\t\t\t\t// have come directly\r\n\t\t\t\t//let ppp = await getAllPatients();\r\n\t\t\t\t//setPatientArray(ppp);\r\n\t\t\t\t//setPatientMasterArray(ppp);\r\n\t\t\t}\r\n\t\t\tsessionStorage.setItem(\"shareData\", \"\");\t\t// clean up\r\n\t\t\t\r\n\t\t}\r\n\t\tsetMedQty();\r\n\t\tcheckPatient();\r\n\t\tgetAllMedicines();\r\n\t\tgetAllNotes();\r\n\t\tgetAllRemarks();\r\n  }, []);\r\n\r\n\r\n\tfunction DisplayFunctionItem(props) {\r\n\t\tlet itemName = props.item;\r\n\t\treturn (\r\n\t\t<Grid key={\"BUT\"+itemName} item xs={6} sm={6} md={2} lg={2} >\r\n\t\t{(itemName !== \"NEW\") &&\t\t\r\n\t\t\t<Typography onClick={() => setSelection(itemName)}>\r\n\t\t\t\t<span \r\n\t\t\t\t\tclassName={(itemName === currentSelection) ? gClasses.functionSelected : gClasses.functionUnselected}>\r\n\t\t\t\t{itemName}\r\n\t\t\t\t</span>\r\n\t\t\t</Typography>\r\n\t\t}\r\n\t\t</Grid>\r\n\t\t)}\r\n\t\r\n\tasync function setSelection(item) {\r\n\t\tsessionStorage.setItem(\"shareData\",JSON.stringify(currentPatientData));\r\n\t\tsetCurrentSelection(item);\r\n\t}\r\n\t\r\n\t\r\n\tfunction DisplayFunctionHeader() {\r\n\treturn (\r\n\t<Box  className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t<Grid className={gClasses.noPadding} key=\"AllPatients\" container align=\"center\">\r\n\t\t<DisplayFunctionItem item=\"Medicine\" />\r\n\t\t<DisplayFunctionItem item=\"User Note\" />\r\n\t\t<DisplayFunctionItem item=\"Lab Test\" />\r\n\t\t{((visitArray.length > 0) && (visitArray[0].visitNumber === 0) && (visitIndex === 0)) &&\r\n\t\t\t<DisplayFunctionItem item=\"Next Review\" />\r\n\t\t}\r\n\t</Grid>\t\r\n\t</Box>\r\n\t)}\r\n\r\n\tfunction changIndex(num) {\r\n\t\tnum += visitIndex;\r\n\t\tif (num < 0) return;\r\n\t\tif (num === visitArray.length) return;\r\n\t\tsetVisitIndex(num);\r\n\t\tsetCurrentSelection(\"Medicine\");\r\n\t}\r\n\t\r\n\tfunction DisplayVisitDates() {\r\n\tif (visitArray.length === 0) {\r\n\t\treturn (\r\n\t\t\t<Box  className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t\t\t<Grid className={gClasses.noPadding} key=\"AllPatients\" container align=\"center\">\r\n\t\t\t\t<Grid key={\"VISIST\"} item xs={12} sm={12} md={12} lg={12} >\r\n\t\t\t\t\t<Typography className={gClasses.indexSelection} >\r\n\t\t\t\t\t\t{\"No Visit history available\"}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\t\r\n\t\t\t</Box>\r\n\t\t);\r\n\t}\r\n\t\r\n\tlet v = visitArray[visitIndex];\r\n\tlet myDate;\r\n\tif (v.visitNumber === 0)\r\n\t\t\tmyDate = \"Today's new Visit\";\r\n\telse {\r\n\t\tlet d = new Date(v.visitDate);\r\n\t\tmyDate = `Visit dated ${DATESTR[d.getDate()]}/${MONTHNUMBERSTR[d.getMonth()]}/${d.getFullYear()}`;\r\n\t}\r\n\treturn (\r\n\t<Box  className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t<Grid className={gClasses.noPadding} key=\"AllPatients\" container align=\"center\">\r\n\t\t<Grid key={\"LEFT1\"} item xs={2} sm={2} md={2} lg={2} >\t\r\n\t\t\t<IconButton color={'primary'} onClick={() => {changIndex(-1)}}  >\r\n\t\t\t\t<LeftIcon />\r\n\t\t\t</IconButton>\r\n\t\t</Grid>\r\n\t\t<Grid key={\"VISIST\"} item xs={8} sm={8} md={8} lg={8} >\r\n\t\t\t<Typography className={gClasses.indexSelection} >\r\n\t\t\t\t{myDate}\r\n\t\t\t</Typography>\r\n\t\t</Grid>\r\n\t\t<Grid key=\"RIGHT1\" item xs={2} sm={2} md={2} lg={2} >\r\n\t\t\t<IconButton color={'primary'} onClick={() => {changIndex(1)}}  >\r\n\t\t\t\t\t<RightIcon />\r\n\t\t\t\t</IconButton>\r\n\t\t</Grid>\r\n\t</Grid>\t\r\n\t</Box>\r\n\t)}\r\n\r\n\tasync function getPatientVisit(rec) {\r\n\t\ttry {\r\n\t\t\tlet resp = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/visit/list/${userCid}/${rec.pid}`)\r\n\t\t\tsetVisitArray(resp.data);\r\n\t\t\tsetVisitIndex(0);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e)\r\n\t\t\tsetVisitArray([]);\r\n\t\t\tsetVisitIndex(0);\r\n\t\t}\r\n\t}\r\n\t\r\n\tasync function getAllMedicines() {\r\n\t\tif (medicineArray.length == 0) {\r\n\t\t\ttry {\r\n\t\t\t\tvar resp = await \r\n\t\t\t\t\ttrackPromise(\r\n\t\t\t\t\t\taxios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/medicine/list/${userCid}`)\r\n\t\t\t\t\t);\r\n\t\t\t\tsetMedicineArray(resp.data);\r\n\t\t\t\t//console.log(resp.data);\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t\tsetMedicineArray([]);\r\n\t\t\t}\r\n\t\t}\t\r\n\t}\t\r\n\t\r\n\tasync function getAllNotes() {\r\n\t\ttry {\r\n\t\t\tlet resp = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/note/list/${userCid}`)\r\n\t\t\tsetNoteArray(resp.data);\r\n\t\t\t//console.log(resp.data);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t}\r\n\t}\r\n\t\t\r\n\tasync function getAllRemarks() {\r\n\t\ttry {\r\n\t\t\tlet resp = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/remark/list/${userCid}`)\r\n\t\t\tsetRemarkArray(resp.data);\r\n\t\t\t//console.log(resp.data);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\tfunction ModalResisterStatus() {\r\n    // console.log(`Status is ${modalRegister}`);\r\n\t\tlet regerr = true;\r\n    let myMsg;\r\n    switch (modalRegister) {\r\n      case 0:\r\n        myMsg = \"\";\r\n\t\t\t\tregerr = false;\r\n        break;\r\n      case 1001:\r\n        myMsg = \"Duplicate Medicine\";\r\n        break;\r\n      case 1002:\r\n        myMsg = `All the doses cannot be 0`;\r\n        break;\r\n      case 1003:\r\n        myMsg = `No Medicine selected`;\r\n        break;\r\n      case 2001:\r\n        myMsg = \"Duplicate User Note\";\r\n        break;\r\n      case 3001:\r\n        myMsg = `Duplicate Lab Test`;\r\n        break;\r\n      default:\r\n          myMsg = \"Unknown Error\";\r\n          break;\r\n    }\r\n    return(\r\n      <div>\r\n        <Typography className={(regerr) ? gClasses.error : gClasses.nonerror}>{myMsg}</Typography>\r\n      </div>\r\n    )\r\n  }\r\n\t\r\n//============ starts from here\r\n\t\r\n\t//  handle Visit display /add / del /copy / update components and functions \r\n\t\r\n\r\n\tfunction DisplayNewVisitBtn() {\r\n\t\tif ((visitArray.length > 0) && (visitArray[0].visitNumber === 0)) return null;\r\n\t\treturn (\r\n\t\t\t<div align=\"right\">\r\n\t\t\t\t<VsButton name=\"Add Blank Visit\" onClick={handleCreateNewVisit} />\r\n\t\t\t\t{(visitArray.length > 0) &&\r\n\t\t\t\t<VsButton name=\"Duplicate Visit\" onClick={handleCopyNew} />\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\t\r\n\tfunction handleCreateNewVisit() {\r\n\t\tlet x = new Date();\r\n\t\t\r\n\t\tlet tmpArray = [{\r\n\t\t\tenabled: true,\r\n\t\t\tmedicines: [],\r\n\t\t\tpid: currentPatientData.pid,\r\n\t\t\tdisplayName: currentPatientData.displayName,\r\n\t\t\tremarks: [],\r\n\t\t\tuserNotes: [],\r\n\t\t\tvisitDate: x.toString(),\r\n\t\t\tvisitNumber: 0,\r\n\t\t\tappointment: '',\r\n\t\t}];\r\n\t\t\r\n\t\t//console.log(tmpArray[0]);\r\n\t\ttmpArray = tmpArray.concat(visitArray);\r\n\t\tsetVisitArray(tmpArray);\r\n\t\tsetVisitIndex(0);\r\n\t\t// also add date\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction handleCopyNew() {\r\n\t\tlet today = new Date();\r\n\r\n\t\tlet selectedVisit = visitArray[visitIndex];\r\n\t\tlet newVisit = cloneDeep(selectedVisit);\r\n\t\tupdateNewVisit(newVisit.medicines, newVisit.userNotes, newVisit.remarks, nextVisitTime, nextVisitUnit)\r\n\t\t\r\n\t\tnewVisit.visitNumber = 0;\r\n\t\tnewVisit.visitDate = new Date().toString();\r\n\t\tlet tmpArray = [newVisit];\r\n\t\ttmpArray = tmpArray.concat(visitArray);\r\n\t\tsetVisitArray(tmpArray);\r\n\t\tsetVisitIndex(0);\r\n\t}\r\n\t\r\n\tfunction handleDeleteNew() {\r\n\t\tlet tmp = visitArray.slice(1, visitArray.length);\r\n\t\tsetVisitArray(tmp);\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\tfunction validateNewVisit() {\r\n\t\tlet errcode = 0;\r\n\t\treturn (0);\r\n\t\t\r\n\t\t// confirm of atleast 1 medicine given\r\n\t\tif (errcode == 0)\r\n\t\tif (visitArray[0].medicines.length == 0) {\r\n\t\t\talert.error(\"No Medicine prescribed.\");\r\n\t\t\treturn;\r\n\t\t} \r\n\t\t\r\n\t\t// confirm medicine name given and atleast 1 dose is non-zero\r\n\t\tif (errcode == 0)\r\n\t\tfor(let i=0; i < visitArray[0].medicines.length; ++i) {\r\n\t\t\t// confirm medicine name given\r\n\t\t\tlet m = visitArray[0].medicines[i];\r\n\t\t\tconsole.log(\"X\"+m.name+\"X\");\r\n\t\t\tif (m.name == \"\") {\r\n\t\t\t\treturn alert.error(\"Medicine Name cannot be blank\");\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// confirm duplicate medicine not given\r\n\t\t\tlet tmp = visitArray[0].medicines.filter(x => x.name == m.name);\r\n\t\t\tif (tmp.length > 1) {\r\n\t\t\t\treturn alert.error(\"Medicine \"+m.name+\" prescribed more than once\");\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// confirm atleast 1 dose is non-zero\r\n\t\t\tif ((m.dose1 + m.dose2 + m.dose3) == 0) {\r\n\t\t\t\treturn alert.error(\"No dose specified\");\r\n\t\t\t}\t\r\n\t\t};\r\n\t\treturn (errcode);\r\n\t}\r\n\t\r\n\tasync function generateVisitDocument() {\r\n\t\ttry {\r\n\t\t\tawait axios.get (`${process.env.REACT_APP_AXIOS_BASEPATH}/visit/printdoc/${userCid}/${currentPatientData.pid}`);\r\n\t\t\t\r\n\t\t\t// now prepare for download\r\n\t\t\tlet myURL = `${process.env.REACT_APP_AXIOS_BASEPATH}/visit/downloadvisit/${userCid}/${currentPatientData.pid}`;\r\n\t\t\tlet response = await axios({ method: 'get', url: myURL, responseType: 'arraybuffer',\r\n\r\n\t\t\t});\r\n\t\t\tlet myFile = \"patientVisit.docx\";\r\n\t\t\tconsole.log(myFile);\r\n\t\t\tconsole.log(response.data);\r\n\t\t\tawait fileDownload (response.data, myFile);\r\n\t\t\t//setStepNo(3);\r\n\t\t\tconsole.log(\"download over\");\r\n\r\n\t\t\talert.success(\"Successfully generated visit document\");\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e)\r\n\t\t\talert.error(\"Error generating visit document\");\r\n\t\t}\r\n\t\t//setShowProgress(false);\r\n\t}\r\n\t\r\n\t\r\n\tfunction updateNewVisit(med, note, rem, nextime, nextunit) {\t\r\n\t\tlet newVisit = {\r\n\t\t\tpid: currentPatientData.pid, displayName: currentPatientData.displayName,\r\n\t\t\tmedicine: med, userNote: note, remark: rem, nextTime: nextime, nextUnit: nextunit\r\n\t\t};\r\n\t\t//console.log(newVisit);\r\n\t\tlet newVisitInfo = encodeURIComponent(JSON.stringify(newVisit));\r\n\t\taxios.post(`${process.env.REACT_APP_AXIOS_BASEPATH}/visit/update/${userCid}/${newVisitInfo}`);\r\n\t\t//console.log(\"posted\");\r\n\t}\r\n\t\r\n\tasync function printVisit() {\t\r\n\t\ttry {\r\n\t\t\tawait downloadVisit(userCid, currentPatientData.pid);\r\n\t\t\talert.success(\"Successfully downloaded visit document\");\r\n\t\t} catch (e) {\r\n\t\t\talert.error(\"Error downloading visit document\");\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction prepareVisitData() {\r\n\t\tlet myResult = {visit: visitArray[0], nextVisit: {after: nextVisitTime, unit: nextVisitUnit} }\r\n\t\treturn myResult;\r\n\t\t\r\n\t\t\r\n\t\tlet newVisit = cloneDeep(visitArray[0]);\r\n\t\t// remove blank lines\r\n\t\tnewVisit.remarks = newVisit.remarks.filter(x => x.name.trim() !== \"\");\r\n\t\tnewVisit.userNotes = newVisit.userNotes.filter(x => x.name.trim() !== \"\");\r\n\r\n\t\tfor(let i=0; i<newVisit.medicines.length; ++i) {\r\n\t\t\tnewVisit.medicines[i].name = stringToBase64(newVisit.medicines[i].name);\r\n\t\t}\r\n\t\tfor(let i=0; i<newVisit.userNotes.length; ++i) {\r\n\t\t\tnewVisit.userNotes[i].name = stringToBase64(newVisit.userNotes[i].name);\r\n\t\t}\r\n\t\tfor(let i=0; i<newVisit.remarks.length; ++i) {\r\n\t\t\tnewVisit.remarks[i].name = stringToBase64(newVisit.remarks[i].name);\r\n\t\t}\r\n\t\t\r\n\t\tlet result = {visit: newVisit, nextVisit: {after: nextVisitTime, unit: nextVisitUnit} }\r\n\t\treturn result;\r\n\t}\r\n\t\r\n\tasync function updateVisit() {\r\n\t\tlet errcode = validateNewVisit();\r\n\r\n\t\tif (errcode == 0) {\t\r\n\t\t\tlet newVisitNumber = visitArray.length;\r\n\t\t\tlet newVisit = prepareVisitData();\r\n\t\t\t// encodeURI\t\t\t\r\n\t\t\tlet newVisitInfo = JSON.stringify(newVisit);\r\n\t\t\tlet tmp1 = encodeURIComponent(newVisitInfo);\r\n\t\t\t//console.log(newVisitInfo);\r\n\t\t\ttry {\r\n\t\t\t\tawait axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/visit/updatenewvisit/${userCid}/${newVisitNumber}/${tmp1}`)\r\n\t\t\t\talert.success(\"Successfully update new visit\");\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t\talert.success(\"Error updating new visit\");\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t//setVisitError(errcode);\r\n\t\t}\r\n\t}\r\n\t\r\n\t//Arun Salgia new add / edit / delete Notes\r\n\t\r\n\tfunction handleAddUserNotes() {\r\n\t\tsetEmurName(\"\");\r\n\t\tsetIsDrawerOpened(\"ADDNOTE\");\r\n\t\t// set filter\r\n\t\tsetFilterItem(\"NOT\");\r\n\t\tsetFilterItemText(\"\");\r\n\t\tsetFilterItemArray([]);\r\n\t\tsetRemember(false);\r\n\t}\r\n\t\r\n\tfunction handleEditUserNotes(vNumber, notesNumber) {\r\n\t\tlet tmp = visitArray.find( x => x.visitNumber == vNumber);\r\n\t\tsetEmurVisitNumber(vNumber);\r\n\t\tsetEmurNumber(notesNumber);\r\n\t\tsetEmurName(tmp.userNotes[notesNumber].name);\r\n\t\tsetModalRegister(0);\r\n\t\tsetIsDrawerOpened(\"EDITNOTE\");\r\n\t\t\r\n\t\tsetFilterItem(\"NOT\");\r\n\t\tsetFilterItemText(\"\");\r\n\t\tsetFilterItemArray([]);\r\n\t\tsetRemember(false);\r\n\t}\r\n\t\r\n\tfunction updateUserNotes() {\r\n\t\tupdateNoteToDatabase(emurName);\r\n\t\t\r\n\t\tlet tmp = [].concat(visitArray);\r\n\t\tlet index = emurNumber;\r\n\t\tif (isDrawerOpened === \"ADDNOTE\") {\r\n\t\t\tif (tmp[0].userNotes.find(x => x.name.toLowerCase() === emurName.toLowerCase())) {\r\n\t\t\t\tsetModalRegister(2001);\r\n\t\t\t\treturn;\r\n\t\t\t} \r\n\t\t\ttmp[0].userNotes.push({name: \"\"});\r\n\t\t\tindex = tmp[0].userNotes.length - 1;\r\n\t\t} else {\r\n\t\t\tif (tmp[0].userNotes[index].name.toLowerCase() !== emurName.toLowerCase()) {\r\n\t\t\t\tif (tmp[0].userNotes.find(x => x.name.toLowerCase() === emurName.toLowerCase())) {\r\n\t\t\t\t\tsetModalRegister(2001);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t} \r\n\t\t\t}\r\n\t\t}\r\n\t\tsetIsDrawerOpened(\"\");\r\n\t\t\r\n\t\ttmp[0].userNotes[index].name = emurName;\r\n\t\tconsole.log(tmp[0].userNotes);\r\n\t\tupdateNewVisit(tmp[0].medicines, tmp[0].userNotes, tmp[0].remarks, nextVisitTime, nextVisitUnit)\r\n\t\tsetVisitArray(tmp);\r\n\t}\r\n\t\r\n\tfunction handleDeleteNotes(vNumber, mNumber) {\r\n\t\t//console.log(\"handleDeleteMedicine \"+vNumber+\" Notes \"+mNumber);\r\n\t\tif (vNumber === 0) {\r\n\t\t\tvsDialog(\"Delete User Note\", `Are you sure you want to delete note ${visitArray[0].userNotes[mNumber].name}?`,\r\n\t\t\t\t{label: \"Yes\", onClick: () => handleDeleteNotesConfirm(vNumber, mNumber) },\r\n\t\t\t\t{label: \"No\" }\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction handleDeleteNotesConfirm(vNumber, mNumber) {\r\n\t\t//console.log(\"handleDeleteMedicine \"+vNumber+\" Notes \"+mNumber);\r\n\t\tif (vNumber !== 0) return;\r\n\t\t\r\n\t\tvar tmp = [].concat(visitArray);\r\n\t\ttmp[0].userNotes = tmp[0].userNotes.filter(function(value, index, arr){ \r\n\t\t\treturn index !== mNumber;\r\n\t\t});\r\n\t\tsetVisitArray(tmp);\r\n\t\tupdateNewVisit(tmp[0].medicines, tmp[0].userNotes, tmp[0].remarks, nextVisitTime, nextVisitUnit)\r\n\t}\r\n\t\r\n\t\r\n\tfunction handleAddNewRemark() {\r\n\t\tsetEmurName(\"\");\r\n\t\tsetModalRegister(0);\r\n\t\tsetIsDrawerOpened(\"ADDREM\");\r\n\t\t\r\n\t\tsetFilterItem(\"REM\");\r\n\t\tsetFilterItemText(\"\");\r\n\t\tsetFilterItemArray([]);\r\n\t\tsetRemember(false);\r\n\r\n\t}\r\n\t\r\n\tfunction handleEditRemark(vNumber, remarkNumber) {\r\n\t\tlet tmp = visitArray.find( x => x.visitNumber == vNumber);\r\n\r\n\t\tsetEmurVisitNumber(vNumber);\r\n\t\tsetEmurNumber(remarkNumber);\r\n\t\tsetEmurName(tmp.remarks[remarkNumber].name)\r\n\t\tsetModalRegister(0);\r\n\t\tsetIsDrawerOpened(\"EDITREM\");\r\n\t\t\r\n\t\tsetFilterItem(\"REM\");\r\n\t\tsetFilterItemText(\"\");\r\n\t\tsetFilterItemArray([]);\r\n\t\tsetRemember(false);\r\n\r\n\t}\r\n\t\r\n\tfunction updateRemark() {\r\n\t\tupdateRemarkToDatabase(emurName);\r\n\t\t\r\n\t\tlet tmp = [].concat(visitArray);\r\n\t\tlet index = emurNumber;\r\n\t\tif (isDrawerOpened === \"ADDREM\") {\r\n\t\t\tif (tmp[0].remarks.find(x => x.name.toLowerCase() === emurName.toLowerCase())) {\r\n\t\t\t\tsetModalRegister(3001);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\ttmp[0].remarks.push({name: \"\"});\r\n\t\t\tindex = tmp[0].remarks.length - 1;\r\n\t\t} else {\r\n\t\t\tif (tmp[0].remarks[index].name.toLowerCase() !== emurName.toLowerCase()) {\r\n\t\t\t\tif (tmp[0].remarks.find(x => x.name.toLowerCase() === emurName.toLowerCase())) {\r\n\t\t\t\t\tsetModalRegister(3001);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tsetIsDrawerOpened(\"\");\r\n\t\t\r\n\t\ttmp[0].remarks[index].name = emurName;\r\n\t\tsetVisitArray(tmp);\r\n\t\tupdateNewVisit(tmp[0].medicines, tmp[0].userNotes, tmp[0].remarks, nextVisitTime, nextVisitUnit)\r\n\t}\r\n\t\r\n\tfunction handleDeleteRemark(vNumber, mNumber) {\r\n\t\tif (vNumber !== 0) return;\r\n\t\tlet item = visitArray[0].remarks[mNumber].name;\r\n\t\tvsDialog(\"Delete Examination Advice\", `Are you sure you want to delete Examination advice of ${item}?`,\r\n\t\t{label: \"Yes\", onClick: () => handleDeleteRemarkConfirm(vNumber, mNumber) },\r\n\t\t{label: \"No\" }\r\n\t\t);\r\n\t}\r\n\t\r\n\tfunction handleDeleteRemarkConfirm(vNumber, mNumber) {\r\n\t\tconsole.log(\"handleDeleteMedicine \"+vNumber+\" Remark \"+mNumber);\r\n\t\tif (vNumber == 0) {\r\n\t\t\tvar tmp = [].concat(visitArray);\r\n\t\t\ttmp[0].remarks = tmp[0].remarks.filter(function(value, index, arr){ \r\n        return index !== mNumber;\r\n\t\t\t});\r\n\t\t\tsetVisitArray(tmp);\r\n\t\t\tupdateNewVisit(tmp[0].medicines, tmp[0].userNotes, tmp[0].remarks, nextVisitTime, nextVisitUnit);\r\n\t\t}\r\n\t}\r\n\t\r\n\r\n\t\r\n\tfunction handleAddNewMedicine() {\r\n\t\tsetEmurNumber(0);\r\n\t\tsetEmurName(\"\");\r\n\t\tsetEmedDose1(0);\r\n\t\tsetEmedDose2(0);\r\n\t\tsetEmedDose3(0);\r\n\t\tsetEmedTime(2);\r\n\t\tsetEmedUnit(unitArray[1]);\r\n\t\tsetModalRegister(0);\r\n\t\t// for filter\r\n\t\tsetFilterItem(\"MED\");\r\n\t\tsetFilterItemText(\"\");\r\n\t\tsetFilterItemArray([]);\r\n\t\tsetRemember(false);\r\n\t\t\r\n\t\tsetIsDrawerOpened(\"ADDMED\");\r\n\t}\r\n\t\r\n\t\r\n\tfunction handleEditMedicine(vNumber, mNumber) {\r\n\t\t//await getAllMedicines();\r\n\t\tconsole.log(\"handleEditMedicine \"+vNumber+\" Medicine \"+mNumber);\r\n\t\tlet tmp = visitArray[0];\r\n\t\tsetEditMedicine(tmp.medicines[mNumber]);\r\n\t\tconsole.log(tmp.medicines[mNumber]);\r\n\t\t\r\n\t\tsetEmurVisitNumber(vNumber);\r\n\t\tsetEmurNumber(mNumber);\r\n\t\tsetEmurName(tmp.medicines[mNumber].name)\r\n\t\tsetEmedDose1(tmp.medicines[mNumber].dose1);\r\n\t\tsetEmedDose2(tmp.medicines[mNumber].dose2);\r\n\t\tsetEmedDose3(tmp.medicines[mNumber].dose3);\r\n\t\tsetEmedTime (tmp.medicines[mNumber].time);\r\n\t\tsetEmedUnit (tmp.medicines[mNumber].unit);\r\n\t\tlet ttt = medicineArray.find(x => x.name == tmp.medicines[mNumber].name);\r\n\t\tsetStandard(ttt != null);\r\n\t\t\r\n\t\t\t\t// for filter\r\n\t\tsetFilterItem(\"MED\");\r\n\t\tsetFilterItemText(\"\");\r\n\t\tsetFilterItemArray([]);\r\n\t\tsetRemember(false);\r\n\t\t\r\n\t\tsetModalRegister(0);\r\n\t\tsetIsDrawerOpened(\"EDITMED\");\r\n\t}\r\n\r\n\tfunction updateMedicineToDatabase(medName) {\r\n\t\tif (!remember) return;\r\n\t\tlet tmp = medicineArray.find(x => x.name.toLowerCase() === medName.toLowerCase());\r\n\t\tif (!tmp) {\r\n\t\t\ttry {\r\n\t\t\t\tlet myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/medicine/add/${userCid}/${medName}`;\r\n\t\t\t\taxios.get(myUrl);\r\n\t\t\t\tlet tmpArray = [{name: medName}].concat(medicineArray);\r\n\t\t\t\tsetMedicineArray(_.sortBy(tmpArray, 'name'));\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction handleVsMedicineDelete(med) {\r\n\t\tlet medName = med.name;\r\n\t\ttry {\r\n\t\t\tlet myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/medicine/delete/${userCid}/${medName}`;\r\n\t\t\taxios.get(myUrl);\r\n\t\t\tsetMedicineArray(medicineArray.filter(x => x.name !== medName))\r\n\t\t\tsetFilterItemArray(filterItemArray.filter(x => x.name !== medName));\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t}\r\n\t}\r\n\r\n\t\r\n\tfunction updateNoteToDatabase(noteName) {\r\n\t\tif (!remember) return;\r\n\t\t\r\n\t\tlet tmp = noteArray.find(x => x.name.toLowerCase() === noteName.toLowerCase())\r\n\t\tif (!tmp) {\r\n\t\t\ttry {\r\n\t\t\t\tlet myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/note/add/${userCid}/${noteName}`;\r\n\t\t\t\taxios.get(myUrl);\r\n\t\t\t\tlet tmpArray = [{name: noteName}].concat(noteArray);\r\n\t\t\t\tsetNoteArray(_.sortBy(tmpArray, 'name'));\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t\t\r\n\tfunction handleVsNoteDelete(note) {\r\n\t\tlet noteName = note.name;\r\n\t\ttry {\r\n\t\t\tlet myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/note/delete/${userCid}/${noteName}`;\r\n\t\t\taxios.get(myUrl);\r\n\t\t\tsetNoteArray(noteArray.filter(x => x.name !== noteName));\r\n\t\t\tsetFilterItemArray(filterItemArray.filter(x => x.name !== noteName));\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\tfunction updateRemarkToDatabase(remarkName) {\r\n\t\tif (!remember) return;\r\n\t\tlet tmp = remarkArray.find(x => x.name.toLowerCase() === remarkName.toLowerCase());\r\n\t\tif (!tmp) {\r\n\t\t\ttry {\r\n\t\t\t\tlet myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/remark/add/${userCid}/${remarkName}`;\r\n\t\t\t\taxios.get(myUrl);\r\n\t\t\t\tlet tmpArray = [{name: remarkName}].concat(remarkArray);\r\n\t\t\t\tsetRemarkArray(_.sortBy(tmpArray, 'name'));\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction handleVsRemarkDelete(remark) {\r\n\t\tlet remarkName = remark.name;\r\n\t\ttry {\r\n\t\t\tlet myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/remark/delete/${userCid}/${remarkName}`;\r\n\t\t\taxios.get(myUrl);\r\n\t\t\tsetRemarkArray(remarkArray.filter(x => x.name !== remarkName));\r\n\t\t\tsetFilterItemArray(filterItemArray.filter(x => x.name !== remarkName))\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction handleMedicineUpdate() {\r\n\t\tif ((emedDose1+emedDose2+emedDose3) == 0) {\r\n\t\t\t\tsetModalRegister(1002);\r\n\t\t\t\treturn;\r\n\t\t}\r\n\t\tif (emurName == \"\") {\r\n\t\t\tsetModalRegister(1003);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tupdateMedicineToDatabase(emurName);\r\n\t\tlet tmp = [].concat(visitArray);\r\n\t\tlet index = emurNumber;\r\n\t\t//console.log(\"indx\", index);\r\n\t\tif (isDrawerOpened === \"ADDMED\") {\r\n\t\t\t//console.log(tmp[0].medicines);\r\n\t\t\t//console.log(emurName);\r\n\t\t\tif (tmp[0].medicines.find(x => x.name.toLowerCase() === emurName.toLowerCase())) {\r\n\t\t\t\t// duplicate medicine \r\n\t\t\t\tsetModalRegister(1001);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\ttmp[0].medicines.push({name: \"\", dose1: 0, dose2: 0, dose3: 0, unit: \"\", time: 0});\r\n\t\t\tindex = tmp[0].medicines.length - 1;\r\n\t\t} else {\r\n\t\t\tconsole.log(\"in edit\");\r\n\t\t\tif (tmp[0].medicines[index].name.toLowerCase() !== emurName.toLowerCase()) {\r\n\t\t\t\t//console.log(\"in edit different\");\r\n\t\t\t\tif (tmp[0].medicines.find(x => x.name.toLowerCase() === emurName.toLowerCase())) {\r\n\t\t\t\t\t// duplicate medicine \r\n\t\t\t\t\t//console.log(\"in edit error\");\r\n\t\t\t\t\tsetModalRegister(1001);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsetIsDrawerOpened(\"\");\t\t\r\n\r\n\t\ttmp[0].medicines[index].name = emurName;\r\n\t\ttmp[0].medicines[index].dose1 = emedDose1;\r\n\t\ttmp[0].medicines[index].dose2 = emedDose2;\r\n\t\ttmp[0].medicines[index].dose3 = emedDose3;\r\n\t\ttmp[0].medicines[index].unit = emedUnit;\r\n\t\ttmp[0].medicines[index].time = emedTime;\r\n\t\tsetVisitArray(tmp);\r\n\t\tupdateNewVisit(tmp[0].medicines, tmp[0].userNotes, tmp[0].remarks, nextVisitTime, nextVisitUnit);\r\n\t}\r\n\t\r\n\tfunction handleDeleteMedicine(vNumber, mNumber) {\r\n\t\tif (vNumber !== 0) return;\r\n\t\tvsDialog(\"Delete Medicine\", `Are you sure you want to delete medicine ${visitArray[0].medicines[mNumber].name}?`,\r\n\t\t{label: \"Yes\", onClick: () => handleDeleteMedicineConfirm(vNumber, mNumber) },\r\n\t\t{label: \"No\" }\r\n\t\t);\r\n\t}\r\n\t\r\n\tfunction handleDeleteMedicineConfirm(vNumber, mNumber) {\r\n\t\tconsole.log(\"handleDeleteMedicine \"+vNumber+\" Medicine \"+mNumber);\r\n\t\tif (vNumber !== 0) return;\r\n\t\tvar tmp = [].concat(visitArray);\r\n\t\ttmp[0].medicines = tmp[0].medicines.filter(function(value, index, arr){ \r\n\t\t\treturn index != mNumber;\r\n\t\t});\r\n\t\tupdateNewVisit(tmp[0].medicines, tmp[0].userNotes, tmp[0].remarks, nextVisitTime, nextVisitUnit);\r\n\t\tsetVisitArray(tmp);\r\n\t\tconsole.log(tmp[0].medicines);\r\n\t}\r\n\t\r\n\t// handle visits\r\n\r\n\tfunction ArunMedicines() {\r\n\tif (visitArray.length === 0) return null;\r\n\tlet x = visitArray[visitIndex];\r\n\treturn (\r\n\t<div>\t\r\n\t{(x.visitNumber === 0) && \r\n\t\t<VsButton name=\"Add new Medicine\" align=\"left\" onClick={handleAddNewMedicine} />\r\n\t}\t\r\n\t<Box borderColor=\"primary.main\" border={1}>\r\n\t{x.medicines.map( (m, index) =>\r\n\t\t<Grid className={classes.noPadding} key={\"MED\"+x.visitNumber+\"-\"+index} container justify=\"center\" alignItems=\"center\" >\r\n\t\t<Grid item xs={4} sm={4} md={6} lg={6} >\r\n\t\t\t<Typography className={classes.heading}>{\"Medicine: \"+m.name}</Typography>\r\n\t\t</Grid>\r\n\t\t<Grid item xs={4} sm={4} md={2} lg={2} >\r\n\t\t\t<Typography className={classes.heading}>{\"Dose: \"+dose(m.dose1, m.dose2, m.dose3)}</Typography>\r\n\t\t</Grid>\r\n\t\t<Grid item xs={2} sm={2} md={2} lg={2} >\r\n\t\t\t<Typography className={classes.heading}>{\"Duration: \"+m.time+\" \"+m.unit+((m.time > 1) ? \"s\" : \"\")}</Typography>\r\n\t\t</Grid>\r\n\t\t<Grid item xs={1} sm={1} md={1} lg={1} >\r\n\t\t\t{(x.visitNumber === 0) &&\r\n\t\t\t\t<IconButton color=\"primary\" size=\"small\" onClick={() => { handleEditMedicine(x.visitNumber, index)}} >\r\n\t\t\t\t<EditIcon />\r\n\t\t\t\t</IconButton>\r\n\t\t\t}\r\n\t\t</Grid>\r\n\t\t<Grid item xs={1} sm={1} md={1} lg={1} >\r\n\t\t\t{(x.visitNumber === 0) &&\r\n\t\t\t\t<IconButton color=\"secondary\" size=\"small\" onClick={() => { handleDeleteMedicine(x.visitNumber, index)}} >\r\n\t\t\t\t<DeleteIcon />\r\n\t\t\t\t</IconButton>\r\n\t\t\t}\r\n\t\t</Grid>\r\n\t\t</Grid>\r\n\t)}\r\n\t</Box>\r\n\t</div>\r\n\t)}\r\n\t\r\n\tfunction ArunNotes() {\r\n\tif (visitArray.length === 0) return null;\r\n\tlet x = visitArray[visitIndex];\r\n\treturn (\r\n\t<div>\r\n\r\n\t{(x.visitNumber === 0) && \r\n\t\t<VsButton name=\"Add new User Note\" align=\"left\"  onClick={handleAddUserNotes} />\r\n\t}\r\n\t<Box borderColor=\"primary.main\" border={1}>\r\n\t{x.userNotes.map( (un, index) =>\r\n\t\t<Grid className={classes.noPadding} key={\"NOTES\"+x.visitNumber+\"notes\"+index} container justify=\"center\" alignItems=\"center\" >\r\n\t\t<Grid item xs={10} sm={10} md={10} lg={10} >\r\n\t\t\t<Typography className={classes.heading}>{un.name}</Typography>\r\n\t\t</Grid>\r\n\t\t<Grid item xs={1} sm={1} md={1} lg={1} >\r\n\t\t{(x.visitNumber === 0) &&\r\n\t\t\t<IconButton color=\"primary\" size=\"small\" onClick={() => { handleEditUserNotes(x.visitNumber, index)}} >\r\n\t\t\t<EditIcon />\r\n\t\t\t</IconButton>\r\n\t\t}\r\n\t\t</Grid>\r\n\t\t<Grid item xs={1} sm={1} md={1} lg={1} >\r\n\t\t{(x.visitNumber === 0) &&\r\n\t\t\t<IconButton color=\"secondary\" size=\"small\" onClick={() => { handleDeleteNotes(x.visitNumber, index)}} >\r\n\t\t\t<DeleteIcon />\r\n\t\t\t</IconButton>\r\n\t\t}\r\n\t\t</Grid>\r\n\t\t</Grid>\r\n\t)}\r\n\t</Box>\r\n\t</div>\r\n\t)}\r\n\t\r\n\tfunction newArunNotes_issues(props) {\r\n\tlet x = props.visitRec;\r\n\treturn (\r\n\t<div>\r\n\t<Typography>\r\n\t<span className={classes.title}>User Notes</span>\r\n\t\t{(x.visitNumber === 0) && \r\n\t\t\t<span>\r\n\t\t\t<IconButton  color=\"primary\" size=\"small\" onClick={handleAddUserNotes} >\r\n\t\t\t\t<AddIcon />\r\n\t\t\t</IconButton>\r\n\t\t\t</span>\r\n\t\t}\r\n\t</Typography>\r\n\t<Box borderColor=\"primary.main\" border={1}>\r\n\t<Grid className={classes.noPadding} maxWidth=\"100%\" key={\"NOTES\"+x.visitNumber} container justify=\"center\" alignItems=\"center\" >\r\n\t<Typography border={1} className={classes.murItem}>\r\n\t\t{x.userNotes.map( (un, index) =>\r\n\t\t\t<Grid item xs={4} sm={4} md={2} lg={2} >\r\n\t\t\t\t<Typography border={1} className={classes.murItem}>\r\n\t\t\t\t<span key={\"NOTESPAN\"+index} className={classes.murItem}>\r\n\t\t\t\t{un.name}\r\n\t\t\t\t<IconButton color=\"secondary\" size=\"small\" onClick={() => { handleDeleteNotes(x.visitNumber, index)}} >\r\n\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t</IconButton>\r\n\t\t\t\t</span>\r\n\t\t\t\t</Typography>\r\n\t\t\t</Grid>\r\n\t\t)}\r\n\t</Typography>\r\n\t</Grid>\r\n\t</Box>\r\n\t</div>\r\n\t)}\r\n\t\r\n\tfunction ArunRemarks() {\r\n\tif (visitArray.length === 0) return null;\r\n\tlet x = visitArray[visitIndex];\r\n\treturn (\r\n\t<div>\r\n\t{(x.visitNumber === 0) && \r\n\t\t<VsButton name=\"Add new Lab Test\" align=\"left\" onClick={handleAddNewRemark} />\r\n\t}\r\n\t<Box borderColor=\"primary.main\" border={1}>\r\n\t{x.remarks.map( (r, index) =>\r\n\t\t<Grid className={classes.noPadding} key={\"REM\"+x.visitNumber+\"-\"+index} container justify=\"center\" alignItems=\"center\" >\r\n\t\t<Grid item xs={10} sm={10} md={10} lg={10} >\r\n\t\t\t<Typography className={classes.heading}>{r.name}</Typography>\r\n\t\t</Grid>\r\n\t\t<Grid item xs={1} sm={1} md={1} lg={1} >\r\n\t\t{(x.visitNumber === 0) &&\r\n\t\t\t<IconButton color=\"primary\" size=\"small\" onClick={() => { handleEditRemark(x.visitNumber, index)}} >\r\n\t\t\t<EditIcon />\r\n\t\t\t</IconButton>\r\n\t\t}\r\n\t\t</Grid>\r\n\t\t<Grid item xs={1} sm={1} md={1} lg={1} >\r\n\t\t\t{(x.visitNumber === 0) &&\r\n\t\t\t\t<IconButton color=\"secondary\" size=\"small\" onClick={() => { handleDeleteRemark(x.visitNumber, index)}} >\r\n\t\t\t\t<DeleteIcon />\r\n\t\t\t\t</IconButton>\r\n\t\t\t}\r\n\t\t</Grid>\r\n\t</Grid>\r\n\t)}\r\n\t</Box>\r\n\t</div>\r\n\t)}\r\n\t\r\n\tfunction updateUnit(value) {\r\n\t\tsetNextVisitUnit(value);\r\n\t\tlet myVisit = visitArray[0];\r\n\t\tupdateNewVisit(myVisit.medicines, myVisit.userNotes, myVisit.remarks, nextVisitTime, value)\r\n\t}\r\n\t\r\n\tfunction updateTime(value) {\r\n\t\tsetNextVisitTime(value);\r\n\t\tlet myVisit = visitArray[0];\r\n\t\tupdateNewVisit(myVisit.medicines, myVisit.userNotes, myVisit.remarks, value, nextVisitUnit);\r\n\t}\r\n\t\r\n\tfunction orgArunFollowup() {\r\n\tif (visitArray.length === 0) return null;\r\n\tlet x = visitArray[visitIndex];\r\n\tif (x.visitNumber !== 0) return null;\r\n\t\r\n\treturn (\r\n\t<Grid className={classes.noPadding} key={\"FOLLOWUP\"} container justify=\"center\" alignItems=\"center\" >\r\n\t\t<Grid item xs={4} sm={4} md={2} lg={2} >\r\n\t\t<Typography className={classes.title}>Next Review After</Typography>\r\n\t\t</Grid>\r\n\t\t<Grid item xs={4} sm={4} md={1} lg={1} >\r\n\t\t\t<Select labelId='time' id='time' name=\"time\" padding={10}\r\n\t\t\trequired fullWidth label=\"Time\" \r\n\t\t\tvalue={nextVisitTime}\r\n\t\t\tinputProps={{\r\n\t\t\t\tname: 'Time',\r\n\t\t\t\tid: 'filled-age-native-simple',\r\n\t\t\t}}\r\n\t\t\tonChange={(event) => setNextVisitTime(event.target.value)}\r\n\t\t\t>\r\n\t\t\t{timeArray.map(x =>\t<MenuItem key={x} value={x}>{x}</MenuItem>)}\r\n\t\t\t</Select>\r\n\t\t</Grid>\r\n\t\t<Grid item xs={4} sm={4} md={1} lg={1} >\r\n\t\t\t<Select labelId='unit' id='unit' name=\"unit\" padding={10}\r\n\t\t\t\trequired fullWidth label=\"Unit\" \r\n\t\t\t\tvalue={nextVisitUnit}\r\n\t\t\t\tinputProps={{\r\n\t\t\t\t\tname: 'Unit',\r\n\t\t\t\t\tid: 'filled-age-native-simple',\r\n\t\t\t\t\talign: 'center',\r\n\t\t\t\t}}\r\n\t\t\t\tonChange={(event) => setNextVisitUnit(event.target.value)}\r\n\t\t\t>\r\n\t\t\t{unitArray.map(x =>\t<MenuItem key={x} value={x}>{x}</MenuItem>)}\r\n\t\t\t</Select>\r\n\t\t</Grid>\r\n\t\t<Grid item xs={false} sm={false} md={8} lg={8} />\r\n\t</Grid>\r\n\t)}\r\n\t\r\n\tfunction ArunFollowup() {\r\n\tif (visitArray.length === 0) return null;\r\n\tlet x = visitArray[visitIndex];\r\n\tif (x.visitNumber !== 0) return null;\r\n\tlet d = new Date();\r\n\tconsole.log(d, nextVisitUnit, nextVisitTime )\r\n\tswitch (nextVisitUnit) {\r\n\t\tcase 'Day':\r\n\t\t\td.setDate(d.getDate()+nextVisitTime);\r\n\t\t\tbreak;\r\n\t\tcase 'Week':\r\n\t\t\td.setDate(d.getDate()+(7*nextVisitTime));\r\n\t\t\tbreak;\t\r\n\t\tcase 'Month':\r\n\t\t\td.setMonth(d.getMonth()+nextVisitTime);\r\n\t\t\tbreak;\t\r\n\t\tcase 'Year':\r\n\t\t\td.setYear(d.getFullYear()+nextVisitTime);\r\n\t\t\tbreak;\t\t\t\r\n\t}\r\n\tconsole.log(d);\r\n\tlet reviewDate = DATESTR[d.getDate()] + \"/\" + MONTHNUMBERSTR[d.getMonth()] + \"/\" + d.getFullYear();\r\n\treturn (\r\n\t\t<div align=\"left\">\r\n\t\t<Typography className={classes.reviewDate}>{\"Next visit scheduled on \"+reviewDate}</Typography>\r\n\t\t<Grid className={classes.noPadding} key={\"UNIT\"} container>\r\n\t\t<Grid item xs={12} sm={12} md={12} lg={12} >\r\n\t\t\t<BlankArea />\r\n\t\t</Grid>\r\n\t\t<Grid item xs={12} sm={12} md={12} lg={12} />\r\n\t\t<Grid item xs={12} sm={12} md={12} lg={12} />\r\n\t\t<Grid item xs={4} sm={4} md={2} lg={2} >\r\n\t\t<Typography className={classes.title}>Select Unit: </Typography>\r\n\t\t</Grid>\r\n\t\t<Grid item xs={4} sm={4} md={10} lg={10} >\r\n\t\t\t<FormControl component=\"fieldset\">\r\n\t\t\t<RadioGroup row aria-label=\"unitSelect\" name=\"unitSelect\" value={nextVisitUnit} \r\n\t\t\t\tonChange={() => {updateUnit(event.target.value); }}\r\n\t\t\t>\r\n\t\t\t{unitArray.map ( r =>\r\n\t\t\t<FormControlLabel className={gClasses.filterRadio} value={r} control={<Radio color=\"primary\"/>} label={r} />\r\n\t\t\t)}\r\n\t\t\t</RadioGroup>\r\n\t\t\t</FormControl>\t\t\t\r\n\t\t</Grid>\r\n\t\t<Grid item xs={12} sm={12} md={12} lg={12} />\r\n\t\t<Grid item xs={4} sm={4} md={2} lg={2} >\r\n\t\t<Typography className={classes.title}>Select Time: </Typography>\r\n\t\t</Grid>\r\n\t\t<Grid item xs={4} sm={4} md={10} lg={10} >\r\n\t\t\t<FormControl component=\"fieldset\">\r\n\t\t\t<RadioGroup row aria-label=\"timeSelect\" name=\"timeSelect\" value={nextVisitTime} \r\n\t\t\t\tonChange={() => {updateTime(Number(event.target.value)); }}\r\n\t\t\t>\r\n\t\t\t{timeArray.map ( r =>\r\n\t\t\t<FormControlLabel className={gClasses.filterRadio} value={r} control={<Radio color=\"primary\"/>} label={r} />\r\n\t\t\t)}\r\n\t\t\t</RadioGroup>\r\n\t\t\t</FormControl>\t\t\t\r\n\t\t</Grid>\r\n\t\t</Grid>\r\n\t\t</div>\r\n\t)}\r\n\t\r\n\t\r\n\tfunction ArunVisitUpdateButton() {\r\n\tif (visitArray.length === 0) return null;\r\n\tlet x = visitArray[visitIndex];\r\n\tif  (x.visitNumber !== 0) return null;\r\n\r\n\treturn (\r\n\t\t<div align=\"right\">\r\n\t\t\t<VsButton name=\"Print Visit Document\"  onClick={generateVisitDocument} />\r\n\t\t\t{/*<VsButton name=\"Download Visit Document\"  onClick={printVisit} />*/}\r\n\t\t</div>\r\n\t);\r\n\t}\r\n\r\n\tfunction setEmurNameWithFilter(itemName) {\r\n\t\tlet txt = itemName;\r\n\t\tsetEmurName(txt);\r\n\t\tsetFilterItemText(txt);\r\n\t\tlet tmpArray = [];\r\n\t\tif (itemName !== \"\") {\r\n\t\t\tif (filterItem.substr(0,3) === \"MED\")\r\n\t\t\t\ttmpArray = medicineArray.filter( x => x.name.toLowerCase().includes(txt.toLowerCase()) );\r\n\t\t\telse if (filterItem.substr(0,3) === \"NOT\")\r\n\t\t\t\ttmpArray = noteArray.filter( x => x.name.toLowerCase().includes(txt.toLowerCase()) );\r\n\t\t\telse if (filterItem.substr(0,3) === \"REM\")\r\n\t\t\t\ttmpArray = remarkArray.filter( x => x.name.toLowerCase().includes(txt.toLowerCase()) );\r\n\t\t} \r\n\t\tconsole.log(tmpArray);\r\n\t\tsetFilterItemArray(tmpArray);\r\n\t}\r\n\t\r\n\tfunction DisplayFilterArray() {\r\n\treturn (\r\n\t\t<div align=\"center\" >\r\n\t\t\t{filterItemArray.map( (item, index) =>\r\n\t\t\t\t<Typography key={\"ITEM\"+index} className={gClasses.blue} type=\"button\" onClick={() => { setFilterItemArray([]); setEmurName(item.name); }} >\r\n\t\t\t\t{item.name}\r\n\t\t\t\t</Typography>\r\n\t\t\t)}\r\n\t\t</div>\t\r\n\t)}\r\n\t\r\n\tfunction handleVsSelect(item) {\r\n\t\t//console.log(item);\r\n\t\t//alert.info(`To select item ${item.name}`)\r\n\t\tsetFilterItemArray([]); \r\n\t\tsetEmurName(item.name);\r\n\t}\r\n\t\r\n\r\n\treturn (\r\n\t<div>\r\n\t{(sessionStorage.getItem(\"userType\") === \"Assistant\") &&\r\n\t\t<Typography className={gClasses.indexSelection} >\r\n\t\t\t{\"Only Doctors are permitted to Add / View / Edit patient visits\"}\r\n\t\t</Typography>\r\n\t}\r\n\t{(sessionStorage.getItem(\"userType\") !== \"Assistant\") &&\r\n\t\t<div align=\"center\" key=\"main\">\r\n\t\t<CssBaseline />\r\n\t\t{(currentPatient !== \"\") &&\r\n\t\t\t<Box align=\"left\" >\r\n\t\t\t\t<DisplayVisitDates />\r\n\t\t\t\t<DisplayFunctionHeader />\r\n\t\t\t\t<Box className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t\t\t\t\t<DisplayNewVisitBtn />\r\n\t\t\t\t\t<ArunVisitUpdateButton />\t\t{/* only for visitNumber 0 i.e. new visit */}\r\n\t\t\t\t\t{(currentSelection === \"Medicine\") &&\r\n\t\t\t\t\t\t<ArunMedicines />\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{(currentSelection === \"User Note\") &&\r\n\t\t\t\t\t\t<ArunNotes />\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{(currentSelection === \"Lab Test\") &&\r\n\t\t\t\t\t\t<ArunRemarks  />\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{(currentSelection === \"Next Review\") &&\r\n\t\t\t\t\t\t<ArunFollowup />\r\n\t\t\t\t\t}\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t}\r\n\t\t<Drawer className={classes.drawer}\r\n\t\t\tanchor=\"right\"\r\n\t\t\tvariant=\"temporary\"\r\n\t\t\topen={isDrawerOpened !== \"\"}\r\n\t\t>\r\n\t\t<Box className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t\t<VsCancel align=\"right\" onClick={() => {setIsDrawerOpened(\"\")}} />\r\n\t\t{((isDrawerOpened === \"ADDMED\") || (isDrawerOpened === \"EDITMED\")) &&\r\n\t\t\t<ValidatorForm align=\"center\" className={gClasses.form} onSubmit={handleMedicineUpdate}>\r\n\t\t\t\t<Typography align=\"center\" className={classes.modalHeader}>\r\n\t\t\t\t\t{((isDrawerOpened === \"ADDMED\") ? \"New Medicine\" : \"Edit Medicine\")+` for ${currentPatient}`}\r\n\t\t\t\t</Typography>\r\n\t\t\t\t{(false) && <VsButton name=\"Select Medicine\" align=\"right\" onClick={() => setIsListDrawer(\"LIST\")} />}\r\n\t\t\t\t<BlankArea />\r\n\t\t\t\t{/*<TextValidator required fullWidth color=\"primary\"\r\n\t\t\t\t\tid=\"newName\" label=\"Medicine\" name=\"newName\"\r\n\t\t\t\t\tonChange={(event) => setEmurNameWithFilter(event.target.value)}\r\n\t\t\t\t\tvalue={emurName}\r\n\t\t\t\t/>*/}\r\n\t\t\t\t<VsTextFilter type=\"text\" label=\"Medicine\" value={emurName}\r\n\t\t\t\t\tonChange={(event) => setEmurNameWithFilter(event.target.value)}\r\n\t\t\t\t\tonClear={(event) => setEmurNameWithFilter(\"\")}\r\n\t\t\t\t/>\t\r\n\t\t\t\t<VsCheckBox align='left' label=\"Remember\" checked={remember} onClick={() => setRemember(!remember)} />\r\n\t\t\t\t<VsList listArray={filterItemArray} onSelect={handleVsSelect} onDelete={handleVsMedicineDelete} />\r\n\t\t\t\t<BlankArea />\r\n\t\t\t\t<Grid key=\"editmed\" container justify=\"center\" alignItems=\"left\" >\r\n\t\t\t\t<Grid className={gClasses.vgSpacing} item xs={1} sm={1} md={1} lg={1} >\r\n\t\t\t\t<Typography className={classes.heading}>Dose1:</Typography>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid className={gClasses.vgSpacing} item xs={2} sm={2} md={2} lg={2} >\r\n\t\t\t\t<Select labelId='dose1' id='dose1' name=\"dose1\" \r\n\t\t\t\t\trequired fullWidth label=\"Dose 1\" \r\n\t\t\t\t\tvalue={emedDose1}\r\n\t\t\t\t\tinputProps={{\r\n\t\t\t\t\t\tname: 'Group',\r\n\t\t\t\t\t\tid: 'filled-age-native-simple',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tonChange={(event) => setEmedDose1(event.target.value)}\r\n\t\t\t\t\t>\r\n\t\t\t\t{medQty.map(x =>\t<MenuItem key={x.str} value={x.num}>{x.str}</MenuItem>)}\r\n\t\t\t\t</Select>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item className={gClasses.vgSpacing}  xs={1} sm={1} md={1} lg={1} >\r\n\t\t\t\t<Typography className={classes.heading}>Dose2</Typography>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item className={gClasses.vgSpacing}  xs={2} sm={2} md={2} lg={2} >\r\n\t\t\t\t<Select labelId='dose2' id='dose2' name=\"dose2\" \r\n\t\t\t\t\trequired fullWidth label=\"Dose 2\" \r\n\t\t\t\t\tvalue={emedDose2}\r\n\t\t\t\t\tinputProps={{\r\n\t\t\t\t\t\tname: 'Group',\r\n\t\t\t\t\t\tid: 'filled-age-native-simple',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tonChange={(event) => setEmedDose2(event.target.value)}\r\n\t\t\t\t\t>\r\n\t\t\t\t{medQty.map(x =>\t<MenuItem key={x.str} value={x.num}>{x.str}</MenuItem>)}\r\n\t\t\t\t</Select>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item className={gClasses.vgSpacing}  xs={1} sm={1} md={1} lg={1} >\r\n\t\t\t\t<Typography className={classes.heading}>Dose3</Typography>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item className={gClasses.vgSpacing}  xs={2} sm={2} md={2} lg={2} >\r\n\t\t\t\t<Select labelId='dose3' id='dose3' name=\"dose3\" \r\n\t\t\t\t\trequired fullWidth label=\"Dose 3\" \r\n\t\t\t\t\tvalue={emedDose3}\r\n\t\t\t\t\tinputProps={{\r\n\t\t\t\t\t\tname: 'Group',\r\n\t\t\t\t\t\tid: 'filled-age-native-simple',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tonChange={(event) => setEmedDose3(event.target.value)}\r\n\t\t\t\t\t>\r\n\t\t\t\t{medQty.map(x =>\t<MenuItem key={x.str} value={x.num}>{x.str}</MenuItem>)}\r\n\t\t\t\t</Select>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid className={gClasses.vgSpacing}  item xs={1} sm={1} md={1} lg={1} />\r\n\t\t\t\t<Grid item className={gClasses.vgSpacing}  xs={1} sm={1} md={1} lg={1} >\r\n\t\t\t\t<Typography className={classes.heading}>for</Typography>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid className={gClasses.vgSpacing} item xs={2} sm={2} md={2} lg={2} >\r\n\t\t\t\t<Select labelId='time' id='time' name=\"time\"\r\n\t\t\t\t\trequired fullWidth label=\"Time\" \r\n\t\t\t\t\tvalue={emedTime}\r\n\t\t\t\t\tplaceholder=\"Arun\"\r\n\t\t\t\t\tinputProps={{\r\n\t\t\t\t\t\tname: 'Group',\r\n\t\t\t\t\t\tid: 'filled-age-native-simple',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tonChange={(event) => setEmedTime(event.target.value)}\r\n\t\t\t\t\t>\r\n\t\t\t\t{timeArray.map(x =>\t<MenuItem key={x} value={x}>{x}</MenuItem>)}\r\n\t\t\t\t</Select>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid className={gClasses.vgSpacing}  item xs={2} sm={2} md={2} lg={2} >\r\n\t\t\t\t<Select labelId='unit' id='unit' name=\"unit\" \r\n\t\t\t\t\trequired fullWidth label=\"Unit\" \r\n\t\t\t\t\tvalue={emedUnit}\r\n\t\t\t\t\tinputProps={{\r\n\t\t\t\t\t\tname: 'Group',\r\n\t\t\t\t\t\tid: 'filled-age-native-simple',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tonChange={(event) => setEmedUnit(event.target.value)}\r\n\t\t\t\t\t>\r\n\t\t\t\t{unitArray.map(x =>\t<MenuItem key={x} value={x}>{x}</MenuItem>)}\r\n\t\t\t\t</Select>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<ModalResisterStatus />\r\n\t\t\t\t<BlankArea />\r\n\t\t\t\t<VsButton type=\"submit\" \r\n\t\t\t\tname= {(isDrawerOpened === \"ADDMED\") ? \"Add\" : \"Update\"}\r\n\t\t\t\t/>\r\n\t\t\t</ValidatorForm>\r\n\t\t}\r\n\t\t{((isDrawerOpened === \"ADDNOTE\") || (isDrawerOpened === \"EDITNOTE\")) &&\r\n\t\t\t<ValidatorForm align=\"center\" className={gClasses.form} onSubmit={updateUserNotes}>\r\n\t\t\t\t<Typography align=\"center\" className={classes.modalHeader}>\r\n\t\t\t\t\t{((isDrawerOpened === \"ADDNOTE\") ? \"New Note\" : \"Edit Note\")+` for ${currentPatient}`}\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<BlankArea />\r\n\t\t\t\t{/*<TextValidator required fullWidth color=\"primary\"\r\n\t\t\t\t\tid=\"newName\" label=\"Note\" name=\"newName\"\r\n\t\t\t\t\tonChange={(event) => setEmurNameWithFilter(event.target.value)}\r\n\t\t\t\t\tvalue={emurName}\r\n\t\t\t\t/>*/}\r\n\t\t\t\t<VsTextFilter type=\"text\" label=\"Note\" value={emurName}\r\n\t\t\t\t\tonChange={(event) => setEmurNameWithFilter(event.target.value)}\r\n\t\t\t\t\tonClear={(event) => setEmurNameWithFilter(\"\")}\r\n\t\t\t\t/>\t\t\t\t\r\n\t\t\t\t<VsCheckBox align='left' label=\"Remember\" checked={remember} onClick={() => setRemember(!remember)} />\r\n\t\t\t\t<VsList listArray={filterItemArray} onSelect={handleVsSelect} onDelete={handleVsNoteDelete} />\r\n\t\t\t\t<ModalResisterStatus />\r\n\t\t\t\t<BlankArea />\r\n\t\t\t\t<VsButton type =\"submit\" name= {(isDrawerOpened === \"ADDNOTE\") ? \"Add\" : \"Update\"} />\r\n\t\t\t</ValidatorForm>\r\n\t\t}\r\n\t\t{((isDrawerOpened === \"ADDREM\") || (isDrawerOpened === \"EDITREM\")) &&\r\n\t\t\t<ValidatorForm align=\"center\" className={gClasses.form} onSubmit={updateRemark} >\r\n\t\t\t\t<Typography align=\"center\" className={classes.modalHeader}>\r\n\t\t\t\t\t{((isDrawerOpened === \"ADDREM\") ? \"New Remark\" : \"Edit Remark\")+` for ${currentPatient}`}\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<BlankArea />\r\n\t\t\t\t{/*<TextValidator required fullWidth color=\"primary\"\r\n\t\t\t\t\tid=\"newName\" label=\"Remark\" name=\"newName\"\r\n\t\t\t\t\tonChange={(event) => setEmurNameWithFilter(event.target.value)}\r\n\t\t\t\t\tvalue={emurName}\r\n\t\t\t\t/>*/}\r\n\t\t\t\t<VsTextFilter type=\"text\" label=\"Remark\" value={emurName}\r\n\t\t\t\t\tonChange={(event) => setEmurNameWithFilter(event.target.value)}\r\n\t\t\t\t\tonClear={(event) => setEmurNameWithFilter(\"\")}\r\n\t\t\t\t/>\t\t\t\r\n\t\t\t\t<VsCheckBox align='left' label=\"Remember\" checked={remember} onClick={() => setRemember(!remember)} />\r\n\t\t\t\t<VsList listArray={filterItemArray} onSelect={handleVsSelect} onDelete={handleVsRemarkDelete} />\r\n\t\t\t\t<ModalResisterStatus />\r\n\t\t\t\t<BlankArea />\r\n\t\t\t\t<VsButton type=\"submit\" name= {(isDrawerOpened === \"ADDREM\") ? \"Add\" : \"Update\"}\r\n\t\t\t\t/>\r\n\t\t\t</ValidatorForm>\r\n\t\t}\r\n\t\t</Box>\r\n\t\t</Drawer>\t\r\n\t\t</div>\r\n\t}\r\n\t</div>\r\n  );    \r\n}\r\n","import React from 'react';\r\nimport Box from '@material-ui/core/Box';\r\nimport globalStyles from \"assets/globalStyles\";\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { InputAdornment } from '@material-ui/core';\r\n\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\n\r\n//function arunSelect(x) { console.log(\"sel\", x) };\r\n\r\nexport default function VsTextSearch(props) {\r\nconst gClasses = globalStyles();\r\nlet _type = (props.type == null) ? 'text' : props.type;\r\n\treturn (\r\n\t\t<TextField type={_type} className={gClasses.vgSpacing} padding={5} fullWidth \r\n\t\t\tlabel={props.label} onChange={props.onChange} value={props.value}\r\n\t\t\tInputProps={\r\n\t\t\t\t{\r\n\t\t\t\t\tendAdornment: (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<InputAdornment position=\"end\">\r\n\t\t\t\t\t\t<ClearIcon onClick={props.onClear} />\r\n\t\t\t\t\t\t<SearchIcon />\r\n\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport axios from \"axios\";\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { InputAdornment, makeStyles, Container, CssBaseline } from '@material-ui/core';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport SwitchBtn from '@material-ui/core/Switch';\r\nimport { usePromiseTracker, trackPromise } from \"react-promise-tracker\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport Box from '@material-ui/core/Box';\r\nimport Modal from 'react-modal';\r\n\r\nimport VsButton from \"CustomComponents/VsButton\";\r\nimport VsCancel from \"CustomComponents/VsCancel\"\r\nimport VsTextSearch from \"CustomComponents/VsTextSearch\";\r\n\r\nimport { borders } from '@material-ui/system';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport Datetime from \"react-datetime\";\r\nimport \"react-datetime/css/react-datetime.css\";\r\nimport moment from \"moment\";\r\nimport {setTab} from \"CustomComponents/CricDreamTabs.js\"\r\nimport { useAlert } from 'react-alert'\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport _ from 'lodash'\r\n\r\n\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\nimport Avatar from \"@material-ui/core/Avatar\"\r\n//import validator from 'validator'\r\n\r\n// styles\r\nimport globalStyles from \"assets/globalStyles\";\r\nimport modalStyles from \"assets/modalStyles\";\r\nimport {dynamicModal } from \"assets/dynamicModal\";\r\n\r\n\r\nimport Switch from \"@material-ui/core/Switch\";\r\nimport Link from '@material-ui/core/Link';\r\n\r\nimport {DisplayPageHeader, ValidComp, BlankArea, DisplayYesNo,\r\nDisplayPatientDetails,\r\nDisplayPatientBox,\r\nDisplayAppointmentDetails, DisplayAppointmentBox,\r\n} from \"CustomComponents/CustomComponents.js\"\r\n\r\nimport { LeakRemoveTwoTone, LensTwoTone } from '@material-ui/icons';\r\n\r\nimport {\r\nWEEKSTR, SHORTMONTHSTR, \r\nHOURSTR, MINUTESTR,\r\nMONTHSTR, DATESTR, MONTHNUMBERSTR,\r\nVISITTYPE,\r\nstr1by4, str1by2,  str3by4,\r\nBLOCKNUMBER,\r\n} from 'views/globals';\r\n\r\n// icons\r\nimport FileCopyIcon from '@material-ui/icons/FileCopy';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\n//import DeleteIcon from '@material-ui/icons/Delete';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport DeleteIcon from '@material-ui/icons/Cancel';\r\nimport LocalHospitalIcon from '@material-ui/icons/LocalHospital';\r\nimport EventNoteIcon from '@material-ui/icons/EventNote';\r\nimport AddIcon from '@material-ui/icons/AddCircleOutline';\r\nimport LeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport RightIcon from '@material-ui/icons/ChevronRight';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\n\r\n//colours \r\nimport { \r\nred, blue, grey, yellow, orange, pink, green, brown, deepOrange, lightGreen, blueGrey, lime,\r\n} from '@material-ui/core/colors';\r\n\r\nimport { \r\n\tisMobile, callYesNo,\r\n\tdisablePastDt, disableFutureDt, disableAllDt,\r\n\tvalidateInteger,\r\n\tencrypt, decrypt, \r\n\tleft, right,\r\n\tintString,\r\n\tupdatePatientByFilter,\r\n\tdispAge, dispEmail, dispMobile,\r\n\tordinalSuffix,\r\n\tcompareDate, makeTimeString,\r\n\tgetAllPatients,\r\n\tvsDialog,\r\n\tgenerateOrder, generateOrderByDate,\r\n} from \"views/functions.js\";\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\twidth: '100%',\r\n\t}, \r\n\tselIndex: {\r\n\t\tcolor: 'blue',\r\n\t\tfontSize: theme.typography.pxToRem(14),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t},\r\n\tslotTitle: {\r\n\t\tcolor: 'green',\r\n\t\tfontSize: theme.typography.pxToRem(28),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tpadding: \"10px 10px\", \r\n\t\tmargin: \"10px 10px\", \r\n\t},\r\n\tunselIndex: {\r\n\t\tfontSize: theme.typography.pxToRem(14),\r\n\t},\r\n\tavailableSlot: {\r\n\t\tpadding: \"5px 10px\", \r\n\t\tmargin: \"4px 2px\", \r\n\t\tborderColor: 'blue',\r\n\t\t//backgroundColor: blue[300] \r\n\t},\r\n\tpendingSlot: {\r\n\t\tpadding: \"5px 10px\", \r\n\t\tmargin: \"4px 2px\", \r\n\t\tborderColor: 'blue',\r\n\t\t//backgroundColor: blue[300] \r\n\t},\r\n\texpiredSlot: {\r\n\t\tpadding: \"5px 10px\", \r\n\t\tmargin: \"4px 2px\", \r\n\t\tborderColor: 'blue',\r\n\t\tbackgroundColor: grey[500],\r\n\t},\r\n\tvisitSlot: {\r\n\t\tpadding: \"5px 10px\", \r\n\t\tmargin: \"4px 2px\", \r\n\t\tborderColor: 'blue',\r\n\t\tbackgroundColor: lightGreen[\"A400\"],\r\n\t},\r\n\tfreeSlot: {\r\n\t\tpadding: \"5px 10px\", \r\n\t\tmargin: \"4px 2px\", \r\n\t\tborderColor: 'blue',\r\n\t\t//backgroundColor: blue[300] \r\n\t},\r\n\tusedSlot: {\r\n\t\tpadding: \"5px 10px\", \r\n\t\tmargin: \"4px 2px\", \r\n\t\tborderColor: 'blue',\r\n\t\tbackgroundColor: grey[500],\r\n\t},\r\n\tslotboxStyle: {\r\n\t\tborderColor: 'blue', \r\n\t\tborderRadius: 7, \r\n\t\tborder: 1,\r\n\t},\r\n\tdateTime: {\r\n\t\tcolor: 'blue',\r\n\t\tfontSize: theme.typography.pxToRem(28),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tbackgroundColor: pink[100],\r\n\t\talign: 'center',\r\n\t\twidth: (isMobile()) ? '60%' : '20%',\r\n\t}, \r\n\tdateTimeNormal: {\r\n\t\tcolor: 'blue',\r\n\t\tfontSize: theme.typography.pxToRem(14),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t//backgroundColor: pink[100],\r\n\t\talign: 'center',\r\n\t\t//width: (isMobile()) ? '60%' : '20%',\r\n\t}, \r\n\tdateTimeBlock: {\r\n\t\tcolor: 'blue',\r\n\t\t//fontSize: theme.typography.pxToRem(28),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t//backgroundColor: pink[100],\r\n\t}, \r\n\tinfo: {\r\n\t\t\tcolor: blue[700],\r\n\t}, \r\n\tfilterRadio: {\r\n\t\t\tfontSize: theme.typography.pxToRem(14),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: '#000000',\t\r\n\t},\r\n\tswitchText: {\r\n\t\tfontSize: theme.typography.pxToRem(14),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t}, \r\n\t\torange: {\r\n\t\t\tbackgroundColor: orange[300],\r\n\t\t\tcolor: '#000000',\r\n\t\t},\r\n    header: {\r\n\t\t\tcolor: '#D84315',\r\n    }, \r\n    error:  {\r\n      // right: 0,\r\n      fontSize: '12px',\r\n      color: red[700],\r\n      // position: 'absolute',\r\n      alignItems: 'center',\r\n      marginTop: '0px',\r\n\t\t},\r\n\t\teditdelete: {\r\n\t\t\tmarginLeft:  '50px',\r\n\t\t\tmarginRight: '50px',\r\n\t\t},\r\n\t\tNoMedicines: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: blue[700]\r\n\t\t},  \r\n\t\tradio: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: \"blue\",\r\n\t\t},\r\n\t\tmedicine: {\r\n\t\t\tfontSize: theme.typography.pxToRem(15),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: blue[700]\r\n\t\t},  \r\n\t\tmodalHeader: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: 'blue',\r\n\t\t},\r\n\t\tmessageText: {\r\n\t\t\tcolor: '#4CC417',\r\n\t\t\tfontSize: 12,\r\n\t\t\t// backgroundColor: green[700],\r\n    },\r\n    symbolText: {\r\n        color: '#4CC417',\r\n        // backgroundColor: green[700],\r\n    },\r\n    button: {\r\n\t\t\tmargin: theme.spacing(0, 1, 0),\r\n    },\r\n\t\ttitle: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: blue[700],\r\n\t\t},\r\n    heading: {\r\n\t\t\tfontSize: theme.typography.pxToRem(15),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t},\r\n\t\taccordianSummary: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\t//backgroundColor: pink[100],\r\n\t\t},\r\n\t\tzeroAppt: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tbackgroundColor: pink[100],\r\n\t\t},\r\n\t\tnormalAccordian: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tbackgroundColor: pink[100],\r\n\t\t},\r\n\t\tselectedAccordian: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tbackgroundColor: yellow[100],\r\n\t\t},\r\n    secondaryHeading: {\r\n      fontSize: theme.typography.pxToRem(15),\r\n      color: theme.palette.text.secondary,\r\n    },\r\n\t\tnoPadding: {\r\n\t\t\tpadding: \"none\", \r\n\t\t},\r\n\tapptName: {\r\n\t\tfontSize: theme.typography.pxToRem(15),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tcolor: blue[700]\r\n\t},  \r\n\tnewAppt: {\r\n\t\tbackgroundColor: pink[100],\r\n\t},\r\n\tallAppt: {\r\n\t\tbackgroundColor: blue[100],\r\n\t},\r\n\tselect: {\r\n\t\tpadding: \"none\", \r\n\t\tbackgroundColor: '#B3E5FC',\r\n\t\tmargin: \"none\",\r\n\t},\r\n\ttable: {\r\n    //minWidth: 750,\r\n  },\r\n  td : {\r\n    border: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n  },\r\n\ttdPending : {\r\n    border: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tborderWidth: 1,\r\n\t\tbackgroundColor: blue[100],\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n  },\r\n\ttdCancel : {\r\n\t\tbackgroundColor: pink[100],\r\n    border: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n  },\r\n\ttdVisit : {\r\n\t\tbackgroundColor: lime[300],\r\n    border: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n  },\r\n\tth: { \r\n\t\tborder: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tfontSize: theme.typography.pxToRem(13),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t//backgroundColor: '#FFA726',\r\n\t\tbackgroundColor: deepOrange[200],\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n\t},\r\n\twd: {\r\n\t\tborder: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tbackgroundColor: '#E0E0E0',\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n\t},\r\n\twe: {\r\n\t\tborder: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tbackgroundColor: '#F8BBD0',\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n\t},\r\n\ttoday: {\r\n\t\tborder: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tbackgroundColor: green[300],\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n\t},\r\n\tnoday: {\r\n\t\tborder: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tbackgroundColor: blueGrey[300],\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n\t},\r\n\tho: {\r\n\t\tborder: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tbackgroundColor: yellow[400],\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n\t},\r\n}));\r\n\r\n\r\nconst ROWSPERPAGE = 10;\r\nlet dense = false;\r\n\r\n\r\nlet test=[];\r\nlet medQty=[];\r\nconst timeArray=[1,2, 3, 4, 5, 7, 8, 9, 10, 11, 12, 13, 14, 15];\r\nconst unitArray=[\"Day(s)\", \"Weeks(s)\", \"Month(s)\"];\r\n\r\nconst MINUTEBLOCK = [0, 15, 30, 45];\r\n\r\nconst menuModal = (isMobile()) ? dynamicModal('50%') : dynamicModal('20%');\r\nconst yesNoModal = dynamicModal('60%');\r\n\r\nlet defaultDirectoryMode=true;\r\n\r\nlet aptDate = new Date();\r\nfunction setAptDate(d) { aptDate = d; }\r\n\r\nvar workingHours;\r\nvar timeSlots;\r\nconst NUMBEROFDAYS = (isMobile()) ? 3 : 5;\r\nvar userCid;\r\nvar customerData;\r\n\r\nexport default function Appointment() {\r\n  const classes = useStyles();\r\n\tconst gClasses = globalStyles();\r\n\tconst alert = useAlert();\r\n\t\r\n\tconst [searchText, setSearchText] = useState(\"\");\r\n\t\r\n\tconst [registerStatus, setRegisterStatus] = useState(0);\r\n\t\r\n  const [patientArray, setPatientArray] = useState([])\r\n\tconst [patientMasterArray, setPatientMasterArray] = useState([]);\r\n\tconst [currentPatient, setCurrentPatient] = useState(\"\");\r\n\tconst [currentPatientData, setCurrentPatientData] = useState({});\r\n\tconst [allPendingAppt, setAllPendingAppt] = useState([])\r\n\tconst [emurName, setEmurName] = useState(\"\");\r\n\tconst [modalRegister, setModalRegister] = useState(0)\r\n\tconst [radioValue, setRadioValue] = useState(\"Male\");\r\n\tconst [isDrawerOpened, setIsDrawerOpened] = useState(false);\r\n\t\r\n\tconst\t[patientName, setPatientName] = useState(\"\");\r\n\tconst\t[patientAge, setPatientAge] = useState(0);\r\n\tconst\t[patientGender, setPatientGender] = useState(\"Male\");\r\n\tconst\t[patientEmail, setPatientEmail] = useState(\"\");\r\n\tconst\t[patientMobile, setPatientMobile] = useState(0);\r\n\tconst [patientDob, setPatientDob] = useState(new Date(2000, 1, 1));\r\n\t\r\n\tconst [directoryMode, setDirectoryMode] = useState(defaultDirectoryMode);\r\n\tconst [monthYearDate, setMonthYearDate] = useState(new Date());\r\n\r\n\tconst [modalIsOpen,setIsOpen] = useState(\"\");\r\n\tfunction openModal(fun) { setIsOpen(fun); }\r\n  function closeModal() { setIsOpen(\"\"); }\t\r\n  function afterOpenModal() {\r\n    // references are now sync'd and can be accessed.\r\n    //subtitle.style.color = '#f00';\r\n  }\r\n\t\r\n\tconst [selectPatient, setSelectPatient] = useState(false);\r\n\tconst [year, setYear] = useState(\"2021\");\r\n\tconst [month, setMonth] = useState(\"September\");\r\n\tconst [lastDayOfMonth, setLastDayOfMonth] = useState(0);\r\n\tconst [monthlyMode, setMonthlyMode] = useState(true);\r\n\tconst [beforeToday, setBeforeToday] = useState(true);\r\n\t\r\n\tconst [apptMatrix, setApptMatrix] = useState([]);\r\n\tconst [holidayArray, setHolidayArray] = useState([]);\r\n\tconst [menuData, setMenuData] = useState({});\r\n\tconst [apptCountArray, setApptCountArray] = useState([]);\r\n\t\r\n\r\n\tconst [newErrorMessage, setNewErrorMessage] = useState(\"\");\r\n\tconst [newAppointment, setNewAppointment] = useState(false);\r\n\r\n\t\r\n\t\r\n\tconst [apptHour, setApptHour] = useState(\"\");\r\n\t//const [apptMinute, setApptMinute] = useState(MINUTESTR[0]);\r\n\tconst [apptArray, setApptArray] = useState([]);\r\n\tconst [masterApptArray, setMasterApptArray] = useState([]);\r\n\t\r\n\t//const [dateArray, setDateArray] = useState([]);\r\n\tconst [currentIndex, setCurrentIndex] = useState(0);\r\n\tconst [allTimeSlots, setAllTimeSlots] = useState([]);\r\n\t\r\n  useEffect(() => {\t\r\n\t\tlet PgetAllHolidays;\r\n\t\tlet PgetAllPendingAppointment;\r\n\t\tlet PgetAllMyPatients;\r\n\t\tlet PcheckFromPatient;\r\n\t\t\r\n\t\tcustomerData = JSON.parse(sessionStorage.getItem(\"customerData\"));\r\n\t\tuserCid = sessionStorage.getItem(\"cid\");\r\n\t\t\r\n\t\tconst getAllPendingAppointment  = async () => {\r\n\t\t\tallPending = await reloadAppointmentDetails();\r\n\t\t}\r\n\t\tconst getAllHolidays  = async () => {\r\n\t\t\tlet allHolidays;\r\n\t\t\ttry {\r\n\t\t\t\tlet resp = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/holiday/fromtoday/${userCid}`);\r\n\t\t\t\tallHolidays = resp.data;\r\n\t\t\t} catch(e) {\r\n\t\t\t\tallHolidays = [];\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t}\r\n\t\t\tfinally {\r\n\t\t\t\tsetHolidayArray(allHolidays);\r\n\t\t\t\treturn allHolidays;\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst getAllMyPatients  = async () => {\r\n\t\t\tlet ppp = await getAllPatients(userCid);\r\n\t\t\treturn ppp;\t\t\t\t\r\n\t\t}\r\n\t\tconst makeSlots  = async () => {\r\n\t\t\tlet allHolidays = await PgetAllHolidays;\r\n\t\t\tlet allPendingAppt = await PgetAllPendingAppointment;\r\n\t\t\tgenerateSlots(allPendingAppt, allHolidays);\t\t\t\r\n\t\t}\r\n\t\tconst checkFromPatient = async () => {\r\n\t\t\tlet ppp = await PgetAllMyPatients;\t\r\n\t\t\tsetPatientMasterArray(ppp);\r\n\t\t\tsetSearchText(\"\");\r\n\t\t\tsetPatientFilter(ppp, \"\");\r\n\t\t\t/*** Now directly called form button and not from patient etc.\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\t// check if has come from patient view.\r\n\t\t\t\tlet dirPatient = JSON.parse(sessionStorage.getItem(\"shareData\"));\r\n\t\t\t\tsessionStorage.setItem(\"shareData\", \"\");\t\t// clean up\r\n\t\t\t\t//console.log(dirPatient);\r\n\t\t\t\t\r\n\t\t\t\tawait getAppointmentsByPid(dirPatient.pid)\r\n\t\t\t\tsetSearchText(dirPatient.displayName);\r\n\t\t\t\tsetPatientFilter(ppp, dirPatient.displayName);\r\n\t\t\t\tsetCurrentPatientData(dirPatient);\r\n\t\t\t\tsetCurrentPatient(dirPatient.displayName);\r\n\t\t\t} catch {\r\n\t\t\t\t// nothing to be done\r\n\t\t\t\tconsole.log(\"direct\");\r\n\t\t\t\tsetSearchText(\"\");\r\n\t\t\t\tsetPatientFilter(ppp, \"\");\r\n\t\t\t\t//setCurrentPatientData({});\r\n\t\t\t\t//setCurrentPatient(\"\");\r\n\t\t\t} \r\n\t\t\t***/\r\n\t\t}\t\r\n\t\t\r\n\t\t// fetch data 1 by 1 \r\n\t\tPgetAllMyPatients = getAllMyPatients();\r\n\t\tPgetAllHolidays = getAllHolidays();\r\n\t\tPgetAllPendingAppointment = reloadAppointmentDetails();\r\n\t\tmakeSlots();\r\n\t\tPcheckFromPatient = checkFromPatient();\r\n\t\t//handleMyAppt();\r\n  }, []);\r\n\r\n\tasync function reloadAppointmentDetails() {\r\n\t\t// get all pending apt\r\n\t\tlet allPending;\r\n\t\ttry {\r\n\t\t\t//let resp = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/appointment/pendinglist/all/${userCid}`);\r\n\t\t\tlet resp = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/appointment/list/all/fromtoday/${userCid}`);\r\n\t\t\tallPending = resp.data;\r\n\t\t} catch(e) {\r\n\t\t\tallPending = [];\r\n\t\t\tconsole.log(e);\r\n\t\t}\r\n\t\tfinally {\r\n\t\t\tsetAllPendingAppt(allPending);\t\r\n\t\t\treturn\tallPending;\r\n\t\t}\t\t\r\n\t}\r\n\t\r\n\tfunction generateSlots(allPendingAppt, allHolidays) {\r\n\t\tlet d;\r\n\t\tlet slotData = [];\r\n\t\tfor(let i=0; i<NUMBEROFDAYS; ++i) {\r\n\t\t\td = (i === 0) ? getFirstDate(allHolidays) : getNextDate(d, allHolidays);\r\n\t\t\t//console.log(d);\r\n\t\t\tslotData.push(prepareData(d, allPendingAppt));\r\n\t\t}\r\n\t\tsetAllTimeSlots(slotData);\r\n\t\tsetCurrentIndex(0);\r\n\t}\r\n\t\r\n\tfunction setNewCurrentIndex(idx) {\r\n\t\tlet itIsToday = false;\r\n\t\tlet today = new Date();\r\n\t\tif (idx === 0) {\r\n\t\t\t//console.log(idx, allTimeSlots[idx].date, allTimeSlots[idx].month, allTimeSlots[idx].year);\r\n\t\t\tif ((allTimeSlots[idx].date === today.getDate()) &&\r\n\t\t\t\t(allTimeSlots[idx].month === today.getMonth()) &&\r\n\t\t\t\t(allTimeSlots[idx].year === today.getFullYear())) {\r\n\t\t\t\titIsToday = true;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (itIsToday) {\r\n\t\t\t//console.log(\"It is today\", itIsToday);\r\n\t\t\tlet currentSlot = [].concat(allTimeSlots);\r\n\t\t\tlet currentOrder = generateOrderByDate(today);\r\n\t\t\t// update morning slots\r\n\t\t\tfor(let i=0; i<currentSlot[idx].morningSlots.length; ++i) {\r\n\t\t\t\tif (currentSlot[idx].morningSlots[i].visit !== \"available\") continue;\r\n\t\t\t\t//console.log(currentSlot[idx].morningSlots[i]);\r\n\t\t\t\tlet requestedOrder = generateOrder(\r\n\t\t\t\t\tcurrentSlot[idx].morningSlots[i].year,\r\n\t\t\t\t\tcurrentSlot[idx].morningSlots[i].month,\r\n\t\t\t\t\tcurrentSlot[idx].morningSlots[i].date,\r\n\t\t\t\t\tcurrentSlot[idx].morningSlots[i].hour,\r\n\t\t\t\t\tcurrentSlot[idx].morningSlots[i].minute);\r\n\t\t\t\t\t\r\n\t\t\t\t\t//console.log(requestedOrder, currentOrder); \r\n\t\t\t\t\tif (requestedOrder > currentOrder) break;\r\n\t\t\t\t\tcurrentSlot[idx].morningSlots[i].name = \"-\"\r\n\t\t\t\t\tcurrentSlot[idx].morningSlots[i].visit = 'expired';\r\n\t\t\t}\r\n\t\t\t// update afternoon slots\r\n\t\t\tfor(let i=0; i<currentSlot[idx].afternoonSlots.length; ++i) {\r\n\t\t\t\tif (currentSlot[idx].afternoonSlots[i].visit !== \"available\") continue;\r\n\t\t\t\tlet requestedOrder = generateOrder(\r\n\t\t\t\t\tcurrentSlot[idx].afternoonSlots[i].year,\r\n\t\t\t\t\tcurrentSlot[idx].afternoonSlots[i].month,\r\n\t\t\t\t\tcurrentSlot[idx].afternoonSlots[i].date,\r\n\t\t\t\t\tcurrentSlot[idx].afternoonSlots[i].hour,\r\n\t\t\t\t\tcurrentSlot[idx].afternoonSlots[i].minute);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (requestedOrder > currentOrder) break;\r\n\t\t\t\t\tcurrentSlot[idx].afternoonSlots[i].name = \"-\"\r\n\t\t\t\t\tcurrentSlot[idx].afternoonSlots[i].visit = 'expired';\r\n\t\t\t}\r\n\t\t\t// update evening slots\r\n\t\t\tfor(let i=0; i<currentSlot[idx].eveningSlots.length; ++i) {\r\n\t\t\t\tif (currentSlot[idx].eveningSlots[i].visit !== \"available\") continue;\r\n\t\t\t\tlet requestedOrder = generateOrder(\r\n\t\t\t\t\tcurrentSlot[idx].eveningSlots[i].year,\r\n\t\t\t\t\tcurrentSlot[idx].eveningSlots[i].month,\r\n\t\t\t\t\tcurrentSlot[idx].eveningSlots[i].date,\r\n\t\t\t\t\tcurrentSlot[idx].eveningSlots[i].hour,\r\n\t\t\t\t\tcurrentSlot[idx].eveningSlots[i].minute);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (requestedOrder > currentOrder) break;\r\n\t\t\t\t\tcurrentSlot[idx].eveningSlots[i].name = \"-\"\r\n\t\t\t\t\tcurrentSlot[idx].eveningSlots[i].visit = 'expired';\r\n\t\t\t}\r\n\t\t\r\n\t\t\t// now all done. Update all time slots\r\n\t\t\tsetAllTimeSlots(currentSlot);\r\n\t\t}\r\n\t\tsetCurrentIndex(idx);\r\n\t}\r\n\t\r\n\t// returns true if appointment of given time\r\n\tfunction checkAppt(year, month, date, hr, min, allAppt) {\r\n\t\t//console.log(allAppt);\r\n\t\tlet tmp = allAppt.find( x =>\r\n\t\t\tx.year === year && x.month === month && x.date === date &&\r\n\t\t\tx.hour === hr && x.minute === min);\r\n\t\t//console.log(date, hr, min, tmp);\r\n\t\tlet retStr = {name: `$HOURSTR[hr]}:${MINUTESTR[min]}`, visit: 'available'};\r\n\t\tif (tmp) {\r\n\t\t\tretStr.name = tmp.displayName;\r\n\t\t\tretStr.visit = (tmp.visit === 'pending') ? 'pending' : 'visit';\r\n\t\t} else {\r\n\t\t\t// if not appointment, then check if appointment of old date time\r\n\t\t\tlet currentOrder = generateOrderByDate(new Date());\r\n\t\t\tlet requestedOrder = generateOrder(year, month, date, hr, min);\r\n\t\t\tif (requestedOrder < currentOrder) {\r\n\t\t\t\tretStr.name = \"-\"\r\n\t\t\t\tretStr.visit = 'expired';\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn (retStr);\r\n\t}\r\n\t\r\n\tfunction prepareData(d, allAppt) {\r\n\t\tlet morningSlots = [];\r\n\t\tlet afternoonSlots = [];\r\n\t\tlet eveningSlots = [];\r\n\t\tlet workingHours = customerData.workingHours;\r\n\t\t\r\n\t\tlet myYear = d.getFullYear();\r\n\t\tlet myMonth = d.getMonth();\r\n\t\tlet myDate = d.getDate();\r\n\t\tlet myDay = d.getDay();\r\n\t\t// for morning slots\r\n\t\tfor(let blk=BLOCKNUMBER.morningBlockStart; blk<=BLOCKNUMBER.morningBlockEnd; ++blk) {\r\n\t\t\tif (workingHours.includes(myDay*100+blk)) {\r\n\t\t\t\tlet hour = Math.floor(blk / 4);\r\n\t\t\t\tlet minute = MINUTEBLOCK[blk % 4];\r\n\t\t\t\tlet apptSts = checkAppt(myYear, myMonth, myDate, hour, minute, allAppt);\r\n\t\t\t\tmorningSlots.push({year: myYear, month: myMonth, date: myDate,\r\n\t\t\t\t\thour: hour,\r\n\t\t\t\t\tminute: minute,\r\n\t\t\t\t\tdateTime: d, \r\n\t\t\t\t\tday: myDay,\r\n\t\t\t\t\tslot: HOURSTR[hour] + \":\" + MINUTESTR[minute],\r\n\t\t\t\t\tname: apptSts.name,\r\n\t\t\t\t\tvisit: apptSts.visit\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\t// for afternoon slots\r\n\t\tfor(let blk=BLOCKNUMBER.afternoonBlockStart; blk<=BLOCKNUMBER.afternoonBlockEnd; ++blk) {\r\n\t\t\tif (workingHours.includes(myDay*100+blk)) {\r\n\t\t\t\tlet hour = Math.floor(blk / 4);\r\n\t\t\t\tlet minute = MINUTEBLOCK[blk % 4];\r\n\t\t\t\tlet apptSts = checkAppt(myYear, myMonth, myDate, hour, minute, allAppt);\r\n\t\t\t\tafternoonSlots.push({year: myYear, month: myMonth, date: myDate,\r\n\t\t\t\t\thour: hour,\r\n\t\t\t\t\tminute: minute,\r\n\t\t\t\t\tdateTime: d, \r\n\t\t\t\t\tday: myDay,\r\n\t\t\t\t\tslot: HOURSTR[hour] + \":\" + MINUTESTR[minute],\r\n\t\t\t\t\tname: apptSts.name,\r\n\t\t\t\t\tvisit: apptSts.visit\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\t// evening slots\r\n\t\tfor(let blk=BLOCKNUMBER.eveningBlockStart; blk<=BLOCKNUMBER.eveningBlockEnd; ++blk) {\r\n\t\t\tif (workingHours.includes(myDay*100+blk)) {\r\n\t\t\t\tlet hour = Math.floor(blk / 4);\r\n\t\t\t\tlet minute = MINUTEBLOCK[blk % 4];\r\n\t\t\t\tlet apptSts = checkAppt(myYear, myMonth, myDate, hour, minute, allAppt);\r\n\t\t\t\teveningSlots.push({year: myYear, month: myMonth, date: myDate,\r\n\t\t\t\t\thour: hour,\r\n\t\t\t\t\tminute: minute,\r\n\t\t\t\t\tdateTime: d, \r\n\t\t\t\t\tday: myDay,\r\n\t\t\t\t\tslot: HOURSTR[hour] + \":\" + MINUTESTR[minute],\r\n\t\t\t\t\tname: apptSts.name,\r\n\t\t\t\t\tvisit: apptSts.visit\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tlet retValue = {dateTime: d, year: myYear, month: myMonth, date: myDate,\r\n\t\t\tday: myDay, morningSlots: morningSlots, afternoonSlots: afternoonSlots,\r\n\t\t\teveningSlots: eveningSlots\r\n\t\t};\r\n\t\t//console.log(retValue);\r\n\t\treturn retValue;\r\n\t}\r\n\t\r\n\tfunction clinicOff(d, myHoildays) {\r\n\t\tlet tmp = myHoildays.filter(x => x.date === d.getDate() &&\r\n\t\t\t\tx.month === d.getMonth() && x.year === d.getFullYear());\r\n\t\tif (tmp.length > 0) return true;\r\n\t\t\t\r\n\t\t// check if doctor's weekend on this date\r\n\t\ttmp = customerData.workingHours.filter(x => \r\n\t\t\tx >= (d.getDay()*100 + BLOCKNUMBER.allBlockStart) &&\r\n\t\t\tx <= (d.getDay()*100 + BLOCKNUMBER.allBlockEnd)\r\n\t\t);\r\n\t\tlet isClosed = (tmp.length === 0);\r\n\t\treturn isClosed;\r\n\t}\r\n\t\r\n\tfunction getNextDate(d, myHoildays) {\r\n\t\tlet done = false\r\n\t\t//console.log(\"I\",d)\r\n\t\twhile (!done) {\r\n\t\t\td = new Date(d.getFullYear(), d.getMonth(), d.getDate()+1, 0 , 0);\r\n\t\t\tif (clinicOff(d, myHoildays)) { continue; }\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\t//console.log(\"O\",d)\r\n\t\treturn d;\r\n\t}\r\n\r\n\r\n\tfunction ShowResisterStatus() {\r\n    //console.log(`Status is ${registerStatus}`);\r\n    let myMsg;\r\n    switch (registerStatus) {\r\n      case 621:\r\n        myMsg = \"Invalid patient age\";\r\n        break;\r\n\t\t\tcase 1001:\r\n        myMsg = \"Invalid date of birth\";\r\n        break;\r\n      case 601:\r\n        myMsg = \"Patient name already in database\";\r\n        break;\r\n      case 611:\r\n        myMsg = \"Patient name not found in database\";\r\n        break;\r\n    }\r\n    return(\r\n      <div>\r\n        <Typography className={gClasses.error}>{myMsg}</Typography>\r\n      </div>\r\n    )\r\n  }\r\n\r\n\r\n\tfunction getPrevDate(d, myHoildays) {\r\n\t\tlet today = new Date();\r\n\t\tlet done = false\r\n\t\twhile (!done) {\r\n\t\t\td = new Date(d.getFullYear(), d.getMonth(), d.getDate()-1, 0 , 0);\r\n\t\t\tif (compareDate(d, today) < 0) return null;\r\n\t\t\tif (clinicOff(d, myHoildays)) continue;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\treturn d;\r\n\t}\r\n\t\r\n\tfunction getFirstDate(myHoildays) {\r\n\t\t//console.log(myHoildays);\r\n\t\tlet d = new Date();\r\n\t\tlet firstDate = new Date(d.getFullYear(), d.getMonth(), d.getDate()-1);\r\n\t\treturn getNextDate(firstDate, myHoildays);\r\n\t}\r\n\t\t\r\n\tfunction ModalResisterStatus() {\r\n    // console.log(`Status is ${modalRegister}`);\r\n\t\tlet regerr = true;\r\n    let myMsg;\r\n    switch (modalRegister) {\r\n      case 0:\r\n        myMsg = \"\";\r\n\t\t\t\tregerr = false;\r\n        break;\r\n      case 100:\r\n        myMsg = \"Medicine successfully updated\";\r\n\t\t\t\tregerr = false;\r\n        break;\r\n      case 101:\r\n        myMsg = `All the doses cannot be 0`;\r\n        break;\r\n      case 102:\r\n        myMsg = `No Medicine selected`;\r\n        break;\r\n      case 200:\r\n        myMsg = \"Note successfully updated\";\r\n\t\t\t\tregerr = false;\r\n        break;\r\n      case 201:\r\n        myMsg = `All notes cannot be 0`;\r\n        break;\r\n      case 202:\r\n        myMsg = `Notes cannot be blank`;\r\n        break;\r\n      case 300:\r\n        myMsg = \"Remark successfully updated\";\r\n\t\t\t\tregerr = false;\r\n        break;\r\n      case 301:\r\n        myMsg = `All notes cannot be 0`;\r\n        break;\r\n      case 302:\r\n        myMsg = `Remark cannot be blank`;\r\n        break;\r\n\t\t\tcase 401:\r\n        myMsg = `Patient name already in database`;\r\n        break;\r\n      default:\r\n          myMsg = \"Unknown Error\";\r\n          break;\r\n    }\r\n    return(\r\n      <div>\r\n        <Typography className={(regerr) ? gClasses.error : gClasses.nonerror}>{myMsg}</Typography>\r\n      </div>\r\n    )\r\n  }\r\n\r\n/*\r\n\tasync function selectFilter() {\r\n\t\t//console.log(\"Filter:\", searchText);\r\n\t\tgetPatientList(searchText);\r\n\t\t//setRegisterStatus(0);\r\n\t}\r\n\r\n\tasync function getPatientList(filter) {\r\n\t\tfilter = filter.trim();\r\n\t\tvar subcmd = \"list\"\r\n\t\tif (filter != \"\") {\r\n\t\t\t// if it is complete numeric then it must by ID\r\n\t\t\tsubcmd = (validateInteger(filter))\t? \"listbyid\" : subcmd = \"listbyname\";\r\n\t\t} else {\r\n\t\t\tsubcmd = \"list\"\r\n\t\t}\r\n\t\t\r\n\t\ttry {\r\n\t\t\tvar resp = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/patient/${userCid}/${subcmd}/${userCid}/${filter}`)\r\n\t\t\t//console.log(resp.data);\r\n\t\t\tlet tmp = resp.data;\r\n\t\t\t//tmp.forEach(ttt => {\r\n\t\t\t//\tttt.email = decrypt(ttt.email);\r\n\t\t\t//});\r\n\t\t\t//console.log(tmp);\r\n\t\t\tsetPatientArray(tmp);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\tsetPatientArray([]);\r\n\t\t}\r\n\t}\r\n\t\r\n*/\r\n\t\r\n\t\r\n\t\r\n\tasync function junkandleSelectPatient_junk(rec) {\r\n\t\tlet tmpArray = await reloadAppointmentDetails();\r\n\t\tgenerateSlots(tmpArray, holidayArray);\r\n\t\tsetSelectPatient(false);\r\n\t\tsetCurrentPatient(rec.displayName);\r\n\t\tsetCurrentPatientData(rec);\r\n\t\tawait getPatientAppt(rec);\r\n\t}\r\n\t\r\n\tasync function getPatientAppt(rec) {\r\n\t\ttry {\r\n\t\t\tvar resp = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/pendinglist/pid/${userCid}/${rec.pid}`);\r\n\t\t\t//console.log(resp.data);\r\n\t\t\tsetApptArray(resp.data);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\tsetApptArray([]);\r\n\t\t}\r\n\t}\r\n\r\n\t\r\n\tasync function prevDate() {\r\n\t\tlet d = getPrevDate(allTimeSlots[0].dateTime, holidayArray);\r\n\t\tif (d !== null) {\r\n\t\t\tlet x = [prepareData(d, allPendingAppt)];\r\n\t\t\tfor (let i=0; i<(NUMBEROFDAYS-1); ++i) {\r\n\t\t\t\tx.push(allTimeSlots[i]);\r\n\t\t\t}\r\n\t\t\tsetAllTimeSlots(x);\r\n\t\t\tlet index = currentIndex + 1;\r\n\t\t\tif (index === NUMBEROFDAYS) index = NUMBEROFDAYS - 1;\r\n\t\t\tsetCurrentIndex(index);\r\n\t\t}\r\n\t}\r\n\t\r\n\tasync function nextDate() {\r\n\t\tlet x = [];\r\n\t\tfor (let i=1; i<NUMBEROFDAYS; ++i) {\r\n\t\t\tx.push(allTimeSlots[i]);\r\n\t\t}\r\n\t\tlet d = getNextDate(allTimeSlots[NUMBEROFDAYS-1].dateTime, holidayArray);\r\n\t\tlet newData = prepareData(d, allPendingAppt);\r\n\t\tx.push(newData);\r\n\t\t//console.log(x);\r\n\t\tsetAllTimeSlots(x);\r\n\t\tlet index = currentIndex - 1;\r\n\t\tif (index < 0) index = 0;\r\n\t\tsetCurrentIndex(index);\r\n\r\n\t}\r\n\t\r\n\r\n\tasync function handleAddAppointment(slot) {\t\r\n\t\t// check if appoint time before current time. If yes then do not allow.\r\n\t\tlet myOrder = generateOrder(slot.year, slot.month, slot.date, slot.hour, slot.minute)\r\n\t\tlet currentValidOrder = generateOrderByDate(new Date());\r\n\t\tif (myOrder < currentValidOrder) {\r\n\t\t\treturn alert.error(\"Appointment of past date/time is not permitted\");\r\n\t\t}\r\n\t\t\t\r\n\t\tlet tmp = {\r\n\t\t\tcid: userCid,\r\n\t\t\t//data: currentPatientData,\r\n\t\t\tyear: slot.year,\r\n\t\t\tmonth: slot.month,\r\n\t\t\tdate: slot.date,\r\n\t\t\thour: slot.hour,\r\n\t\t\tminute: slot.minute,\r\n\t\t\torder: myOrder,\r\n\t\t\tpid: currentPatientData.pid,\r\n\t\t\tdisplayName: currentPatientData.displayName,\r\n\t\t\tvisit: VISITTYPE.pending,\r\n\t\t\tapptTime: new Date(slot.year, slot.month, slot.date,\r\n\t\t\t\t\t\t\t\tslot.hour, slot.minute, 0),\r\n\t\t};\r\n\t\t\r\n\t\tlet jTmp = JSON.stringify(tmp);\r\n\t\t// add this to database\r\n\t\ttry {\r\n\t\t\tlet myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/appointment/add/${userCid}/${jTmp}`;\r\n\t\t\tlet resp = await axios.get(myUrl);\r\n\t\t\talert.success(\"Appointment set of \"+currentPatientData.displayName);\r\n\t\t\t// update patient appointment\r\n\t\t\tlet tmpArray=[resp.data].concat(apptArray);\r\n\t\t\ttmpArray = _.sortBy(tmpArray, ['order']);\r\n\t\t\tsetApptArray(tmpArray);\r\n\t\t\t\r\n\t\t\t// now update all pending appointment\r\n\t\t\ttmpArray=[resp.data].concat(allPendingAppt);\r\n\t\t\ttmpArray = _.sortBy(tmpArray, ['order']);\r\n\t\t\tsetAllPendingAppt(tmpArray);\r\n\r\n\t\t\t// update slot as pending\r\n\t\t\tif (true) {\r\n\t\t\t\t//console.log(currentIndex);\r\n\t\t\t\t\r\n\t\t\t\tlet myTmpSlots = [].concat(allTimeSlots);\r\n\t\t\t\t// check if add apt is in morning\r\n\t\t\t\tlet ttt = myTmpSlots[currentIndex].morningSlots.find(x => x.hour === slot.hour &&\r\n\t\t\t\t\tx.minute === slot.minute);\r\n\t\t\t\t//console.log(\"morning\",ttt);\r\n\t\t\t\tif (ttt) {\r\n\t\t\t\t\tttt.name = currentPatientData.displayName\r\n\t\t\t\t\tttt.visit = 'pending';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tttt = myTmpSlots[currentIndex].afternoonSlots.find(x => x.hour === slot.hour &&\r\n\t\t\t\t\tx.minute === slot.minute);\r\n\t\t\t\t//console.log(\"afternoon\",ttt);\r\n\t\t\t\tif (ttt) {\r\n\t\t\t\t\tttt.name = currentPatientData.displayName\r\n\t\t\t\t\tttt.visit = 'pending';\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tttt = myTmpSlots[currentIndex].eveningSlots.find(x => x.hour === slot.hour &&\r\n\t\t\t\t\tx.minute === slot.minute);\r\n\t\t\t\t//console.log(\"evening\",ttt);\r\n\t\t\t\tif (ttt) {\r\n\t\t\t\t\tttt.name = currentPatientData.displayName\r\n\t\t\t\t\tttt.visit = 'pending';\r\n\t\t\t\t}\t\r\n\t\t\t\tsetAllTimeSlots(myTmpSlots);\r\n\t\t\t}\t\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\talert.error(\"Error setting appointment of \"+currentPatientData.displayName);\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n  \r\n\tfunction DisplayAvailableAppointments() {\r\n\tif (allTimeSlots.length === 0) return null;\r\n\t\r\n\tlet tStr = ((allTimeSlots[currentIndex].date < 10) ? \"0\" : \"\") + allTimeSlots[currentIndex].date;\r\n\ttStr += \"/\";\r\n\ttStr += (((allTimeSlots[currentIndex].month + 1) < 10) ? \"0\" : \"\") + (allTimeSlots[currentIndex].month+1);\r\n\ttStr += \"/\";\r\n\ttStr += allTimeSlots[currentIndex].year;\r\n\r\n\treturn (\r\n\t<div>\r\n\t<Box className={gClasses.boxStyle} borderRadius={7} border={1} >\r\n\t<Grid className={gClasses.noPadding} key=\"ALLDATE\" container alignItems=\"center\" >\r\n\t\t<Grid item xs={12} sm={12} md={12} lg={12} >\r\n\t\t<Typography className={classes.slotTitle} >{\"Appointment Date\"}</Typography>\r\n\t\t</Grid>\r\n\t\t<Grid key=\"LEFT\" item xs={1} sm={1} md={1} lg={1} >\r\n\t\t\t<IconButton color={'primary'} onClick={prevDate}  >\r\n\t\t\t\t\t<LeftIcon />\r\n\t\t\t\t</IconButton>\r\n\t\t</Grid>\r\n\t\t{allTimeSlots.map( (t, index) => {\r\n\t\t\tlet dStr = (compareDate(t.dateTime, new Date()) !== 0) \r\n\t\t\t\t? DATESTR[t.date] + \"/\" + MONTHNUMBERSTR[t.month] + \"/\" + t.year\r\n\t\t\t\t: \"Today\";\r\n\t\t\tlet freeSlots = t.morningSlots.filter(x => x.visit === \"available\").length + \r\n\t\t\t\tt.afternoonSlots.filter(x => x.visit === \"available\").length +\r\n\t\t\t\tt.eveningSlots.filter(x => x.visit === \"available\").length;\r\n\t\t\tlet myClass = (index === currentIndex) ? classes.selIndex : classes.unselIndex;\r\n\t\treturn (\r\n\t\t<Grid key={\"TIME\"+index} item xs={3} sm={3} md={2} lg={2} >\r\n\t\t\t<div>\r\n\t\t\t<Typography className={myClass} onClick={() => {setNewCurrentIndex(index)}}>{dStr}</Typography>\r\n\t\t\t<Typography className={myClass} onClick={() => {setNewCurrentIndex(index)}}>{WEEKSTR[t.day]}</Typography>\r\n\t\t\t<Typography className={myClass} onClick={() => {setNewCurrentIndex(index)}}>{freeSlots+\" free Slots\"}</Typography>\r\n\t\t\t</div>\r\n\t\t</Grid>\r\n\t\t)}\r\n\t\t)}\r\n\t\t<Grid key=\"RIGHT\" item xs={1} sm={1} md={1} lg={1} >\r\n\t\t\t<IconButton color={'primary'} onClick={nextDate}  >\r\n\t\t\t<RightIcon />\r\n\t\t\t</IconButton>\r\n\t\t</Grid>\r\n\t</Grid>\t\r\n\t</Box>\r\n\t<BlankArea />\r\n\t{/*  Show morningSlots slots */}\r\n\t{(allTimeSlots[currentIndex].morningSlots.length > 0) &&\r\n\t<Box className={gClasses.boxStyle} borderRadius={7} border={1} >\r\n\t<Grid className={gClasses.noPadding} key=\"MORNING\" container alignItems=\"center\" >\r\n\t<Grid key=\"MORNINGITEM\" item xs={12} sm={12} md={12} lg={12} >\r\n\t<Typography className={classes.slotTitle} >{\"Morning Slots of \"+tStr}</Typography>\r\n\t</Grid>\r\n\t{allTimeSlots[currentIndex].morningSlots.map( (t, index) => {\r\n\t\treturn (\r\n\t\t\t<Grid key={\"MOR\"+index} item xs={4} sm={4} md={2} lg={2} >\r\n\t\t\t\t{(t.visit === \"expired\") &&\r\n\t\t\t\t\t<Box className={classes.expiredSlot} borderColor=\"blue\" borderRadius={7} border={1} >\r\n\t\t\t\t\t<Typography id={t.slot}>{t.name}</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t}\r\n\t\t\t\t{(t.visit === \"pending\") &&\r\n\t\t\t\t\t<Box className={classes.pendingSlot} borderColor=\"blue\" borderRadius={7} border={1} >\r\n\t\t\t\t\t<Typography id={t.slot}>{t.name}</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t}\r\n\t\t\t\t{(t.visit === \"visit\") &&\r\n\t\t\t\t\t<Box className={classes.visitSlot} borderColor=\"blue\" borderRadius={7} border={1} >\r\n\t\t\t\t\t<Typography id={t.slot}>{t.name}</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t}\r\n\t\t\t\t{((t.visit === \"available\") && (currentPatient === \"INFO\")) &&\r\n\t\t\t\t\t<Box className={classes.availableSlot} borderColor=\"blue\" borderRadius={7} border={1} >\r\n\t\t\t\t\t<Typography>{t.slot}</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t}\r\n\t\t\t\t{((t.visit === \"available\") && (currentPatient !== \"INFO\")) &&\r\n\t\t\t\t\t<Box className={classes.availableSlot} borderColor=\"blue\" borderRadius={7} border={1} >\r\n\t\t\t\t\t<Typography onClick={() => {handleAddAppointment(t)}}>{t.slot}</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t}\r\n\t\t\t</Grid>\r\n\t\t)}\r\n\t)}\r\n\t</Grid>\r\n\t</Box>\r\n\t}\r\n\t{/*  Show afternoon  slots */}\r\n\t{(allTimeSlots[currentIndex].afternoonSlots.length > 0) &&\r\n\t<Box className={gClasses.boxStyle} borderRadius={7} border={1} >\r\n\t<Grid key=\"AFTERNOON\" container alignItems=\"center\" >\r\n\t<Grid key=\"AFTERNOONITEM\" item xs={12} sm={12} md={12} lg={12} >\r\n\t<Typography className={classes.slotTitle} >{\"Afternoon Slots of \"+tStr}</Typography>\r\n\t</Grid>\r\n\t{allTimeSlots[currentIndex].afternoonSlots.map( (t, index) => {\r\n\t\t//console.log(\"Afternoon slots---------------\");\r\n\t\t//console.log(allTimeSlots[currentIndex].afternoonSlots);\r\n\t\treturn (\r\n\t\t\t<Grid key={\"AFETR\"+index} item xs={4} sm={4} md={2} lg={2} >\r\n\t\t\t\t{(t.visit === \"expired\") &&\r\n\t\t\t\t\t<Box className={classes.expiredSlot} borderColor=\"blue\" borderRadius={7} border={1} >\r\n\t\t\t\t\t<Typography id={t.slot}>{t.name}</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t}\r\n\t\t\t\t{(t.visit === \"pending\") &&\r\n\t\t\t\t\t<Box className={classes.pendingSlot} borderColor=\"blue\" borderRadius={7} border={1} >\r\n\t\t\t\t\t<Typography id={t.slot}>{t.name}</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t}\r\n\t\t\t\t{(t.visit === \"visit\") &&\r\n\t\t\t\t\t<Box className={classes.visitSlot} borderColor=\"blue\" borderRadius={7} border={1} >\r\n\t\t\t\t\t<Typography id={t.slot}>{t.name}</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t}\r\n\t\t\t\t{((t.visit === \"available\") && (currentPatient === \"INFO\")) &&\r\n\t\t\t\t\t<Box className={classes.availableSlot} borderColor=\"blue\" borderRadius={7} border={1} >\r\n\t\t\t\t\t<Typography>{t.slot}</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t}\r\n\t\t\t\t{((t.visit === \"available\") && (currentPatient !== \"INFO\")) &&\r\n\t\t\t\t\t<Box className={classes.availableSlot} borderColor=\"blue\" borderRadius={7} border={1} >\r\n\t\t\t\t\t<Typography onClick={() => {handleAddAppointment(t)}}>{t.slot}</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t}\r\n\t\t\t</Grid>\r\n\t\t)}\r\n\t)}\r\n\t</Grid>\t\r\n\t</Box>\r\n\t}\r\n\t{/*  Show evening  slots */}\r\n\t{(allTimeSlots[currentIndex].eveningSlots.length > 0) &&\r\n\t<Box className={gClasses.boxStyle} borderRadius={7} border={1} >\r\n\t<Grid className={gClasses.noPadding} key=\"EVENING\" container alignItems=\"center\" >\r\n\t<Grid key=\"EVENINGITEM\" item xs={12} sm={12} md={12} lg={12} >\r\n\t<Typography className={classes.slotTitle} >{\"Evening Slots of \"+tStr}</Typography>\r\n\t</Grid>\r\n\t{allTimeSlots[currentIndex].eveningSlots.map( (t, index) => {\r\n\t\treturn (\r\n\t\t\t<Grid key={\"EVE\"+index} item xs={4} sm={4} md={2} lg={2} >\r\n\t\t\t\t{(t.visit === \"expired\") &&\r\n\t\t\t\t\t<Box className={classes.expiredSlot} borderColor=\"blue\" borderRadius={7} border={1} >\r\n\t\t\t\t\t<Typography id={t.slot}>{t.name}</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t}\r\n\t\t\t\t{(t.visit === \"pending\") &&\r\n\t\t\t\t\t<Box className={classes.pendingSlot} borderColor=\"blue\" borderRadius={7} border={1} >\r\n\t\t\t\t\t<Typography id={t.slot}>{t.name}</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t}\r\n\t\t\t\t{(t.visit === \"visit\") &&\r\n\t\t\t\t\t<Box className={classes.visitSlot} borderColor=\"blue\" borderRadius={7} border={1} >\r\n\t\t\t\t\t<Typography id={t.slot}>{t.name}</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t}\r\n\t\t\t\t{((t.visit === \"available\") && (currentPatient === \"INFO\")) &&\r\n\t\t\t\t\t<Box className={classes.availableSlot} borderColor=\"blue\" borderRadius={7} border={1} >\r\n\t\t\t\t\t<Typography>{t.slot}</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t}\r\n\t\t\t\t{((t.visit === \"available\") && (currentPatient !== \"INFO\")) &&\r\n\t\t\t\t\t<Box className={classes.availableSlot} borderColor=\"blue\" borderRadius={7} border={1} >\r\n\t\t\t\t\t<Typography onClick={() => {handleAddAppointment(t)}}>{t.slot}</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t}\r\n\t\t\t</Grid>\r\n\t\t)}\r\n\t)}\r\n\t</Grid>\r\n\t</Box>\r\n\t}\r\n\t</div>\r\n\t)}\r\n\t\r\n\tasync function handleCancelAppt(cancelAppt) {\r\n\t\t\r\n\t\tlet myMsg = `Are you sure you want to cancel appointment of ${cancelAppt.displayName} dated `;\r\n\t\tmyMsg += `${DATESTR[cancelAppt.date]}/${MONTHNUMBERSTR[cancelAppt.month]}/${cancelAppt.year} at `;\r\n\t\tmyMsg += `${HOURSTR[cancelAppt.hour]}:${MINUTESTR[cancelAppt.minute]}?`;\r\n\t\t\r\n\t\tvsDialog(\"Cancel Appointment\", myMsg,\r\n\t\t\t{label: \"Yes\", onClick: () => handleCancelApptConfirm(cancelAppt) },\r\n\t\t\t{label: \"No\" }\r\n\t\t);\r\n\t}\r\n\t\r\n\tfunction getSlotIndex(year, month, date) {\r\n\t\tfor(let i=0; i<allTimeSlots.length; ++i) {\r\n\t\t\tif ((allTimeSlots[i].date === date) && \r\n\t\t\t\t(allTimeSlots[i].month === month) &&\r\n\t\t\t\t(allTimeSlots[i].year === year))\r\n\t\t\treturn (i)\r\n\t\t}\r\n\t\treturn -1;\r\n\t}\r\n\t\r\n\tasync function handleCancelApptConfirm(cancelAppt) {\r\n\t\ttry {\r\n\t\t\tlet myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/appointment/cancel/${userCid}/${cancelAppt.pid}/${cancelAppt.order}`;\r\n\t\t\tlet resp = await axios.get(myUrl);\r\n\t\t\t//alert.success(\"Cancelled appointment of \"+cancelAppt.displayName);\r\n\r\n\t\t\t// remove from patient appoint \r\n\t\t\tlet tmpAppt = apptArray.filter(x => \r\n\t\t\t\tx.pid\t!== cancelAppt.pid ||  \r\n\t\t\t\tx.order !== cancelAppt.order \r\n\t\t\t\t);\r\n\t\t\tsetApptArray(tmpAppt)\r\n\t\t\t\r\n\t\t\t// now remove from all pending apt list\r\n\t\t\ttmpAppt = allPendingAppt.filter(x => \r\n\t\t\t\tx.pid\t!== cancelAppt.pid ||  \r\n\t\t\t\tx.order !== cancelAppt.order \r\n\t\t\t\t);\r\n\t\t\tsetAllPendingAppt(tmpAppt);\r\n\t\t\t//let tmpArray = await reloadAppointmentDetails();\r\n\t\t\t//generateSlots(tmpArray, holidayArray);\r\n\t\t\t\t\t\t\r\n\t\t\tlet slotIndex = getSlotIndex(cancelAppt.year, cancelAppt.month, cancelAppt.date);\r\n\t\t\tif (slotIndex >= 0) {\r\n\t\t\t\tlet cancelOrder = generateOrder(cancelAppt.year, cancelAppt.month, cancelAppt.date,\r\n\t\t\t\t\tcancelAppt.hour, cancelAppt.minute);\r\n\t\t\t\tlet currentOrder = generateOrderByDate(new Date());\r\n\t\t\t\tlet hasExpired = (cancelOrder <= currentOrder);\r\n\t\t\t\tlet myTmpSlots = [].concat(allTimeSlots);\r\n\t\t\t\t\r\n\t\t\t\t// check if cancel apt is in morning\r\n\t\t\t\tlet ttt = myTmpSlots[slotIndex].morningSlots.find(x => x.hour === cancelAppt.hour &&\r\n\t\t\t\t\tx.minute === cancelAppt.minute);\r\n\t\t\t\tif (ttt) {\r\n\t\t\t\t\tif (hasExpired) {\r\n\t\t\t\t\t\tttt.name = \"-\"; ttt.visit = 'expired';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tttt.visit = 'available';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tttt = myTmpSlots[slotIndex].afternoonSlots.find(x => x.hour === cancelAppt.hour &&\r\n\t\t\t\t\tx.minute === cancelAppt.minute);\r\n\t\t\t\tif (ttt) {\r\n\t\t\t\t\tif (hasExpired) {\r\n\t\t\t\t\t\tttt.name = \"-\"; ttt.visit = 'expired';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tttt.visit = 'available';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tttt = myTmpSlots[slotIndex].eveningSlots.find(x => x.hour === cancelAppt.hour &&\r\n\t\t\t\t\tx.minute === cancelAppt.minute);\r\n\t\t\t\tif (ttt) {\r\n\t\t\t\t\tif (hasExpired) {\r\n\t\t\t\t\t\tttt.name = \"-\"; ttt.visit = 'expired';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tttt.visit = 'available';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\t\r\n\t\t\t\tsetAllTimeSlots(myTmpSlots);\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\talert.error(\"Error cancelling appointment of \"+cancelAppt.displayName);\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction DisplayPatientAppointments() {\r\n\treturn (\r\n\t<Box className={gClasses.boxStyle} borderRadius={7} border={1} >\r\n\t{(apptArray.length === 0) &&\r\n\t\t<Grid className={gClasses.noPadding} key=\"Appt\" container alignItems=\"center\" >\r\n\t\t<Grid key={\"NoApt\"} item xs={12} sm={12} md={12} lg={12} >\r\n\t\t\t<div align=\"left\"><Typography>No Appointment</Typography></div>\r\n\t\t</Grid>\r\n\t\t</Grid>\r\n\t}\r\n\t{(apptArray.length > 0) &&\r\n\t\t<Grid className={gClasses.noPadding} key=\"Appt\" container alignItems=\"center\" >\r\n\t\t{apptArray.map( (a, index) => \r\n\t\t\t<Grid key={\"Apt\"+a.pid+index} item xs={12} sm={6} md={3} lg={3} >\r\n\t\t\t<DisplayAppointmentBox \r\n\t\t\t\tappointment={a} \r\n\t\t\t\tbutton1={\r\n\t\t\t\t\t<IconButton color={'secondary'} size=\"small\" onClick={() => { handleCancelAppt(a)}}  >\r\n\t\t\t\t\t\t<CancelIcon />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t)}\r\n\t\t</Grid>\t\r\n\t}\r\n\t</Box>\r\n\t)}\r\n\t\r\n\tfunction DisplayAllPatients() {\r\n\treturn (\r\n\t<Grid className={gClasses.noPadding} key=\"DATESEL\" container alignItems=\"center\" >\r\n\t{patientArray.map( (m, index) => \r\n\t\t<Grid key={\"PAT\"+m.pid} item xs={12} sm={6} md={3} lg={3} >\r\n\t\t<DisplayPatientBox \r\n\t\t\tpatient={m} \r\n\t\t\tbutton1={\r\n\t\t\t\t<IconButton className={gClasses.blue} size=\"small\" onClick={() => handleSelectPatient(m) }  >\r\n\t\t\t\t\t<EventNoteIcon  />\r\n\t\t\t\t</IconButton>\r\n\t\t\t}\r\n\t\t/>\r\n\t\t</Grid>\r\n\t)}\r\n\t</Grid>\t\r\n\t)}\r\n\t\r\n\tfunction setPatientFilter(myArray, filterStr) {\r\n\t\tfilterStr = filterStr.trim().toLowerCase();\r\n\t\tlet tmpArray = myArray;\r\n\t\tif (filterStr !== \"\") {\r\n\t\t\tif (validateInteger(filterStr)) {\r\n\t\t\t\t// it is integer. Thus has to be Id\r\n\t\t\t\ttmpArray = myArray.filter(x => x.pidStr.includes(filterStr));\r\n\t\t\t} else {\r\n\t\t\t\ttmpArray = myArray.filter(x => x.displayName.toLowerCase().includes(filterStr));\r\n\t\t\t}\r\n\t\t} \t\r\n\t\tsetPatientArray(tmpArray);\r\n\t}\r\n\t\r\n\tfunction filterPatients(filterStr) {\r\n\t\tsetSearchText(filterStr);\r\n\t\tsetPatientFilter(patientMasterArray, filterStr);\r\n\t}\r\n\r\n\tasync function getAppointmentsByPid(myPid) {\r\n\t\tlet myAppt = [];\r\n\t\ttry {\r\n\t\t\tvar resp = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/appointment/pendinglist/pid/${userCid}/${myPid}`);\r\n\t\t\tmyAppt = resp.data;\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t}\r\n\t\tfinally {\r\n\t\t\tsetApptArray(myAppt);\r\n\t\t\treturn myAppt;\r\n\t\t}\r\n\t}\r\n\r\n\tasync function handleSelectPatient(rec) {\r\n\t\tsetCurrentPatient(rec.displayName);\r\n\t\tsetCurrentPatientData(rec);\r\n\t\tsetSelectPatient(false);\r\n\t\tawait getAppointmentsByPid(rec.pid);\r\n\t\tlet tmpArray = await reloadAppointmentDetails();\t\r\n\t\tgenerateSlots(tmpArray, holidayArray); // ARS. This is okay and confirmed\r\n\t}\r\n\t\r\n\tfunction handleAdd() {\r\n\t\t//console.log(\"handleAdd\");\r\n\t\tsetPatientName(\"\");\r\n\t\tsetPatientAge(\"\");\r\n\t\tsetPatientGender(\"Male\")\r\n\t\tsetRadioValue(\"Male\");\r\n\t\tsetPatientEmail(\"\");\r\n\t\tsetPatientMobile(\"\");\r\n\t\tsetPatientDob(moment(new Date(2000, 1, 1)));\r\n\t\t\r\n\t\t//setIsAdd(true);\r\n\t\tsetIsDrawerOpened(true);\r\n\t}\r\n\t\r\n\tasync function handleAddEditSubmit() {\r\n\t\tlet myDate = patientDob.toDate();\r\n\t\tlet testAge = new Date().getFullYear() - myDate.getFullYear();\r\n\t\t//console.log(testAge, myDate);\r\n\t\tif ((testAge >= 100) || (testAge <= 1)) return setRegisterStatus(1001);\r\n\t\t\r\n\t\tlet myMobile = (patientMobile !== \"\") ? patientMobile : 0;\r\n\t\tlet myEmail = (patientEmail !== \"\") ? patientEmail : \"-\";\r\n\t\tmyEmail = encrypt(myEmail);\r\n\t\tlet dobStr = myDate.getFullYear() + MONTHNUMBERSTR[myDate.getMonth()] + DATESTR[myDate.getDate()];\r\n\t\t\r\n\t\t//console.log(myEmail);\r\n\t\t//console.log(\"Addedit\", patientName, dobStr, patientGender, myEmail, myMobile);\r\n\t\t\r\n\t\tlet resp;\r\n\t\tlet myUrl;\r\n\t\r\n\t\ttry {\r\n\t\t\tmyUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/patient/addwithdob/${userCid}/${patientName}/${dobStr}/${patientGender}/${myEmail}/${myMobile}`;\r\n\t\t\tresp = await axios.get(myUrl);\r\n\t\t\talert.success(\"Successfully added new patient \"+patientName);\r\n\t\t} catch (error)  {\r\n\t\t\tconsole.log(error.response.status);\r\n\t\t\tsetRegisterStatus(error.response.status);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tsetIsDrawerOpened(false);\r\n\r\n\t\tlet ppp = await getAllPatients(userCid);\r\n\t\tsetPatientMasterArray(ppp);\r\n\t\tsetPatientFilter(ppp, searchText);\r\n\t\tsetIsDrawerOpened(false);\r\n\t\treturn; \r\n\t}\r\n\t\r\n\r\n\r\n\tasync function handleMyAppt() {\r\n\t\tlet tmpArray = await reloadAppointmentDetails();\r\n\t\tgenerateSlots(tmpArray, holidayArray);\t\t// ARS This is required and confirmed\r\n\t\tsetCurrentPatient(\"INFO\")\r\n\t\tsetApptArray([]);\r\n\t}\r\n\r\n\tfunction handleDate(d) {\r\n\t\t//console.log(d);\r\n\t\tsetPatientDob(d);\r\n\t}\r\n\t\r\n\treturn (\r\n\t\t<div className={gClasses.webPage} align=\"center\" key=\"main\">\r\n\t\t<DisplayPageHeader headerName=\"Appointment Directory\" groupName=\"\" tournament=\"\"/>\r\n\t\t<Container component=\"main\" maxWidth=\"lg\">\r\n\t\t<CssBaseline />\r\n\t\t{(currentPatient === \"\") && \r\n\t\t\t<div>\r\n\t\t\t<Grid className={gClasses.vgSpacing} key=\"PatientFilter\" container alignItems=\"center\" >\r\n\t\t\t<Grid key={\"F1\"} item xs={false} sm={false} md={2} lg={2} />\r\n\t\t\t<Grid key={\"F2\"} item xs={12} sm={12} md={4} lg={4} >\r\n\t\t\t\t{/*<TextField id=\"filter\"  padding={5} fullWidth label=\"Search Patient by name or Id\" \r\n\t\t\t\t\tdefaultValue={searchText}\r\n\t\t\t\t\tonChange={(event) => filterPatients(event.target.value)}\r\n\t\t\t\t\tInputProps={{endAdornment: (<InputAdornment position=\"end\"><SearchIcon/></InputAdornment>)}}\r\n\t\t\t\t/>*/}\r\n\t\t\t\t<VsTextSearch label=\"Search Patient by name or Id\" value={searchText}\r\n\t\t\t\t\tonChange={(event) => filterPatients(event.target.value)}\r\n\t\t\t\t\tonClear={(event) => filterPatients(\"\")}\r\n\t\t\t\t/>\t\t\t\t\r\n\t\t\t</Grid>\r\n\t\t\t<Grid key={\"F4\"} item xs={false} sm={false} md={3} lg={3} >\r\n\t\t\t</Grid>\r\n\t\t\t<Grid key={\"F5\"} item xs={6} sm={6} md={1} lg={1} >\r\n\t\t\t\t<VsButton name=\"New Patient\" onClick={handleAdd} />\r\n\t\t\t\t\r\n\t\t\t</Grid>\r\n\t\t\t<Grid key={\"F6\"} item xs={6} sm={6} md={2} lg={2} >\r\n\t\t\t\t<VsButton name=\"My Appointments\" onClick={handleMyAppt}/> \r\n\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t\t<DisplayAllPatients />\r\n\t\t\t</div>\r\n\t\t}\r\n\t\t{(currentPatient !== \"\") &&\r\n\t\t\t<VsButton align=\"right\" name=\"Select Patient\" onClick={() => { setCurrentPatient(\"\")}} />\t\r\n\t\t}\r\n\t\t{(currentPatient !== \"\") &&\r\n\t\t\t<Box className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t\t\t<Typography align=\"center\" className={classes.modalHeader}>\r\n\t\t\t{(currentPatient === \"INFO\") ?\r\n\t\t\t\t\"Appointment Information\" :\r\n\t\t\t\tcurrentPatientData.displayName+\" ( Id: \"+currentPatientData.pid+\" ) \"\r\n\t\t\t}\r\n\t\t\t</Typography>\t\r\n\t\t\t<BlankArea />\r\n\t\t\t{(currentPatient !== \"INFO\") &&\r\n\t\t\t\t<DisplayPatientAppointments />\r\n\t\t\t}\r\n\t\t\t{(true) &&\r\n\t\t\t\t<DisplayAvailableAppointments />\r\n\t\t\t}\r\n\t\t\t</Box>\r\n\t\t}\r\n\t\t<Drawer className={classes.drawer}\r\n\t\t\tanchor=\"right\"\r\n\t\t\tvariant=\"temporary\"\r\n\t\t\topen={isDrawerOpened}\r\n\t\t>\r\n\t\t{(true) &&\r\n\t\t<Box className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t\t<VsCancel align=\"right\" onClick={() => { setIsDrawerOpened(false)}} />\r\n\t\t<ValidatorForm align=\"center\" className={classes.form} onSubmit={handleAddEditSubmit}>\r\n\t\t\t<Typography className={gClasses.title}>{\"Add Patient\"}</Typography>\r\n\t\t\t<TextValidator fullWidth  className={gClasses.vgSpacing}\r\n\t\t\t\tid=\"newPatientName\" label=\"Name\" type=\"text\"\r\n\t\t\t\tvalue={patientName} \r\n\t\t\t\tonChange={() => { setPatientName(event.target.value) }}\r\n      />\r\n\t\t\t{/*<TextValidator  fullWidth className={gClasses.vgSpacing}\r\n\t\t\t\tid=\"newPatientAge\" label=\"Age\" type=\"number\"\r\n\t\t\t\tvalue={patientAge}\r\n\t\t\t\tonChange={() => { setPatientAge(event.target.value) }}\r\n\t\t\t\tvalidators={['minNumber:1', 'maxNumber:99']}\r\n        errorMessages={['Age to be above 1', 'Age to be less than 100']}\t\t\t\t\r\n      />*/}\r\n\t\t\t<div align=\"left\">\r\n\t\t\t<Typography className={gClasses.vgSpacing}>Date of Birth</Typography>\r\n\t\t\t</div>\r\n\t\t\t<Datetime \r\n\t\t\t\tclassName={classes.dateTimeBlock}\r\n\t\t\t\tinputProps={{className: classes.dateTimeNormal}}\r\n\t\t\t\ttimeFormat={false} \r\n\t\t\t\tinitialValue={patientDob}\r\n\t\t\t\tdateFormat=\"DD/MM/yyyy\"\r\n\t\t\t\tisValidDate={disableFutureDt}\r\n\t\t\t\tonClose={handleDate}\r\n\t\t\t\tcloseOnSelect={true}\r\n\t\t\t/>\r\n\t\t\t<BlankArea />\r\n\t\t\t<FormControl component=\"fieldset\">\r\n\t\t\t\t<RadioGroup row aria-label=\"radioselection\" name=\"radioselection\" value={radioValue} \r\n\t\t\t\t\tonChange={() => {setRadioValue(event.target.value); setPatientGender(event.target.value); }}\r\n\t\t\t\t>\r\n\t\t\t\t<FormControlLabel className={classes.filterRadio} value=\"Male\" \t\tcontrol={<Radio color=\"primary\"/>} label=\"Male\" />\r\n\t\t\t\t<FormControlLabel className={classes.filterRadio} value=\"Female\" \tcontrol={<Radio color=\"primary\"/>} label=\"Female\" />\r\n\t\t\t\t<FormControlLabel className={classes.filterRadio} value=\"Other\"   control={<Radio color=\"primary\"/>} label=\"Other\" />\r\n\t\t\t</RadioGroup>\r\n\t\t\t</FormControl>\r\n\t\t\t<TextValidator   fullWidth   className={gClasses.vgSpacing} \r\n\t\t\t\tid=\"newPatientEmail\" label=\"Email\" type=\"email\"\r\n\t\t\t\tvalue={patientEmail} \r\n\t\t\t\tonChange={() => { setPatientEmail(event.target.value) }}\r\n      />\r\n\t\t\t<TextValidator fullWidth required className={gClasses.vgSpacing} \r\n\t\t\t\tid=\"newPatientMobile\" label=\"Mobile\" type=\"number\"\r\n\t\t\t\tvalue={patientMobile} \r\n\t\t\t\tonChange={() => { setPatientMobile(event.target.value) }}\r\n\t\t\t\tvalidators={['minNumber:1000000000', 'maxNumber:9999999999']}\r\n        errorMessages={['Invalid Mobile number','Invalid Mobile number']}\r\n      />\t\r\n\t\t\t<ShowResisterStatus />\r\n\t\t\t<BlankArea />\r\n\t\t\t<VsButton name={\"Add\"} />\r\n\t\t\t</ValidatorForm>    \t\t\r\n\t\t\t</Box>\r\n\t\t}\r\n\t\t</Drawer>\t\t\r\n\t\t</Container>\t\t\t\t\r\n  </div>\r\n  );    \r\n}","import React, { useEffect, useState, useContext } from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { InputAdornment, makeStyles, Container, CssBaseline } from '@material-ui/core';\r\nimport axios from \"axios\";\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport SwitchBtn from '@material-ui/core/Switch';\r\nimport { usePromiseTracker, trackPromise } from \"react-promise-tracker\";\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\n\r\nimport VsButton from \"CustomComponents/VsButton\";\r\nimport VsCancel from \"CustomComponents/VsCancel\";\r\nimport VsList from \"CustomComponents/VsList\";\r\nimport VsCheckBox from \"CustomComponents/VsCheckBox\";\r\nimport VsTextFilter from \"CustomComponents/VsTextFilter\";\r\n\r\nimport { useLoading, Audio } from '@agney/react-loading';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport { useAlert } from 'react-alert'\r\n//import fileDownload  from 'js-file-download';\r\n//import fs from 'fs';\r\nimport _ from 'lodash';\r\n\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport Box from '@material-ui/core/Box';\r\n//import Modal from 'react-modal';\r\nimport { borders } from '@material-ui/system';\r\nimport {dynamicModal } from \"assets/dynamicModal\";\r\nimport cloneDeep from 'lodash/cloneDeep';\r\n//import StepProgressBar from 'react-step-progress';\r\n// import the stylesheet\r\nimport 'react-step-progress/dist/index.css';\r\n\r\n// styles\r\nimport globalStyles from \"assets/globalStyles\";\r\nimport modalStyles from \"assets/modalStyles\";\r\n\r\n// icons\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport LocalHospitalIcon from '@material-ui/icons/LocalHospital';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport EventNoteIcon from '@material-ui/icons/EventNote';\r\nimport AddIcon from '@material-ui/icons/AddCircleOutline';\r\nimport LeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport RightIcon from '@material-ui/icons/ChevronRight';\r\n\r\nimport Switch from \"@material-ui/core/Switch\";\r\n\r\n\r\nimport Link from '@material-ui/core/Link';\r\n\r\n// import Table from \"components/Table/Table.js\";\r\n// import FormControlLabel from '@material-ui/core/FormControlLabel';\r\n// import Radio from '@material-ui/core/Radio';\r\nimport Card from \"components/Card/Card.js\";\r\nimport CardBody from \"components/Card/CardBody.js\";\r\nimport Avatar from \"@material-ui/core/Avatar\"\r\n// import CardAvatar from \"components/Card/CardAvatar.js\";\r\n// import { useHistory } from \"react-router-dom\";\r\n// import { UserContext } from \"../../UserContext\";\r\n\r\nimport {DisplayYesNo, DisplayPageHeader, ValidComp, BlankArea,\r\nDisplayPatientDetails,\r\nDisplayDocumentList,\r\nDisplayImage, DisplayPDF,\r\nLoadingMessage,\r\nDisplayDocumentDetails,\r\n} from \"CustomComponents/CustomComponents.js\"\r\n\r\nimport {\r\nSupportedMimeTypes, SupportedExtensions,\r\nstr1by4, str1by2, str3by4,\r\nHOURSTR, MINUTESTR, DATESTR, MONTHNUMBERSTR, MONTHSTR,\r\n} from \"views/globals.js\";\r\n\r\n// icons\r\nimport FileCopyIcon from '@material-ui/icons/FileCopy';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\n//import DeleteIcon from '@material-ui/icons/Delete';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport DeleteIcon from '@material-ui/icons/Cancel';\r\nimport VisibilityIcon from '@material-ui/icons/Visibility';\r\n\r\n\r\n//colours \r\nimport { red, blue \r\n} from '@material-ui/core/colors';\r\n\r\nimport { callYesNo, \r\n\tdownloadVisit,\r\n\tencrypt, decrypt, \r\n\tvalidateInteger,\r\n\tupdatePatientByFilter,\r\n\tdispAge, dispEmail, dispMobile,\r\n\tgetPatientDocument,\r\n\tstringToBase64,\r\n\tvsDialog,\r\n\tordinalSuffix,\r\n} from \"views/functions.js\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tslotTitle: {\r\n\t\tcolor: 'green',\r\n\t\tfontSize: theme.typography.pxToRem(28),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tpadding: \"10px 10px\", \r\n\t\tmargin: \"10px 10px\", \r\n\t},\r\n\tpatientName: {\r\n\t\tfontSize: theme.typography.pxToRem(16),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\t\r\n\t\tcolor: 'blue',\r\n\t},\r\n\tpatientInfo: {\r\n\t\tfontSize: theme.typography.pxToRem(14),\r\n\t},\r\n\tmurItem: {\r\n\t\tfontSize: theme.typography.pxToRem(15),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tpaddingRight: '10px',\r\n\t},\r\n    root: {\r\n      width: '100%',\r\n    }, \r\n    info: {\r\n        color: blue[700],\r\n    },     \r\n    header: {\r\n\t\t\tcolor: '#D84315',\r\n    }, \r\n    error:  {\r\n      // right: 0,\r\n      fontSize: '12px',\r\n      color: red[700],\r\n      // position: 'absolute',\r\n      alignItems: 'center',\r\n      marginTop: '0px',\r\n\t\t},\r\n\t\teditdelete: {\r\n\t\t\tmarginLeft:  '50px',\r\n\t\t\tmarginRight: '50px',\r\n\t\t},\r\n\t\tNoMedicines: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: blue[700]\r\n\t\t},  \r\n\t\tradio: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: \"blue\",\r\n\t\t},\r\n\t\tmedicine: {\r\n\t\t\tfontSize: theme.typography.pxToRem(15),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: blue[700]\r\n\t\t},  \r\n\t\tmodalHeader: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: blue[700]\r\n\t\t},\r\n\t\tmessageText: {\r\n\t\t\tcolor: '#4CC417',\r\n\t\t\tfontSize: 12,\r\n\t\t\t// backgroundColor: green[700],\r\n    },\r\n    symbolText: {\r\n        color: '#4CC417',\r\n        // backgroundColor: green[700],\r\n    },\r\n    button: {\r\n\t\t\tmargin: theme.spacing(0, 1, 0),\r\n    },\r\n\t\ttitle: {\r\n\t\t\tfontSize: theme.typography.pxToRem(15),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: blue[700],\r\n\t\t},\r\n    heading: {\r\n\t\t\tfontSize: theme.typography.pxToRem(15),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t},\r\n\t\tselectedAccordian: {\r\n\t\t\t//backgroundColor: '#B2EBF2',\r\n\t\t},\r\n\t\tnormalAccordian: {\r\n\t\t\tbackgroundColor: '#FFE0B2',\r\n\t\t},\r\n    secondaryHeading: {\r\n      fontSize: theme.typography.pxToRem(15),\r\n      color: theme.palette.text.secondary,\r\n    },\r\n\t\tnoPadding: {\r\n\t\t\tpadding: '1px', \r\n\t\t}\r\n  }));\r\n\r\n//const addEditModal = dynamicModal('60%');\r\n//const yesNoModal = dynamicModal('60%');\r\n\r\nconst COUNTPERPAGE=10;\r\n// set-up the step content\r\n\r\n\r\n\r\nlet searchText = \"\";\r\nfunction setSearchText(sss) { searchText = sss;}\r\n\r\n\r\nvar userCid;\r\nexport default function Visit(props) {\r\n  \r\n  const classes = useStyles();\r\n\tconst gClasses = globalStyles();\r\n\tconst alert = useAlert();\r\n\t\r\n\tconst [currentSelection, setCurrentSelection] = useState(\"Symptom\");\r\n\tconst [remember, setRemember] = useState(false);\r\n\t\r\n\tconst [investigationIndex, setInvestigationIndex] = useState(0);\r\n\tconst [investigationArray, setInvestigationArray] = useState([])\r\n\t\r\n\tconst [isDrawerOpened, setIsDrawerOpened] = useState(\"\");\r\n\tconst [isListDrawer, setIsListDrawer] = useState(\"\");\r\n\r\n\tconst [currentPatient, setCurrentPatient] = useState(\"\");\r\n\tconst [currentPatientData, setCurrentPatientData] = useState({});\r\n\t\r\n\tconst [filterItem, setFilterItem] = useState(\"\");\r\n\tconst [filterItemText, setFilterItemText] = useState(\"\");\r\n\tconst [filterItemArray, setFilterItemArray] = useState([]);\r\n\t\r\n\tconst [symptomArray, setSymptomArray] = useState([]);\r\n\tconst [diagnosisArray, setDiagnosisArray] = useState([]);\r\n\r\n\tconst [diagnosisDbArray, setDiagnosisDbArray] = useState([]);\r\n\tconst [symptomDbArray, setSymptomDbArray] = useState([]);\r\n\t\r\n\tconst [emurVisitNumber, setEmurIndex] = useState(0);\r\n\tconst [emurNumber, setEmurNumber] = useState(0);\r\n\tconst [emurName, setEmurName] = useState(\"\");\r\n\r\n\t\r\n\tconst [registerStatus, setRegisterStatus] = useState(0);\r\n\tconst [registerError, setRegisterError] = useState(\"\");\r\n\tconst [modalRegister, setModalRegister] = useState(0);\r\n\tconst [visitRegister, setVisitRegister] = useState(0);\r\n\t//const [rowsPerPage, setRowsPerPage] = useState(COUNTPERPAGE);\r\n  //const [page, setPage] = useState(0);\r\n\t\r\n\tconst [modalIsOpen,setIsOpen] = useState(\"\");\r\n\tfunction openModal(fun) { setIsOpen(fun); }\r\n  function closeModal() { setIsOpen(\"\"); }\t\r\n  function afterOpenModal() {\r\n    // references are now sync'd and can be accessed.\r\n    //subtitle.style.color = '#f00';\r\n  }\r\n\t\r\n\t\r\n  useEffect(() => {\t\r\n\t\tuserCid = sessionStorage.getItem(\"cid\");\r\n\r\n\t\tconst checkPatient = async () => {\t\r\n\t\t\ttry {\r\n\t\t\t\tlet patRec = props.patient;\t//JSON.parse(sessionStorage.getItem(\"shareData\"));\r\n\t\t\t\tsetCurrentPatientData(patRec);\r\n\t\t\t\tsetCurrentPatient(patRec.displayName);\r\n\t\t\t\tawait getPatientInvestigation(patRec);\r\n\t\t\t} catch {\r\n\r\n\t\t\t}\r\n\t\t\tsessionStorage.setItem(\"shareData\", \"\");\t\t// clean up\r\n\t\t}\r\n\t\tcheckPatient();\r\n\t\tgetAllDiagnosis();\r\n\t\tgetAllSymptom();\r\n  }, []);\r\n\r\n\tfunction changIndex(num) {\r\n\t\tnum += investigationIndex;\r\n\t\tif (num < 0) return;\r\n\t\tif (num === investigationArray.length) return;\r\n\t\tsetInvestigationIndex(num);\r\n\t\tsetCurrentSelection(\"Symptom\");\r\n\t}\r\n\t\r\n\tfunction DisplayInvestigationDates() {\r\n\t\tif (investigationArray.length === 0) {\r\n\t\treturn (\r\n\t\t\t<Box  className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t\t\t<Grid className={gClasses.noPadding} key=\"AllPatients\" container align=\"center\">\r\n\t\t\t\t<Grid key={\"VISIST\"} item xs={12} sm={12} md={12} lg={12} >\r\n\t\t\t\t\t<Typography className={gClasses.indexSelection} >\r\n\t\t\t\t\t\t{\"No Investigation history available\"}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\t\r\n\t\t\t</Box>\r\n\t\t)};\r\n\t\t\r\n\t\t\r\n\t\tlet v = investigationArray[investigationIndex];\r\n\t\tlet myDate;\r\n\t\tif (v.investigationNumber === 0)\r\n\t\t\t\tmyDate = \"Today's new Investigation\";\r\n\t\telse {\r\n\t\t\tlet d = new Date(v.investigationDate);\r\n\t\t\tmyDate = `Investigation dated ${DATESTR[d.getDate()]}/${MONTHNUMBERSTR[d.getMonth()]}/${d.getFullYear()}`;\r\n\t\t}\r\n\treturn (\r\n\t<Box  className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t<Grid className={gClasses.noPadding} key=\"AllPatients\" container align=\"center\">\r\n\t\t<Grid key={\"LEFT1\"} item xs={2} sm={2} md={2} lg={2} >\t\r\n\t\t\t<IconButton color={'primary'} onClick={() => {changIndex(-1)}}  >\r\n\t\t\t\t<LeftIcon />\r\n\t\t\t</IconButton>\r\n\t\t</Grid>\r\n\t\t<Grid key={\"VISIST\"} item xs={8} sm={8} md={8} lg={8} >\r\n\t\t\t<Typography className={gClasses.indexSelection} >\r\n\t\t\t\t{myDate}\r\n\t\t\t</Typography>\r\n\t\t</Grid>\r\n\t\t<Grid key=\"RIGHT1\" item xs={2} sm={2} md={2} lg={2} >\r\n\t\t\t<IconButton color={'primary'} onClick={() => {changIndex(1)}}  >\r\n\t\t\t\t\t<RightIcon />\r\n\t\t\t\t</IconButton>\r\n\t\t</Grid>\r\n\t</Grid>\t\r\n\t</Box>\r\n\t)}\r\n\r\n\tasync function getPatientInvestigation(rec) {\r\n\t\tlet myArray = [];\r\n\t\ttry {\r\n\t\t\tlet resp = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/investigation/list/${userCid}/${rec.pid}`)\r\n\t\t\tmyArray = resp.data;\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e)\r\n\t\t}\r\n\t\tsetInvestigationArray(myArray);\r\n\t\tsetInvestigationIndex(0);\r\n\t\tsetCurrentSelection(\"Symptom\");\r\n\t}\r\n\t\r\n\tfunction handleCreateNewInvestigation() {\r\n\t\tlet myArray = [].concat(investigationArray);\r\n\t\tlet tmp = {\r\n\t\t\tpid: currentPatientData.pid,\r\n\t\t\tinvestigationNumber: 0,\r\n\t\t\tinvestigationDate: new Date(),\r\n\t\t\tsymptom: [],\r\n\t\t\tdiagnosis: []\r\n\t\t}\r\n\t\tmyArray = [tmp].concat(myArray);\r\n\t\tsetInvestigationArray(myArray);\r\n\t\tsetCurrentSelection(\"Symptom\");\r\n\t\tsetInvestigationIndex(0);\r\n\t}\r\n\t\r\n\t\r\n\tfunction updateInvestigation(sArray, dArray) {\r\n\t\t//console.log(sArray);\r\n\t\t//console.log(dArray);\r\n\t\tlet tmp = JSON.stringify({symptom: sArray, diagnosis: dArray});\r\n\t\tlet tmp1 = encodeURIComponent(tmp);\r\n\t\taxios.post(`${process.env.REACT_APP_AXIOS_BASEPATH}/investigation/update/${userCid}/${currentPatientData.pid}/${tmp1}`)\r\n\t}\r\n\t\r\n\tasync function getAllDiagnosis() {\r\n\t\ttry {\r\n\t\t\tlet resp = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/diagnosis/list/${userCid}`)\r\n\t\t\tsetDiagnosisDbArray(resp.data);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t}\r\n\t}\r\n\t\r\n\tasync function getAllSymptom() {\r\n\t\ttry {\r\n\t\t\tlet resp = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/symptom/list/${userCid}`)\r\n\t\t\tsetSymptomDbArray(resp.data);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t}\r\n\t}\t\r\n\t\t\r\n\r\n\tfunction DisplayFunctionItem(props) {\r\n\t\tlet itemName = props.item;\r\n\t\treturn (\r\n\t\t<Grid key={\"BUT\"+itemName} item xs={4} sm={4} md={2} lg={2} >\t\r\n\t\t<Typography onClick={() => setSelection(itemName)}>\r\n\t\t\t<span \r\n\t\t\t\tclassName={(itemName === currentSelection) ? gClasses.functionSelected : gClasses.functionUnselected}>\r\n\t\t\t{itemName}\r\n\t\t\t</span>\r\n\t\t</Typography>\r\n\t\t</Grid>\r\n\t\t)}\r\n\t\r\n\tasync function setSelection(item) {\r\n\t\t//sessionStorage.setItem(\"shareData\",JSON.stringify(currentPatientData));\r\n\t\tsetCurrentSelection(item);\r\n\t}\r\n\t\r\n\t\r\n\tfunction DisplayFunctionHeader() {\r\n\treturn (\r\n\t<Box  className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t<Grid className={gClasses.noPadding} key=\"AllPatients\" container align=\"center\">\r\n\t\t<DisplayFunctionItem item=\"Symptom\" />\r\n\t\t<DisplayFunctionItem item=\"Diagnosis\" />\r\n\t</Grid>\t\r\n\t</Box>\r\n\t)}\r\n\r\n\r\n\r\n\tfunction setVisitError(errcode) {\r\n    console.log(errcode);\r\n    let myMsg;\r\n\t\tlet iserr = true;\r\n    switch (errcode) {\r\n      case 0:\r\n        myMsg = \"\";\r\n\t\t\t\tiserr = false;\r\n        break;\r\n      case 1001:\r\n        myMsg = `No medicines specified`;\r\n        break;\r\n      case 1011:\r\n        myMsg = `Blank medicine name specified`;\r\n        break;\r\n      case 1012:\r\n        myMsg = `Duplicate medicines specified`;\r\n        break;\r\n      case 1013:\r\n        myMsg = `All the 3 doses specifed as 0`;\r\n        break;\r\n\t\t\tcase 200:\r\n\t\t\t\tmyMsg = `Successfully updated current visit`;\r\n\t\t\t\tiserr = false;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 201:\r\n\t\t\t\tmyMsg = `Error updating current visit`;\r\n\t\t\t\t//iserr = false;\r\n\t\t\t\tbreak;\r\n      default:\r\n          myMsg = \"Unknown Error\";\r\n          break;\r\n    }\r\n\t\tsetRegisterError(myMsg);\r\n\t\topenModal(\"ERROR\");\r\n    //return(\r\n\t\t//   <div>\r\n    //    <Typography className={(iserr == false) ? gClasses.nonerror : gClasses.error}>{myMsg}</Typography>\r\n     // </div>\r\n    //)\r\n  }\r\n\r\n\tfunction ModalResisterStatus() {\r\n    // console.log(`Status is ${modalRegister}`);\r\n\t\tlet regerr = true;\r\n    let myMsg;\r\n    switch (modalRegister) {\r\n      case 0:\r\n        myMsg = \"\";\r\n\t\t\t\tregerr = false;\r\n        break;\r\n      case 1001:\r\n        myMsg = \"Duplicate Symptom\";\r\n        break;\r\n      case 2001:\r\n        myMsg = `Duplicate diagnosis`;\r\n        break;\r\n      default:\r\n          myMsg = \"Unknown Error\";\r\n          break;\r\n    }\r\n    return(\r\n      <div>\r\n        <Typography className={(regerr) ? gClasses.error : gClasses.nonerror}>{myMsg}</Typography>\r\n      </div>\r\n    )\r\n  }\r\n\t\r\n\tfunction handleAddDiagnosis() {\r\n\t\tsetEmurName(\"\");\r\n\t\tsetIsDrawerOpened(\"ADDDIAG\");\r\n\t\t// set filter\r\n\t\tsetFilterItem(\"DIA\");\r\n\t\tsetFilterItemText(\"\");\r\n\t\tsetFilterItemArray([]);\r\n\t\tsetRemember(false);\r\n\t}\r\n\t\r\n\tfunction handleEditDiagnosis(mNumber) {\r\n\t\tsetEmurNumber(mNumber);\r\n\t\tsetEmurName(diagnosisArray[mNumber].name);\r\n\t\tsetModalRegister(0);\r\n\t\tsetIsDrawerOpened(\"EDITDIAG\");\r\n\t\t\r\n\t\tsetFilterItem(\"DIA\");\r\n\t\tsetFilterItemText(\"\");\r\n\t\tsetFilterItemArray([]);\r\n\t\tsetRemember(false);\r\n\r\n\t}\r\n\t\r\n\tfunction updateDiagnosis() {\r\n\t\t//console.log(\"Hi in update diag\", emurName);\r\n\t\tupdateDiagnosisToDatabase(emurName);\r\n\t\t\r\n\t\tlet myInvestitgation = [].concat(investigationArray);\r\n\t\tif (isDrawerOpened === \"ADDDIAG\") {\r\n\t\t\tlet test = myInvestitgation[0].diagnosis.find(x => x.name === emurName);\r\n\t\t\tif (!test) {\r\n\t\t\t\t// not present. Thus add it\r\n\t\t\t\tlet tmpArray = myInvestitgation[0].diagnosis.concat([{name: emurName}]);\r\n\t\t\t\tmyInvestitgation[0].diagnosis = tmpArray;\r\n\t\t\t\tsetInvestigationArray(myInvestitgation);\r\n\t\t\t\tupdateInvestigation(investigationArray[0].symptom, tmpArray);\r\n\t\t\t\tsetIsDrawerOpened(\"\");\r\n\t\t\t} else {\r\n\t\t\t\tsetModalRegister(2001);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction handleDeleteDiagnosis(itemName) {\r\n\t\t//console.log(\"handleDeleteSymptom \"+vNumber+\" Notes \"+mNumber);\r\n\t\tvsDialog(\"Delete Diagnosis\", `Are you sure you want to delete diagnosis ${itemName}?`,\r\n\t\t\t{label: \"Yes\", onClick: () => handleDeleteDiagnosisConfirm(itemName) },\r\n\t\t\t{label: \"No\" }\r\n\t\t);\r\n\t}\r\n\t\r\n\tfunction handleDeleteDiagnosisConfirm(itemName) {\r\n\t\tlet tmpArray = [].concat(investigationArray);\r\n\t\ttmpArray[0].diagnosis = tmpArray[0].diagnosis.filter(x => x.name !== itemName);\r\n\t\tsetInvestigationArray(tmpArray);\r\n\t\tupdateInvestigation(tmpArray[0].symptom, tmpArray[0].diagnosis);\r\n\t}\r\n\t\r\n\r\n\tfunction handleAddNewSymptom() {\r\n\t\tsetEmurName(\"\");\r\n\t\tsetModalRegister(0);\r\n\t\t// for filter\r\n\t\tsetFilterItem(\"SYM\");\r\n\t\tsetFilterItemText(\"\");\r\n\t\tsetFilterItemArray([]);\r\n\t\tsetRemember(false);\r\n\t\t\r\n\t\tsetIsDrawerOpened(\"ADDSYM\");\r\n\t}\r\n\t\r\n\tfunction handleEditSymptom(mNumber) {\r\n\t\tsetEmurNumber(mNumber);\r\n\t\tsetEmurName(symptomArray[mNumber].name)\r\n\r\n\t\t\t\t// for filter\r\n\t\tsetFilterItem(\"SYM\");\r\n\t\tsetFilterItemText(\"\");\r\n\t\tsetFilterItemArray([]);\r\n\t\tsetRemember(false);\r\n\t\t\r\n\t\tsetModalRegister(0);\r\n\t\tsetIsDrawerOpened(\"EDITSYM\");\r\n\t}\r\n\r\n\tasync function updateSymptomToDatabase(myName) {\r\n\t\tif (!remember) return;\r\n\t\tlet tmp = symptomDbArray.find(x => x.name.toLowerCase() === myName.toLowerCase())\r\n\t\tif (!tmp) {\r\n\t\t\tlet myEncodedName = encodeURIComponent(myName);\r\n\t\t\ttry {\r\n\t\t\t\taxios.post(`${process.env.REACT_APP_AXIOS_BASEPATH}/symptom/update/${userCid}/${myEncodedName}`)\r\n\t\t\t\tlet tmpArray = [{name: myName}].concat(symptomDbArray);\r\n\t\t\t\tsetSymptomDbArray(_.sortBy(tmpArray, 'name'));\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t}\t\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction handleVsSymptomDelete(sym) {\r\n\t\tlet myName = sym.name;\r\n\t\tlet myEncodedName = encodeURIComponent(myName);\r\n\t\ttry {\r\n\t\t\taxios.post(`${process.env.REACT_APP_AXIOS_BASEPATH}/symptom/delete/${userCid}/${myEncodedName}`)\r\n\t\t\tsetSymptomDbArray(symptomDbArray.filter(x => x.name !== myName));\r\n\t\t\tsetFilterItemArray(filterItemArray.filter(x => x.name !== myName));\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t}\t\t\r\n\t}\r\n\t\r\n\tfunction updateDiagnosisToDatabase(myName) {\r\n\t\tif (!remember) return;\t\r\n\t\tlet tmp = diagnosisDbArray.find(x => x.name.toLowerCase() === myName.toLowerCase())\r\n\t\tlet myEncodedName = encodeURIComponent(myName);\r\n\t\ttry {\r\n\t\t\taxios.post(`${process.env.REACT_APP_AXIOS_BASEPATH}/diagnosis/update/${userCid}/${myEncodedName}`)\r\n\t\t\tlet tmpArray = [{name: myName}].concat(diagnosisDbArray);\r\n\t\t\tsetDiagnosisDbArray(_.sortBy(tmpArray, 'name'));\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t}\t\t\r\n\t}\r\n\r\n\tfunction handleVsDiagnosisDelete(dia) {\r\n\t\tlet myName = dia.name;\r\n\t\tlet myEncodedName = encodeURIComponent(myName);\r\n\t\ttry {\r\n\t\t\taxios.post(`${process.env.REACT_APP_AXIOS_BASEPATH}/diagnosis/delete/${userCid}/${myEncodedName}`)\r\n\t\t\tsetDiagnosisDbArray(diagnosisDbArray.filter(x => x.name !== myName));\r\n\t\t\tsetFilterItemArray(filterItemArray.filter(x => x.name !== myName));\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t}\t\t\r\n\t}\r\n\r\n\tfunction handleSymptomUpdate() {\r\n\t\tupdateSymptomToDatabase(emurName);\r\n\t\t\r\n\t\tlet myInvestitgation = [].concat(investigationArray);\r\n\t\tif (isDrawerOpened === \"ADDSYM\") {\r\n\t\t\tlet test = myInvestitgation[0].symptom.find(x => x.name === emurName);\r\n\t\t\tif (!test) {\r\n\t\t\t\tlet tmpArray = myInvestitgation[0].symptom.concat([{name: emurName}]);\r\n\t\t\t\t//tmpArray = _.sortBy(tmpArray, 'name');\r\n\t\t\t\tmyInvestitgation[0].symptom = tmpArray;\r\n\t\t\t\tsetInvestigationArray(myInvestitgation);\r\n\t\t\t\tupdateInvestigation(tmpArray, investigationArray[0].diagnosis)\r\n\t\t\t\tsetIsDrawerOpened(\"\");\r\n\t\t\t} else {\r\n\t\t\t\tsetModalRegister(1001);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction handleDeleteSymptom(itemName) {\r\n\t\tvsDialog(\"Delete Symptom\", `Are you sure you want to delete symptom ${itemName}?`,\r\n\t\t{label: \"Yes\", onClick: () => handleDeleteSymptomConfirm(itemName) },\r\n\t\t{label: \"No\" }\r\n\t\t);\r\n\t}\r\n\t\r\n\tfunction handleDeleteSymptomConfirm(itemName) {\r\n\t\tlet myData = [].concat(investigationArray);\r\n\t\tmyData[0].symptom = myData[0].symptom.filter(x => x.name !== itemName);\r\n\t\tsetInvestigationArray(myData);\r\n\t\tupdateInvestigation(myData[0].symptom, myData[0].diagnosis);\r\n\t}\r\n\t\r\n\t// handle visits\r\n\r\n\r\n\tfunction ArunSymptoms() {\r\n\tif (investigationArray.length === 0) return null;\r\n\tlet x = investigationArray[investigationIndex];\r\n\treturn (\r\n\t<div>\t\r\n\t{(x.investigationNumber === 0) && \r\n\t\t<VsButton name=\"Add new Symptom\" align=\"left\" onClick={handleAddNewSymptom} />\r\n\t}\t\r\n\t<Box borderColor=\"primary.main\" border={1}>\r\n\t{x.symptom.map( (m, index) =>\r\n\t\t<Grid className={classes.noPadding} key={\"SYM\"+index} container justify=\"center\" alignItems=\"center\" >\r\n\t\t<Grid item xs={10} sm={10} md={11} lg={11} >\r\n\t\t\t<Typography className={classes.heading}>{m.name}</Typography>\r\n\t\t</Grid>\r\n\t\t<Grid item xs={1} sm={1} md={1} lg={1} >\r\n\t\t\t{(x.investigationNumber === 0) &&\r\n\t\t\t\t<IconButton color=\"secondary\" size=\"small\" onClick={() => { handleDeleteSymptom(m.name)}} >\r\n\t\t\t\t<DeleteIcon />\r\n\t\t\t\t</IconButton>\r\n\t\t\t}\r\n\t\t</Grid>\r\n\t\t</Grid>\r\n\t)}\r\n\t</Box>\r\n\t</div>\r\n\t)}\r\n\t\r\n\tfunction ArunDiagnosis() {\r\n\tif (investigationArray.length === 0) return null;\r\n\tlet x = investigationArray[investigationIndex];\r\n\treturn (\r\n\t\t<div> \r\n\t\t{(x.investigationNumber === 0) && \r\n\t\t\t<VsButton name=\"Add new diagnosis\" align=\"left\" onClick={handleAddDiagnosis} />\r\n\t\t}\t\r\n\t\t<Box borderColor=\"primary.main\" border={1}>\r\n\t\t{x.diagnosis.map( (un, index) =>\r\n\t\t\t<Grid className={classes.noPadding} key={\"NOTES\"+index} container justify=\"center\" alignItems=\"center\" >\r\n\t\t\t<Grid item xs={10} sm={10} md={11} lg={11} >\r\n\t\t\t\t<Typography className={classes.heading}>{un.name}</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={1} sm={1} md={1} lg={1} >\r\n\t\t\t\t{(x.investigationNumber === 0) &&\r\n\t\t\t\t\t<IconButton color=\"secondary\" size=\"small\" onClick={() => { handleDeleteDiagnosis(un.name)}} >\r\n\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t}\r\n\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t)}\r\n\t\t</Box>\r\n\t\t</div>\r\n\t)}\r\n\t\r\n\r\n\tfunction setEmurNameWithFilter(txt) {\r\n\t\t//console.log(\"Iin filter\", txt);\r\n\t\tsetEmurName(txt);\r\n\t\tsetFilterItemText(txt);\r\n\t\tlet tmpArray = [];\r\n\t\tif (txt !== \"\") {\r\n\t\t\tif (filterItem.substr(0,3) === \"SYM\")\r\n\t\t\t\ttmpArray = symptomDbArray.filter(x => x.name.toLowerCase().includes(txt.toLowerCase()));\r\n\t\t\telse if (filterItem.substr(0,3) === \"DIA\")\r\n\t\t\t\ttmpArray = diagnosisDbArray.filter(x => x.name.toLowerCase().includes(txt.toLowerCase()));\r\n\t\t} \r\n\t\tconsole.log(symptomDbArray);\r\n\t\tconsole.log(diagnosisDbArray);\r\n\t\tconsole.log(tmpArray);\r\n\t\tsetFilterItemArray(tmpArray);\r\n\t}\r\n\t\r\n\tfunction DisplayFilterArray() {\r\n\tconsole.log(filterItemArray);\r\n\treturn (\r\n\t\t<div align=\"center\" >\r\n\t\t\t{filterItemArray.map( (item, index) =>\r\n\t\t\t\t<Typography key={\"ITEM\"+index} className={gClasses.blue} type=\"button\" onClick={() => { setFilterItemArray([]); setEmurName(item.name); }} >\r\n\t\t\t\t{item.name}\r\n\t\t\t\t</Typography>\r\n\t\t\t)}\r\n\t\t</div>\t\r\n\t)}\r\n\t\r\n\tfunction handleVsSelect(item) {\r\n\t\tsetFilterItemArray([]); \r\n\t\tsetEmurName(item.name);\r\n\t}\r\n\r\n\r\n\tfunction DisplayNewBtn() {\r\n\t\tif ((investigationArray.length > 0) && (investigationArray[0].investigationNumber === 0)) return null;\r\n\t\treturn (\r\n\t\t\t<div align=\"right\">\r\n\t\t\t\t<VsButton name=\"Add New Investigation\" onClick={handleCreateNewInvestigation} />\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\t\r\n\treturn (\r\n\t<div className={gClasses.webPage} align=\"center\" key=\"main\">\r\n\t<CssBaseline />\r\n\t{(currentPatient !== \"\") &&\r\n\t\t<Box align=\"left\" >\r\n\t\t\t<DisplayInvestigationDates />\r\n\t\t\t<DisplayFunctionHeader />\r\n\t\t\t<Box className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t\t\t\t<DisplayNewBtn />\r\n\t\t\t\t{(currentSelection === \"Symptom\") &&\r\n\t\t\t\t\t<ArunSymptoms />\r\n\t\t\t\t}\r\n\t\t\t\t{(currentSelection === \"Diagnosis\") &&\r\n\t\t\t\t\t<ArunDiagnosis />\r\n\t\t\t\t}\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t}\r\n\t<Drawer className={classes.drawer}\r\n\t\tanchor=\"right\"\r\n\t\tvariant=\"temporary\"\r\n\t\topen={isDrawerOpened !== \"\"}\r\n\t>\r\n\t<Box className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t<VsCancel align=\"right\" onClick={() => {setIsDrawerOpened(\"\")}} />\r\n\t{((isDrawerOpened === \"ADDSYM\")) &&\r\n\t\t<ValidatorForm align=\"center\" className={gClasses.form} onSubmit={handleSymptomUpdate}>\r\n\t\t\t<Typography align=\"center\" className={classes.modalHeader}>\r\n\t\t\t\t{((isDrawerOpened === \"ADDSYM\") ? \"Add Symptom\" : \"Edit Symptom\")+` for ${currentPatient}`}\r\n\t\t\t</Typography>\r\n\t\t\t<BlankArea />\r\n\t\t\t{/*<TextValidator required fullWidth color=\"primary\"\r\n\t\t\t\tid=\"newName\" label=\"Symptom\" name=\"newName\"\r\n\t\t\t\tonChange={(event) => setEmurNameWithFilter(event.target.value)}\r\n\t\t\t\tvalue={emurName}\r\n\t\t\t/>*/}\r\n\t\t\t<VsTextFilter type=\"text\" label=\"Symptom\" value={emurName}\r\n\t\t\t\tonChange={(event) => setEmurNameWithFilter(event.target.value)}\r\n\t\t\t\tonClear={(event) => setEmurNameWithFilter(\"\")}\r\n\t\t\t/>\r\n\t\t\t<VsCheckBox align='left' label=\"Remember\" checked={remember} onClick={() => setRemember(!remember)} />\r\n\t\t\t<VsList listArray={filterItemArray} onSelect={handleVsSelect} onDelete={handleVsSymptomDelete} />\r\n\t\t\t<ModalResisterStatus />\r\n\t\t\t<BlankArea />\r\n\t\t\t<VsButton type=\"submit\" name= {(isDrawerOpened === \"ADDSYM\") ? \"Add\" : \"Update\"}\r\n\t\t\t/>\r\n\t\t</ValidatorForm>\r\n\t}\r\n\t{((isDrawerOpened === \"ADDDIAG\") || (isDrawerOpened === \"EDITDIAG\")) &&\r\n\t\t<ValidatorForm align=\"center\" className={gClasses.form} onSubmit={updateDiagnosis}>\r\n\t\t\t<Typography align=\"center\" className={classes.modalHeader}>\r\n\t\t\t\t{((isDrawerOpened === \"ADDDIAG\") ? \"New Diagnosis\" : \"Edit Diagnosis\")+` for ${currentPatient}`}\r\n\t\t\t</Typography>\r\n\t\t\t<BlankArea />\r\n\t\t\t{/*<TextValidator required fullWidth color=\"primary\"\r\n\t\t\t\tid=\"newName\" label=\"Diagnosis\" name=\"newName\"\r\n\t\t\t\tonChange={(event) => setEmurNameWithFilter(event.target.value)}\r\n\t\t\t\tvalue={emurName}\r\n\t\t\t/>*/}\r\n\t\t\t<VsTextFilter type=\"text\" label=\"Diagnosis\" value={emurName}\r\n\t\t\t\tonChange={(event) => setEmurNameWithFilter(event.target.value)}\r\n\t\t\t\tonClear={(event) => setEmurNameWithFilter(\"\")}\r\n\t\t\t/>\t\t\t\r\n\t\t\t<VsCheckBox align='left' label=\"Remember\" checked={remember} onClick={() => setRemember(!remember)} />\r\n\t\t\t<VsList listArray={filterItemArray} onSelect={handleVsSelect} onDelete={handleVsDiagnosisDelete} />\r\n\t\t\t<ModalResisterStatus />\r\n\t\t\t<BlankArea />\r\n\t\t\t<VsButton type =\"submit\" name= {(isDrawerOpened === \"ADDDIAG\") ? \"Add\" : \"Update\"} />\r\n\t\t</ValidatorForm>\r\n\t}\r\n\t</Box>\r\n\t</Drawer>\t\t\r\n  </div>\r\n  );    \r\n}\r\n","import React from 'react';\r\n//import Typography from '@material-ui/core/Typography';\r\nimport BorderWrapper from 'react-border-wrapper'\r\nimport globalStyles from \"assets/globalStyles\";\r\n\r\n\r\nimport {ToothLeft, ToothRight, ToothNumber,} from \"views/globals.js\";\r\n\r\nexport default function VsTeeth(props) {\r\nconst gClasses = globalStyles();\r\nlet _Click = (props.onClick == null) ? dummy : props.onClick;\r\nreturn (\r\n\t<div>\r\n\t\t<div align=\"center\" className={gClasses.tooth}>\r\n\t\t<span className={gClasses.toothType}>UL: </span>\r\n\t\t{ToothNumber.upperLeft.map( (t) => {\r\n\t\t\t\t\tlet myClass = (props.toothArray.includes(t)) ? gClasses.selectedTooth : gClasses.normalTooth;\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<BorderWrapper borderColour=\"#000000\" borderWidth=\"2px\" borderRadius=\"0px\" \r\n\t\t\t\t\t\t\tborderType=\"solid\" innerPadding=\"0px\" padding=\"10px\" margin=\"10px\" >\r\n\t\t\t\t\t\t\t<span className={myClass} onClick= {() => _Click(t) }>{t}</span>\r\n\t\t\t\t\t\t</BorderWrapper>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t)}\r\n\t\t\t\t)}\r\n\t\t<span className={gClasses.toothType}>UR: </span>\r\n\t\t{ToothNumber.upperRight.map( (t) => {\r\n\t\t\t\t\tlet myClass = (props.toothArray.includes(t)) ? gClasses.selectedTooth : gClasses.normalTooth;\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<BorderWrapper borderColour=\"#000000\" borderWidth=\"2px\" borderRadius=\"0px\" \r\n\t\t\t\t\t\t\tborderType=\"solid\" innerPadding=\"0px\" padding=\"10px\" margin=\"10px\" >\r\n\t\t\t\t\t\t\t<span className={myClass} onClick= {() => _Click(t) }>{t}</span>\r\n\t\t\t\t\t\t</BorderWrapper>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t)}\r\n\t\t\t\t)}\r\n\t\t</div>\r\n\t\t<div align=\"center\" className={gClasses.tooth}>\r\n\t\t<span className={gClasses.toothType}>LL: </span>\r\n\t\t{ToothNumber.lowerLeft.map( (t) => {\r\n\t\t\t\t\tlet myClass = (props.toothArray.includes(t)) ? gClasses.selectedTooth : gClasses.normalTooth;\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<BorderWrapper borderColour=\"#000000\" borderWidth=\"2px\" borderRadius=\"0px\" \r\n\t\t\t\t\t\t\tborderType=\"solid\" innerPadding=\"0px\" padding=\"10px\" margin=\"10px\" >\r\n\t\t\t\t\t\t\t<span className={myClass} onClick= {() => _Click(t) }>{t}</span>\r\n\t\t\t\t\t\t</BorderWrapper>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t)}\r\n\t\t\t\t)}\r\n\t\t<span className={gClasses.toothType}>LR: </span>\r\n\t\t{ToothNumber.lowerRight.map( (t) => {\r\n\t\t\t\t\tlet myClass = (props.toothArray.includes(t)) ? gClasses.selectedTooth : gClasses.normalTooth;\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<BorderWrapper borderColour=\"#000000\" borderWidth=\"2px\" borderRadius=\"0px\" \r\n\t\t\t\t\t\t\tborderType=\"solid\" innerPadding=\"0px\" padding=\"10px\" margin=\"10px\" >\r\n\t\t\t\t\t\t\t<span className={myClass} onClick= {() => _Click(t) } >{t}</span>\r\n\t\t\t\t\t\t</BorderWrapper>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t)}\r\n\t\t\t\t)}\r\n\t\t</div>\r\n\t</div>\r\n)\r\n}","import React, { useEffect, useState, useContext } from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { InputAdornment, makeStyles, Container, CssBaseline } from '@material-ui/core';\r\nimport axios from \"axios\";\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport SwitchBtn from '@material-ui/core/Switch';\r\nimport { usePromiseTracker, trackPromise } from \"react-promise-tracker\";\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\n\r\nimport VsButton from \"CustomComponents/VsButton\";\r\nimport VsCancel from \"CustomComponents/VsCancel\";\r\nimport VsList from \"CustomComponents/VsList\";\r\nimport VsTeeth from \"CustomComponents/VsTeeth\";\r\nimport VsTextFilter from \"CustomComponents/VsTextFilter\";\r\nimport VsCheckBox from \"CustomComponents/VsCheckBox\";\r\n\r\nimport { useLoading, Audio } from '@agney/react-loading';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport { useAlert } from 'react-alert'\r\nimport fileDownload  from 'js-file-download';\r\nimport fs from 'fs';\r\nimport _ from 'lodash';\r\nimport BorderWrapper from 'react-border-wrapper'\r\n\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport Box from '@material-ui/core/Box';\r\nimport Modal from 'react-modal';\r\nimport { borders } from '@material-ui/system';\r\nimport {dynamicModal } from \"assets/dynamicModal\";\r\nimport cloneDeep from 'lodash/cloneDeep';\r\nimport StepProgressBar from 'react-step-progress';\r\n// import the stylesheet\r\nimport 'react-step-progress/dist/index.css';\r\n\r\n// styles\r\nimport globalStyles from \"assets/globalStyles\";\r\nimport modalStyles from \"assets/modalStyles\";\r\n\r\n// icons\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport LocalHospitalIcon from '@material-ui/icons/LocalHospital';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport EventNoteIcon from '@material-ui/icons/EventNote';\r\nimport AddIcon from '@material-ui/icons/AddCircleOutline';\r\nimport LeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport RightIcon from '@material-ui/icons/ChevronRight';\r\n\r\nimport Switch from \"@material-ui/core/Switch\";\r\n\r\n\r\nimport Link from '@material-ui/core/Link';\r\n\r\n// import Table from \"components/Table/Table.js\";\r\n// import FormControlLabel from '@material-ui/core/FormControlLabel';\r\n// import Radio from '@material-ui/core/Radio';\r\nimport Card from \"components/Card/Card.js\";\r\nimport CardBody from \"components/Card/CardBody.js\";\r\nimport Avatar from \"@material-ui/core/Avatar\"\r\n// import CardAvatar from \"components/Card/CardAvatar.js\";\r\n// import { useHistory } from \"react-router-dom\";\r\n// import { UserContext } from \"../../UserContext\";\r\n\r\nimport {DisplayYesNo, DisplayPageHeader, ValidComp, BlankArea,\r\nDisplayPatientDetails,\r\nDisplayDocumentList,\r\nDisplayImage, DisplayPDF,\r\nLoadingMessage,\r\nDisplayDocumentDetails,\r\n} from \"CustomComponents/CustomComponents.js\"\r\n\r\nimport {\r\nSupportedMimeTypes, SupportedExtensions,\r\nstr1by4, str1by2, str3by4, INR,\r\nHOURSTR, MINUTESTR, DATESTR, MONTHNUMBERSTR, MONTHSTR,\r\nToothLeft, ToothRight,\r\nToothNumber, ToothRange,\r\n} from \"views/globals.js\";\r\n\r\n// icons\r\nimport FileCopyIcon from '@material-ui/icons/FileCopy';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\n//import DeleteIcon from '@material-ui/icons/Delete';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport DeleteIcon from '@material-ui/icons/Cancel';\r\nimport VisibilityIcon from '@material-ui/icons/Visibility';\r\n\r\n\r\n//colours \r\nimport { red, blue, green, lightGreen, \r\n} from '@material-ui/core/colors';\r\n\r\nimport { \r\n\tvalidateInteger,\r\n\tdispAge, dispEmail, dispMobile,\r\n\tvsDialog,\r\n\tordinalSuffix,\r\n} from \"views/functions.js\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tselectedTooth: {\r\n\t\tbackgroundColor: green[900],\r\n\t\tcolor: 'white',\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tmargin: \"3px\",\r\n\t},\r\n\tnormalTooth: {\r\n\t\t//backgroundColor: 'lightGreen',\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tmargin: \"3px\",\r\n\t},\r\n\ttoothNumber: {\r\n\t\tborderColour: 'black',\r\n\t\tborderWidth: \"1px\",\r\n\t\tborderRadius: \"0px\",\r\n\t\tborderType: \"solid\",\r\n\t\tinnerPadding: \"0px\",\r\n\t\t//padding: \"10px\",\r\n\t\t//margin: \"10px\",\r\n\t},\r\n\ttooth: {\r\n\t\t//backgroundColor: 'lightGreen',\r\n\t\tfontSize: theme.typography.pxToRem(12),\r\n\t\t//fontWeight: theme.typography.fontWeightBold,\r\n\t},\r\n\ttoothType: {\r\n\t\tcolor: 'blue',\r\n\t\tfontSize: theme.typography.pxToRem(18),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tmargin: \"5px\",\r\n\t},\r\n\tpatientName: {\r\n\t\tfontSize: theme.typography.pxToRem(16),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\t\r\n\t\tcolor: 'blue',\r\n\t},\r\n\tpatientInfo: {\r\n\t\tfontSize: theme.typography.pxToRem(14),\r\n\t},\r\n\tmurItem: {\r\n\t\tfontSize: theme.typography.pxToRem(15),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tpaddingRight: '10px',\r\n\t},\r\n\ttotal: {\r\n\t\tfontSize: theme.typography.pxToRem(18),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tpaddingRight: '30px',\r\n\t\tcolor: 'green',\r\n\t},\r\n    root: {\r\n      width: '100%',\r\n    }, \r\n    info: {\r\n        color: blue[700],\r\n    },     \r\n    header: {\r\n\t\t\tcolor: '#D84315',\r\n    }, \r\n    error:  {\r\n      // right: 0,\r\n      fontSize: '12px',\r\n      color: red[700],\r\n      // position: 'absolute',\r\n      alignItems: 'center',\r\n      marginTop: '0px',\r\n\t\t},\r\n\t\teditdelete: {\r\n\t\t\tmarginLeft:  '50px',\r\n\t\t\tmarginRight: '50px',\r\n\t\t},\r\n\t\tNoMedicines: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: blue[700]\r\n\t\t},  \r\n\t\tradio: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: \"blue\",\r\n\t\t},\r\n\t\tmedicine: {\r\n\t\t\tfontSize: theme.typography.pxToRem(15),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: blue[700]\r\n\t\t},  \r\n\t\tmodalHeader: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: blue[700]\r\n\t\t},\r\n\t\tmessageText: {\r\n\t\t\tcolor: '#4CC417',\r\n\t\t\tfontSize: 12,\r\n\t\t\t// backgroundColor: green[700],\r\n    },\r\n    symbolText: {\r\n        color: '#4CC417',\r\n        // backgroundColor: green[700],\r\n    },\r\n    button: {\r\n\t\t\tmargin: theme.spacing(0, 1, 0),\r\n    },\r\n\t\ttitle: {\r\n\t\t\tfontSize: theme.typography.pxToRem(15),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: blue[700],\r\n\t\t},\r\n    heading: {\r\n\t\t\tfontSize: theme.typography.pxToRem(15),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t},\r\n\t\tselectedAccordian: {\r\n\t\t\t//backgroundColor: '#B2EBF2',\r\n\t\t},\r\n\t\tnormalAccordian: {\r\n\t\t\tbackgroundColor: '#FFE0B2',\r\n\t\t},\r\n    secondaryHeading: {\r\n      fontSize: theme.typography.pxToRem(15),\r\n      color: theme.palette.text.secondary,\r\n    },\r\n\t\tnoPadding: {\r\n\t\t\tpadding: '1px', \r\n\t\t}\r\n  }));\r\n\r\n\r\nvar userCid;\r\nexport default function DentalTreatment(props) {\r\n  \r\n  const classes = useStyles();\r\n\tconst gClasses = globalStyles();\r\n\tconst alert = useAlert();\r\n\t\r\n\tconst [currentSelection, setCurrentSelection] = useState(\"Treatment\");\r\n\tconst [remember, setRemember] = useState(false);\r\n\t\r\n\tconst [currentPatient, setCurrentPatient] = useState(\"\");\r\n\tconst [currentPatientData, setCurrentPatientData] = useState({});\r\n\tconst [isDrawerOpened, setIsDrawerOpened] = useState(\"\");\r\n\t\r\n\tconst [treatTypeArray, setTreatTypeArray] = useState([]);\r\n\t\r\n\t\r\n\tconst [treatmentIndex, setTreatmentIndex] = useState(0);\r\n\tconst [treatmentArray, setTreatmentArray] = useState([]);\r\n\t\r\n\tconst [myToothArray, setmyToothArray] = useState([11, 13, 26, 28, 41, 47, 33, 34]);\r\n\r\n\tconst [filterItem, setFilterItem] = useState(\"\");\r\n\tconst [filterItemText, setFilterItemText] = useState(\"\");\r\n\tconst [filterItemArray, setFilterItemArray] = useState([]);\r\n\t\r\n\tconst [emurIndex, setEmurIndex] = useState(0);\r\n\tconst [emurNumber, setEmurNumber] = useState(0);\r\n\t\r\n\tconst [emurName, setEmurName] = useState(\"\");\r\n\tconst [emurToothArray, setEmurToothArray] = useState([]);\r\n\tconst [emurAmount, setEmurAmount] = useState(0);\r\n\t\r\n\tconst [balance, setBalance] = useState(0);\r\n\t\r\n\tconst [modalRegister, setModalRegister] = useState(0);\r\n\t\r\n  useEffect(() => {\t\r\n\t\tuserCid = sessionStorage.getItem(\"cid\");\r\n\t\tconst checkPatient = async () => {\t\r\n\t\t\tlet patRec = props.patient;\t//JSON.parse(sessionStorage.getItem(\"shareData\"));\r\n\t\t\t//console.log(patRec);\r\n\t\t\tsetCurrentPatientData(patRec);\r\n\t\t\tsetCurrentPatient(patRec.displayName);\r\n\t\t\tawait getPatientTreatment(patRec);\r\n\t\t}\r\n\t\tcheckPatient();\r\n\t\tgetAllTreatType();\r\n  }, []);\r\n\r\n\tfunction ModalResisterStatus() {\r\n    // console.log(`Status is ${modalRegister}`);\r\n\t\tlet regerr = true;\r\n    let myMsg;\r\n    switch (modalRegister) {\r\n      case 0:\r\n        myMsg = \"\";\r\n\t\t\t\tregerr = false;\r\n        break;\r\n      case 2001:\r\n        myMsg = 'Duplicate Treatment type';\r\n        break;\r\n      default:\r\n          myMsg = \"Unknown Error\";\r\n          break;\r\n    }\r\n    return(\r\n      <div>\r\n        <Typography className={(regerr) ? gClasses.error : gClasses.nonerror}>{myMsg}</Typography>\r\n      </div>\r\n    )\r\n  }\r\n\t\r\n\tasync function getPatientTreatment(patRec) {\r\n\t\tlet myArray = [];\r\n\t\ttry {\r\n\t\t\tlet resp = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/dentaltreatment/list/${userCid}/${patRec.pid}`)\r\n\t\t\tmyArray = resp.data;\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e)\r\n\t\t}\r\n\t\tsetTreatmentArray(myArray);\r\n\t\tsetTreatmentIndex(0);\r\n\t\tsetCurrentSelection(\"Treatment\");\t\r\n\t}\r\n\t\r\n\tasync function getAllTreatType() {\r\n\t\ttry {\r\n\t\t\tlet resp = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/treattype/list/${userCid}`)\r\n\t\t\tsetTreatTypeArray(resp.data);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction DisplayFunctionItem(props) {\r\n\t\tlet itemName = props.item;\r\n\t\treturn (\r\n\t\t<Grid key={\"BUT\"+itemName} item xs={6} sm={6} md={2} lg={2} >\r\n\t\t{(itemName !== \"NEW\") &&\t\t\r\n\t\t\t<Typography onClick={() => setSelection(itemName)}>\r\n\t\t\t\t<span \r\n\t\t\t\t\tclassName={(itemName === currentSelection) ? gClasses.functionSelected : gClasses.functionUnselected}>\r\n\t\t\t\t{itemName}\r\n\t\t\t\t</span>\r\n\t\t\t</Typography>\r\n\t\t}\r\n\t\t</Grid>\r\n\t\t)}\r\n\t\r\n\tasync function setSelection(item) {\r\n\t\t//sessionStorage.setItem(\"shareData\",JSON.stringify(currentPatientData));\r\n\t\tsetCurrentSelection(item);\r\n\t}\r\n\t\r\n\tfunction DisplayFunctionHeader() {\r\n\treturn (\r\n\t<Box className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1}>\r\n\t<Grid className={gClasses.noPadding} key=\"AllPatients\" container align=\"center\">\r\n\t\t<DisplayFunctionItem item=\"Treatment\" />\r\n\t</Grid>\t\r\n\t</Box>\r\n\t)}\r\n\t\r\n\t\r\n\t\r\n\tfunction changIndex(num) {\r\n\t\tnum += treatmentIndex;\r\n\t\tif (num < 0) return;\r\n\t\tif (num === treatmentArray.length) return;\r\n\t\tsetTreatmentIndex(num);\r\n\t\t//setCurrentSelection(\"Medicine\");\r\n\t}\r\n\r\n\tfunction DisplayTreatmentDates() {\r\n\t\tif (treatmentArray.length === 0) {\r\n\t\t\treturn (\r\n\t\t\t\t<Box className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1}>\r\n\t\t\t\t<Grid className={gClasses.noPadding} key=\"AllPatients\" container align=\"center\">\r\n\t\t\t\t\t<Grid key={\"VISIST\"} item xs={12} sm={12} md={12} lg={12} >\r\n\t\t\t\t\t\t<Typography className={gClasses.indexSelection} >\r\n\t\t\t\t\t\t\t{\"No Treatment history available\"}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\t\r\n\t\t\t\t</Box>\r\n\t\t\t);\r\n\t\t}\r\n\t\t\r\n\t\t//console.log(treatmentArray);\r\n\t\tlet v = treatmentArray[treatmentIndex];\r\n\t\tlet myDate;\r\n\t\tif (v.treatmentNumber === 0)\r\n\t\t\t\tmyDate = \"Today's new Treatment\";\r\n\t\telse {\r\n\t\t\tlet d = new Date(v.treatmentDate);\r\n\t\t\tmyDate = `Treatment dated ${DATESTR[d.getDate()]}/${MONTHNUMBERSTR[d.getMonth()]}/${d.getFullYear()}`;\r\n\t\t}\r\n\t\treturn (\r\n\t\t<Box className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1}>\r\n\t\t<Grid className={gClasses.noPadding} key=\"AllPatients\" container align=\"center\">\r\n\t\t\t<Grid key={\"LEFT1\"} item xs={2} sm={2} md={2} lg={2} >\t\r\n\t\t\t\t<IconButton color={'primary'} onClick={() => {changIndex(-1)}}  >\r\n\t\t\t\t\t<LeftIcon />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid key={\"VISIST\"} item xs={8} sm={8} md={8} lg={8} >\r\n\t\t\t\t<Typography className={gClasses.indexSelection} >\r\n\t\t\t\t\t{myDate}\r\n\t\t\t\t</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid key=\"RIGHT1\" item xs={2} sm={2} md={2} lg={2} >\r\n\t\t\t\t<IconButton color={'primary'} onClick={() => {changIndex(1)}}  >\r\n\t\t\t\t\t\t<RightIcon />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t</Grid>\r\n\t\t</Grid>\t\r\n\t\t</Box>\r\n\t\t)\r\n\t}\r\n\r\n\tfunction handleUpdate(num) {\r\n\t\t//console.log(emurToothArray);\r\n\t\t//console.log(num);\r\n\t\t//console.log(num);\r\n\t\tlet newTootlArray;\r\n\t\tif (emurToothArray.includes(num)) {\r\n\t\t\tnewTootlArray = emurToothArray.filter(x => x !== num);\r\n\t\t} else {\r\n\t\t\tnewTootlArray = [].concat(emurToothArray);\r\n\t\t\tnewTootlArray.push(num);\r\n\t\t}\r\n\t\tconsole.log(newTootlArray);\r\n\t\tsetEmurToothArray(newTootlArray);\r\n\t}\r\n\t\r\n\tfunction dummy(num) {};\r\n\t\r\n\tfunction DisplayTeeth(props) {\r\n\tlet _Click = (props.onClick == null) ? dummy : props.onClick;\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div align=\"center\" className={classes.tooth}>\r\n\t\t\t\t<span className={classes.toothType}>UL: </span>\r\n\t\t\t\t{ToothNumber.upperLeft.map( (t) => {\r\n\t\t\t\t\tlet myClass = (props.toothArray.includes(t)) ? classes.selectedTooth : classes.normalTooth;\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<BorderWrapper borderColour=\"#000000\" borderWidth=\"2px\" borderRadius=\"0px\" \r\n\t\t\t\t\t\t\tborderType=\"solid\" innerPadding=\"0px\" padding=\"10px\" margin=\"10px\" >\r\n\t\t\t\t\t\t\t<span className={myClass} onClick= {() => _Click(t) }>{t}</span>\r\n\t\t\t\t\t\t</BorderWrapper>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t)}\r\n\t\t\t\t)}\r\n\t\t\t\t<span className={classes.toothType}>UR: </span>\r\n\t\t\t\t{ToothNumber.upperRight.map( (t) => {\r\n\t\t\t\t\tlet myClass = (props.toothArray.includes(t)) ? classes.selectedTooth : classes.normalTooth;\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<BorderWrapper borderColour=\"#000000\" borderWidth=\"2px\" borderRadius=\"0px\" \r\n\t\t\t\t\t\t\tborderType=\"solid\" innerPadding=\"0px\" padding=\"10px\" margin=\"10px\" >\r\n\t\t\t\t\t\t\t<span className={myClass} onClick= {() => _Click(t) }>{t}</span>\r\n\t\t\t\t\t\t</BorderWrapper>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t)}\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<div align=\"center\" className={classes.tooth}>\r\n\t\t\t\t<span className={classes.toothType}>LL: </span>\r\n\t\t\t\t{ToothNumber.lowerLeft.map( (t) => {\r\n\t\t\t\t\tlet myClass = (props.toothArray.includes(t)) ? classes.selectedTooth : classes.normalTooth;\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<BorderWrapper borderColour=\"#000000\" borderWidth=\"2px\" borderRadius=\"0px\" \r\n\t\t\t\t\t\t\tborderType=\"solid\" innerPadding=\"0px\" padding=\"10px\" margin=\"10px\" >\r\n\t\t\t\t\t\t\t<span className={myClass} onClick= {() => _Click(t) }>{t}</span>\r\n\t\t\t\t\t\t</BorderWrapper>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t)}\r\n\t\t\t\t)}\r\n\t\t\t\t<span className={classes.toothType}>LR: </span>\r\n\t\t\t\t{ToothNumber.lowerRight.map( (t) => {\r\n\t\t\t\t\tlet myClass = (props.toothArray.includes(t)) ? classes.selectedTooth : classes.normalTooth;\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<BorderWrapper borderColour=\"#000000\" borderWidth=\"2px\" borderRadius=\"0px\" \r\n\t\t\t\t\t\t\tborderType=\"solid\" innerPadding=\"0px\" padding=\"10px\" margin=\"10px\" >\r\n\t\t\t\t\t\t\t<span className={myClass} onClick= {() => _Click(t) } >{t}</span>\r\n\t\t\t\t\t\t</BorderWrapper>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t)}\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)}\r\n\t\r\n\tfunction DisplayNewBtn() {\r\n\t\tif ((treatmentArray.length > 0) && (treatmentArray[0].treatmentNumber === 0)) return null;\r\n\t\treturn (\r\n\t\t\t<div align=\"right\">\r\n\t\t\t\t<VsButton name=\"Add New Treatment\" onClick={handleCreateNewTreatment} />\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\t\r\n\tfunction handleCreateNewTreatment() {\r\n\t\t\r\n\t\tlet myArray = [].concat(treatmentArray);\r\n\t\tlet tmp = {\r\n\t\t\tpid: currentPatientData.pid,\r\n\t\t\ttreatmentNumber: 0,\r\n\t\t\ttreatmentDate: new Date(),\r\n\t\t\ttreatment: [],\r\n\t\t}\r\n\t\tmyArray = [tmp].concat(myArray);\r\n\t\tconsole.log(myArray);\r\n\t\tsetTreatmentArray(myArray);\r\n\t\t//setCurrentSelection(\"Symptom\");\r\n\t\tsetTreatmentIndex(0);\r\n\t}\r\n\r\n\tfunction handleVsTreatTypeDelete(treat) {\r\n\t\tconsole.log(treat);\r\n\t}\r\n\t\r\n\tfunction handleAddDiagnosis() {\r\n\t\tsetEmurName(\"\");\r\n\t\tsetEmurToothArray([]);\r\n\t\tsetEmurAmount(0);\r\n\t\t\r\n\t\tsetIsDrawerOpened(\"ADDTREAT\");\r\n\t\t// set filter\r\n\t\tsetFilterItem(\"TRE\");\r\n\t\tsetFilterItemText(\"\");\r\n\t\tsetFilterItemArray([]);\r\n\t\tsetRemember(false);\r\n\t}\r\n\t\r\n\t\t\r\n\tfunction handleDeleteTreatment(itemName) {\r\n\t\t//console.log(itemName);\r\n\t\t//console.log(treatmentArray);\r\n\t\tvsDialog(\"Delete Treatment\", `Are you sure you want to delete treatment ${itemName}?`,\r\n\t\t\t{label: \"Yes\", onClick: () => handleDeleteTreatmentConfirm(itemName) },\r\n\t\t\t{label: \"No\" }\r\n\t\t);\r\n\t}\r\n\t\r\n\tfunction handleDeleteTreatmentConfirm(itemName) {\r\n\r\n\t\tlet tmpArray = [].concat(treatmentArray);\r\n\t\t//console.log(tmpArray);\r\n\t\ttmpArray[0].treatment = tmpArray[0].treatment.filter(x => x.name !== itemName);\r\n\t\t//console.log(tmpArray);\r\n\t\tsetTreatmentArray(tmpArray);\r\n\t\tupdateNewTreatment(tmpArray[0].treatment);\r\n\t}\r\n\t\r\n\r\n\tfunction ArunTreatment() {\r\n\t\tif (treatmentArray.length === 0) return null;\r\n\t\tlet x = treatmentArray[treatmentIndex];\r\n\t\t//console.log(x.treatment);\r\n\t\treturn (\r\n\t\t\t<div> \r\n\t\t\t{(x.treatmentNumber === 0) && \r\n\t\t\t\t<VsButton name=\"New treatment type\" align=\"left\" onClick={handleAddDiagnosis} />\r\n\t\t\t}\t\r\n\t\t\t<Box borderColor=\"primary.main\" border={1}>\r\n\t\t\t{x.treatment.map( (un, index) => {\r\n\t\t\t\t//console.log(un);\r\n\t\t\t\tlet arr = _.sortBy(un.toothArray);\r\n\t\t\t\t//console.log(arr);\r\n\t\t\t\tlet ttt = \"\";\r\n\t\t\t\tlet tmp = arr.filter( t => t >= ToothRange.upperLeft.start &&\r\n\t\t\t\t\tt <= ToothRange.upperLeft.end)\r\n\t\t\t\tif (tmp.length > 0)\r\n\t\t\t\t\tttt += ((ttt.length > 0) ? \" \" : \"\") + \"UL: \" + tmp.toString();\r\n\t\t\t\t\r\n\t\t\t\ttmp = arr.filter( t => t >= ToothRange.upperRight.start &&\r\n\t\t\t\t\tt <= ToothRange.upperRight.end)\r\n\t\t\t\tif (tmp.length > 0)\r\n\t\t\t\t\tttt += ((ttt.length > 0) ? \" \" : \"\") + \"UR: \" + tmp.toString();\r\n\t\t\t\t\r\n\t\t\t\ttmp = arr.filter( t => t >= ToothRange.lowerLeft.start &&\r\n\t\t\t\t\tt <= ToothRange.lowerLeft.end)\r\n\t\t\t\tif (tmp.length > 0)\r\n\t\t\t\t\tttt += ((ttt.length > 0) ? \" \" : \"\") + \"LL: \" + tmp.toString();\r\n\t\t\t\t\r\n\t\t\t\ttmp = arr.filter( t => t >= ToothRange.lowerRight.start &&\r\n\t\t\t\t\tt <= ToothRange.lowerRight.end)\r\n\t\t\t\tif (tmp.length > 0)\r\n\t\t\t\t\tttt += ((ttt.length > 0) ? \" \" : \"\") + \"LR: \" + tmp.toString();\r\n\t\t\t\t\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Grid className={classes.noPadding} key={\"NOTES\"+index} container >\r\n\t\t\t\t\t<Grid item align=\"left\" xs={10} sm={3} md={3} lg={3} >\r\n\t\t\t\t\t\t<Typography className={classes.heading}>{\"Treatment: \"+un.name}</Typography>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item align=\"left\" xs={10} sm={3} md={7} lg={7} >\r\n\t\t\t\t\t\t{/*\\<DisplayTeeth toothArray={un.toothArray} />*/}\r\n\t\t\t\t\t\t<Typography className={classes.heading}>{ttt}</Typography>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item align=\"right\" xs={10} sm={1} md={1} lg={1} >\r\n\t\t\t\t\t\t<Typography className={classes.heading}>{INR+un.amount}</Typography>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={1} sm={1} md={1} lg={1} >\r\n\t\t\t\t\t\t{(x.treatmentNumber === 0) &&\r\n\t\t\t\t\t\t\t<IconButton color=\"secondary\" size=\"small\" onClick={() => { handleDeleteTreatment(un.name)}} >\r\n\t\t\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t)}\r\n\t\t\t)}\r\n\t\t\t</Box>\r\n\t\t\t{/*<Box borderColor=\"primary.main\" border={1}>*/}\r\n\t\t\t<Grid className={classes.noPadding} key={\"PC\"} container >\r\n\t\t\t<Grid item align=\"right\" xs={10} sm={10} md={10} lg={10} >\r\n\t\t\t<Typography className={classes.total}>{\"Total Professional Charges\"}</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item align=\"right\" xs={1} sm={1} md={1} lg={1} >\r\n\t\t\t<Typography className={classes.heading}>{INR+\" \"+_.sumBy(x.treatment, 'amount')}</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item align=\"right\" xs={1} sm={1} md={1} lg={1} />\r\n\t\t\t</Grid>\r\n\t\t\t{/*</Box>*/}\r\n\t\t\t</div>\r\n\t\t)}\r\n\t\t\r\n\r\n\tasync function updateTreatTypeToDatabase(myName) {\r\n\t\tif (!remember) return;\t\r\n\t\t//console.log(myName);\r\n\t\t//console.log(treatTypeArray);\r\n\t\t\r\n\t\tlet tmp = treatTypeArray.find(x => x.name.toLowerCase() === myName.toLowerCase())\r\n\t\tif (!tmp) {\r\n\t\t\tlet myEncodedName = encodeURIComponent(myName);\r\n\t\t\ttry {\r\n\t\t\t\taxios.post(`${process.env.REACT_APP_AXIOS_BASEPATH}/treattype/add/${userCid}/${myEncodedName}`)\r\n\t\t\t\tlet tmpArray = [{name: myName}].concat(treatTypeArray);\r\n\t\t\t\tsetTreatTypeArray(_.sortBy(tmpArray, 'name'));\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t}\t\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction updateNewTreatment(sArray) {\r\n\t\tlet tmp = JSON.stringify({treatment: sArray});\r\n\t\tlet tmp1 = encodeURIComponent(tmp);\r\n\t\taxios.post(`${process.env.REACT_APP_AXIOS_BASEPATH}/dentaltreatment/update/${userCid}/${currentPatientData.pid}/${tmp1}`)\r\n\t}\t\r\n\r\n\t\r\n\tfunction updateTreatment() {\r\n\t\tupdateTreatTypeToDatabase(emurName);\r\n\t\t\r\n\t\tlet tmp = [].concat(treatmentArray);\r\n\t\tlet index = emurNumber;\r\n\t\tif (isDrawerOpened === \"ADDTREAT\") {\r\n\t\t\tif (tmp[0].treatment.find(x => x.name.toLowerCase() === emurName.toLowerCase())) {\r\n\t\t\t\tsetModalRegister(2001);\r\n\t\t\t\treturn;\r\n\t\t\t} \r\n\t\t\ttmp[0].treatment.push({name: emurName, toothArray: emurToothArray, amount: emurAmount});\r\n\t\t\tindex = tmp[0].treatment.length - 1;\r\n\t\t} else {\r\n\t\t\tif (tmp[0].treatment[index].name.toLowerCase() !== emurName.toLowerCase()) {\r\n\t\t\t\tif (tmp[0].treatment.find(x => x.name.toLowerCase() === emurName.toLowerCase())) {\r\n\t\t\t\t\tsetModalRegister(2001);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t} \r\n\t\t\t}\r\n\t\t}\r\n\t\tsetIsDrawerOpened(\"\");\r\n\t\t\r\n\t\ttmp[0].treatment[index].name = emurName;\r\n\t\t//console.log(tmp[0].treatment);\r\n\t\tupdateNewTreatment(tmp[0].treatment)\r\n\t\tsetTreatmentArray(tmp);\r\n\t}\r\n\t\r\n\r\n\tfunction handleVsSelect(item) {\r\n\t\tsetFilterItemArray([]); \r\n\t\tsetEmurName(item.name);\r\n\t}\r\n\t\r\n\t\r\n\tfunction setEmurNameWithFilter(txt) {\r\n\t\t//console.log(\"Iin filter\", txt);\r\n\t\tsetEmurName(txt);\r\n\t\tsetFilterItemText(txt);\r\n\t\tlet tmpArray = [];\r\n\t\tif (txt !== \"\") {\r\n\t\t\tif (filterItem.substr(0,3) === \"TRE\")\r\n\t\t\t\ttmpArray = treatTypeArray.filter(x => x.name.toLowerCase().includes(txt.toLowerCase()))\r\n\t\t} \r\n\t\t//console.log(treatTypeArray);\r\n\t\t//console.log(tmpArray);\r\n\t\tsetFilterItemArray(tmpArray);\r\n\t}\r\n\t\r\n\tfunction handleToothUpdate(num) {\r\n\t\tlet newTootlArray;\r\n\t\tif (emurToothArray.includes(num)) {\r\n\t\t\tnewTootlArray = emurToothArray.filter(x => x !== num);\r\n\t\t} else {\r\n\t\t\tnewTootlArray = [].concat(emurToothArray);\r\n\t\t\tnewTootlArray.push(num);\r\n\t\t}\r\n\t\t//console.log(newTootlArray);\r\n\t\tsetEmurToothArray(newTootlArray);\r\n\t}\r\n\t\r\n\treturn (\r\n\t<div>\r\n\t{(sessionStorage.getItem(\"userType\") === \"Assistant\") &&\r\n\t\t<Typography className={gClasses.indexSelection} >\r\n\t\t\t{\"Only Doctors are permitted to Add / View / Edit patient treatment\"}\r\n\t\t</Typography>\r\n\t}\r\n\t{(sessionStorage.getItem(\"userType\") !== \"Assistant\") &&\r\n\t\t<div className={gClasses.webPage} align=\"center\" key=\"main\">\r\n\t\t<CssBaseline />\r\n\t\t<DisplayTreatmentDates />\r\n\t\t<DisplayFunctionHeader />\r\n\t\t<Box className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t\t\t<DisplayNewBtn />\r\n\t\t\t{(currentSelection === \"Treatment\") &&\r\n\t\t\t\t<ArunTreatment />\r\n\t\t\t}\r\n\t\t</Box>\r\n\t\t<Drawer className={classes.drawer}\r\n\t\tanchor=\"right\"\r\n\t\tvariant=\"temporary\"\r\n\t\topen={isDrawerOpened !== \"\"}\r\n\t\t>\r\n\t\t<Box className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t\t<VsCancel align=\"right\" onClick={() => {setIsDrawerOpened(\"\")}} />\r\n\t\t{((isDrawerOpened === \"ADDTREAT\") || (isDrawerOpened === \"EDITTREAT\")) &&\r\n\t\t\t<ValidatorForm align=\"center\" className={gClasses.form} onSubmit={updateTreatment}>\r\n\t\t\t\t<Typography align=\"center\" className={classes.modalHeader}>\r\n\t\t\t\t\t{((isDrawerOpened === \"ADDTREAT\") ? \"New Treatment\" : \"Edit Treatment\")+` for ${currentPatient}`}\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<BlankArea />\r\n\t\t\t\t{/*<TextValidator required fullWidth color=\"primary\"\r\n\t\t\t\t\tid=\"newName\" label=\"Treatment type\" name=\"newName\"\r\n\t\t\t\t\tonChange={(event) => setEmurNameWithFilter(event.target.value)}\r\n\t\t\t\t\tvalue={emurName}\r\n\t\t\t\t/>*/}\r\n\t\t\t\t<VsTextFilter type=\"text\" label=\"Treatment type\" value={emurName}\r\n\t\t\t\t\tonChange={(event) => setEmurNameWithFilter(event.target.value)}\r\n\t\t\t\t\tonClear={(event) => setEmurNameWithFilter(\"\")}\r\n\t\t\t\t/>\r\n\t\t\t\t<VsCheckBox align='left' label=\"Remember\" checked={remember} onClick={() => setRemember(!remember)} />\r\n\t\t\t\t<VsList listArray={filterItemArray} onSelect={handleVsSelect} onDelete={handleVsTreatTypeDelete} />\r\n\t\t\t\t<BlankArea />\r\n\t\t\t\t<VsTeeth toothArray={emurToothArray} onClick={handleToothUpdate} />\r\n\t\t\t\t<TextValidator required fullWidth color=\"primary\" type=\"number\" className={gClasses.vgSpacing} \r\n\t\t\t\t\tid=\"newName\" label=\"Professional Charge\" name=\"newName\"\r\n\t\t\t\t\tonChange={(event) => setEmurAmount(Number(event.target.value))}\r\n\t\t\t\t\tvalue={emurAmount}\r\n\t\t\t\t\tvalidators={['minNumber:100']}\r\n\t\t\t\t\terrorMessages={['Invalid Amount']}\r\n\t\t\t\t/>\r\n\t\t\t\t<ModalResisterStatus />\r\n\t\t\t\t<BlankArea />\r\n\t\t\t\t<VsButton type =\"submit\" name= {(isDrawerOpened === \"ADDTREAT\") ? \"Add\" : \"Update\"} />\r\n\t\t\t</ValidatorForm>\r\n\t\t}\r\n\t\t</Box>\r\n\t\t</Drawer>\r\n\t\t</div>\r\n\t}\r\n\t</div>\r\n );    \r\n}\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { InputAdornment, makeStyles, Container, CssBaseline } from '@material-ui/core';\r\nimport axios from \"axios\";\r\nimport SwitchBtn from '@material-ui/core/Switch';\r\nimport { usePromiseTracker, trackPromise } from \"react-promise-tracker\";\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport ReactTooltip from \"react-tooltip\";\r\n\r\nimport VsButton from \"CustomComponents/VsButton\";\r\nimport VsCancel from \"CustomComponents/VsCancel\";\r\nimport VsList from \"CustomComponents/VsList\";\r\nimport VsTeeth from \"CustomComponents/VsTeeth\";\r\nimport VsTextFilter from \"CustomComponents/VsTextFilter\";\r\nimport VsCheckBox from \"CustomComponents/VsCheckBox\";\r\n\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport Radio from '@material-ui/core/Radio';\r\n\r\n\r\nimport { useLoading, Audio } from '@agney/react-loading';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport { useAlert } from 'react-alert'\r\nimport fileDownload  from 'js-file-download';\r\nimport fs from 'fs';\r\nimport _ from 'lodash';\r\nimport BorderWrapper from 'react-border-wrapper'\r\n\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport Box from '@material-ui/core/Box';\r\nimport Modal from 'react-modal';\r\nimport { borders } from '@material-ui/system';\r\nimport {dynamicModal } from \"assets/dynamicModal\";\r\nimport cloneDeep from 'lodash/cloneDeep';\r\nimport StepProgressBar from 'react-step-progress';\r\n// import the stylesheet\r\nimport 'react-step-progress/dist/index.css';\r\n\r\n// styles\r\nimport globalStyles from \"assets/globalStyles\";\r\nimport modalStyles from \"assets/modalStyles\";\r\n\r\n\r\nimport {ValidComp, BlankArea, } from \"CustomComponents/CustomComponents.js\"\r\n\r\nimport {\r\nHOURSTR, MINUTESTR, DATESTR, MONTHNUMBERSTR, MONTHSTR, INR\r\n} from \"views/globals.js\";\r\n\r\n// icons\r\nimport IconButton from \t\t'@material-ui/core/IconButton';\r\nimport EditIcon from \t\t\t'@material-ui/icons/Edit';\r\nimport CloseIcon from \t\t'@material-ui/icons/Close';\r\nimport DeleteIcon from \t\t'@material-ui/icons/Cancel';\r\nimport InfoIcon from \t\t\t'@material-ui/icons/Info';\r\n\r\n\r\n//colours \r\nimport { red, blue, green, lightGreen, \r\n} from '@material-ui/core/colors';\r\n\r\n\r\nimport { \r\n\tvalidateInteger,\r\n\tdispAge, dispEmail, dispMobile,\r\n\tvsDialog,\r\n\tordinalSuffix,\r\n} from \"views/functions.js\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tselectedTooth: {\r\n\t\tbackgroundColor: green[900],\r\n\t\tcolor: 'white',\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tmargin: \"3px\",\r\n\t},\r\n\tnormalTooth: {\r\n\t\t//backgroundColor: 'lightGreen',\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tmargin: \"3px\",\r\n\t},\r\n\ttoothNumber: {\r\n\t\tborderColour: 'black',\r\n\t\tborderWidth: \"1px\",\r\n\t\tborderRadius: \"0px\",\r\n\t\tborderType: \"solid\",\r\n\t\tinnerPadding: \"0px\",\r\n\t\t//padding: \"10px\",\r\n\t\t//margin: \"10px\",\r\n\t},\r\n\ttooth: {\r\n\t\t//backgroundColor: 'lightGreen',\r\n\t\tfontSize: theme.typography.pxToRem(12),\r\n\t\t//fontWeight: theme.typography.fontWeightBold,\r\n\t},\r\n\ttoothType: {\r\n\t\tcolor: 'blue',\r\n\t\tfontSize: theme.typography.pxToRem(18),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tmargin: \"5px\",\r\n\t},\r\n\tpatientName: {\r\n\t\tfontSize: theme.typography.pxToRem(16),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\t\r\n\t\tcolor: 'blue',\r\n\t},\r\n\tpatientInfo: {\r\n\t\tfontSize: theme.typography.pxToRem(14),\r\n\t},\r\n\tmurItem: {\r\n\t\tfontSize: theme.typography.pxToRem(15),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tpaddingRight: '10px',\r\n\t},\r\n\ttotal: {\r\n\t\tfontSize: theme.typography.pxToRem(18),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tpaddingRight: '30px',\r\n\t\tcolor: 'green',\r\n\t},\r\n    root: {\r\n      width: '100%',\r\n    }, \r\n    info: {\r\n        color: blue[700],\r\n    },     \r\n    header: {\r\n\t\t\tcolor: '#D84315',\r\n    }, \r\n    error:  {\r\n      // right: 0,\r\n      fontSize: '12px',\r\n      color: red[700],\r\n      // position: 'absolute',\r\n      alignItems: 'center',\r\n      marginTop: '0px',\r\n\t\t},\r\n\t\teditdelete: {\r\n\t\t\tmarginLeft:  '50px',\r\n\t\t\tmarginRight: '50px',\r\n\t\t},\r\n\t\tNoMedicines: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: blue[700]\r\n\t\t},  \r\n\t\tradio: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: \"blue\",\r\n\t\t},\r\n\t\tmedicine: {\r\n\t\t\tfontSize: theme.typography.pxToRem(15),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: blue[700]\r\n\t\t},  \r\n\t\tmodalHeader: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: blue[700]\r\n\t\t},\r\n\t\tmessageText: {\r\n\t\t\tcolor: '#4CC417',\r\n\t\t\tfontSize: 12,\r\n\t\t\t// backgroundColor: green[700],\r\n    },\r\n    symbolText: {\r\n        color: '#4CC417',\r\n        // backgroundColor: green[700],\r\n    },\r\n    button: {\r\n\t\t\tmargin: theme.spacing(0, 1, 0),\r\n    },\r\n\t\ttitle: {\r\n\t\t\tfontSize: theme.typography.pxToRem(15),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: blue[700],\r\n\t\t},\r\n    heading: {\r\n\t\t\tfontSize: theme.typography.pxToRem(15),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t},\r\n\t\tselectedAccordian: {\r\n\t\t\t//backgroundColor: '#B2EBF2',\r\n\t\t},\r\n\t\tnormalAccordian: {\r\n\t\t\tbackgroundColor: '#FFE0B2',\r\n\t\t},\r\n    secondaryHeading: {\r\n      fontSize: theme.typography.pxToRem(15),\r\n      color: theme.palette.text.secondary,\r\n    },\r\n\t\tnoPadding: {\r\n\t\t\tpadding: '1px', \r\n\t\t}\r\n  }));\r\n\r\nconst paymentModeArray = [\"Cash\", \"Cheque\", \"On-line\", \"Others\"];\r\nvar userCid;\r\nexport default function ProfCharge(props) {\r\n  \r\n  const classes = useStyles();\r\n\tconst gClasses = globalStyles();\r\n\tconst alert = useAlert();\r\n\t\r\n\tconst [profChargeArray, setProfChargeArray] = useState([]);\r\n\tconst [balance, setBalance] = useState({billing: 0, payment: 0, due: 0})\r\n\t\r\n\tconst [remember, setRemember] = useState(false);\r\n\tconst [paymentMode, setPaymentMode] = useState(\"Cash\");\r\n\tconst [currentPatient, setCurrentPatient] = useState(\"\");\r\n\tconst [currentPatientData, setCurrentPatientData] = useState({});\r\n\tconst [isDrawerOpened, setIsDrawerOpened] = useState(\"\");\r\n\tconst [isInfoDrawerOpened, setIsInfoDrawerOpened] = useState(\"\");\r\n\t\r\n\tconst [emurTid, setEmurTid] = useState(0);\r\n\tconst [emurAmount, setEmurAmount] = useState(100);\r\n\tconst [emurDesc, setEmurDesc] = useState(\"\");\r\n\tconst [modalRegister, setModalRegister] = useState(0);\r\n\t\r\n\tconst [treatmentDetails, setTreatmentDetails] = useState([]);\r\n\t\r\n  useEffect(() => {\t\r\n\t\tuserCid = sessionStorage.getItem(\"cid\");\r\n\t\tconst checkPatient = async () => {\t\r\n\t\t\tlet patRec = props.patient;\r\n\t\t\t//console.log(patRec);\r\n\t\t\tsetCurrentPatientData(patRec);\r\n\t\t\tsetCurrentPatient(patRec.displayName);\r\n\t\t\tgetProfCharge(patRec);\r\n\t\t\tgetBalance(patRec);\r\n\t\t}\r\n\t\tcheckPatient();\r\n\t\t\r\n  }, []);\r\n\r\n\tfunction ModalResisterStatus() {\r\n    // console.log(`Status is ${modalRegister}`);\r\n\t\tlet regerr = true;\r\n    let myMsg;\r\n    switch (modalRegister) {\r\n      case 0:\r\n        myMsg = \"\";\r\n\t\t\t\tregerr = false;\r\n        break;\r\n      case 2001:\r\n        myMsg = 'Duplicate Treatment type';\r\n        break;\r\n      default:\r\n          myMsg = \"Unknown Error\";\r\n          break;\r\n    }\r\n    return(\r\n      <div>\r\n        <Typography className={(regerr) ? gClasses.error : gClasses.nonerror}>{myMsg}</Typography>\r\n      </div>\r\n    )\r\n  }\r\n\t\r\n\tasync function getProfCharge(patRec) {\r\n\t\tlet myArray = [];\r\n\t\ttry {\r\n\t\t\tlet resp = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/profcharge/list/${userCid}/${patRec.pid}`)\r\n\t\t\tmyArray = resp.data;\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e)\r\n\t\t}\r\n\t\tsetProfChargeArray(myArray);\r\n\t}\r\n\r\n\tasync function getBalance(patRec) {\r\n\t\ttry {\r\n\t\t\tlet resp = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/profcharge/balance/${userCid}/${patRec.pid}`)\r\n\t\t\tsetBalance(resp.data);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e)\r\n\t\t}\r\n\t}\r\n\r\n\tfunction DisplayBalance() {\r\n\treturn (\r\n\t\t<Box className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1}>\r\n\t\t<Grid container className={gClasses.noPadding} key=\"BALANCE\" >\r\n\t\t\t<Grid key={\"BAL1\"} align=\"center\" item xs={4} sm={4} md={4} lg={4} >\r\n\t\t\t\t<Typography className={gClasses.indexSelection} >\r\n\t\t\t\t\t{\"Billing: \"+INR+balance.billing}\r\n\t\t\t\t</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid key={\"BAL2\"} align=\"center\" item xs={4} sm={4} md={4} lg={4} >\r\n\t\t\t\t<Typography className={gClasses.indexSelection} >\r\n\t\t\t\t\t{\"Payment: \"+INR+balance.payment}\r\n\t\t\t\t</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid key={\"BAL3\"} align=\"center\" item xs={4} sm={4} md={4} lg={4} >\r\n\t\t\t\t<Typography className={gClasses.indexSelection} >\r\n\t\t\t\t\t{\"Due: \"+INR+Math.abs(balance.due)+((balance.due < 0) ? \" (Cr)\" : \"\")}\r\n\t\t\t\t</Typography>\r\n\t\t\t</Grid>\r\n\t\t</Grid>\t\r\n\t\t</Box>\r\n\t);\r\n\t}\r\n\r\n\r\n\tfunction addNewPayment() {\r\n\t\tsetPaymentMode(paymentModeArray[0]);\r\n\t\tsetEmurTid(0);\r\n\t\tsetEmurAmount(100);\r\n\t\tsetEmurDesc(\"\");\r\n\t\tsetIsDrawerOpened(\"ADDPAY\");\r\n\t}\r\n\t\r\n\tfunction handleEditPayment(pRec) {\r\n\t\tsetEmurTid(pRec.tid);\r\n\t\tsetPaymentMode(pRec.paymentMode);\r\n\t\tsetEmurAmount(pRec.amount);\r\n\t\tsetEmurDesc(pRec.description);\r\n\t\tsetIsDrawerOpened(\"EDITPAY\");\r\n\t}\r\n\t\r\n\tfunction DisplayNewBtn() {\r\n\treturn (\r\n\t\t<div align=\"right\">\r\n\t\t\t<VsButton name=\"Add New Payment\" onClick={addNewPayment} />\r\n\t\t</div>\r\n\t)}\r\n\r\n\tfunction handleDeletePayment(t) {\r\n\t\tvsDialog(\"Delete Payment\", `Are you sure you want to delete payment of amount ${Math.abs(t.amount)}?`,\r\n\t\t\t{label: \"Yes\", onClick: () => handleDeleteTreatmentConfirm(t) },\r\n\t\t\t{label: \"No\" }\r\n\t\t);\r\n\t}\r\n\t\r\n\t\r\n\tasync function handleDeleteTreatmentConfirm(t) {\r\n\t\tawait axios.post(`${process.env.REACT_APP_AXIOS_BASEPATH}/profcharge/delete/${userCid}/${currentPatientData.pid}/${t.tid}`)\r\n\t\tsetProfChargeArray(profChargeArray.filter(x => x.tid !== t.tid));\r\n\t\tgetBalance(currentPatientData);\r\n\t\talert.success(`Delete payment of amount ${t.amount}`);\r\n\t}\r\n\t\r\n\tfunction handleInfoPayment(t) {\r\n\t\tsetTreatmentDetails(t.treatmentDetails)\r\n\t\tsetIsInfoDrawerOpened(\"INFO\");\r\n\t}\r\n\t\r\n\tfunction DisplayAllToolTips() {\r\n\tlet myArray = profChargeArray.filter(x => x.treatment !== \"\");\r\n\treturn(\r\n\t\t<div>\r\n\t\t{myArray.map( t =>\r\n\t\t <ReactTooltip type=\"info\" effect=\"float\" id={\"TREAT\"+t.tid} multiline={true}/>\r\n\t\t)}\r\n\t\t</div>\r\n\t)}\r\n\t\r\n\t\r\n\tfunction ArunProfCharge() {\r\n\treturn (\r\n\t<Box borderColor=\"primary.main\" border={1}>\r\n\t{profChargeArray.map( (p, index) => {\r\n\t\tlet d = new Date(p.date);\r\n\t\tlet myDate = `${DATESTR[d.getDate()]}/${MONTHNUMBERSTR[d.getMonth()]}/${d.getFullYear()}`;\r\n\t\t//myDate += ` ${HOURSTR[d.getHours()]}:${MINUTESTR[d.getMinutes()]}`;\r\n\t\tlet isBilling = (p.treatment !== \"\");\r\n\t\tlet myInfo = \"\";\r\n\t\tfor(let i=0; i<p.treatmentDetails.length; ++i) {\r\n\t\t\tmyInfo += p.treatmentDetails[i].name + \": \"+p.treatmentDetails[i].amount + \"<br />\";\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<Grid className={classes.noPadding} key={\"PAY\"+index} container alignItems=\"center\" align=\"center\">\r\n\t\t\t<Grid item align=\"left\" xs={2} sm={2} md={2} lg={2} >\r\n\t\t\t\t<Typography className={classes.heading}>{myDate}</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item align=\"left\" xs={7} sm={7} md={7} lg={7} >\r\n\t\t\t\t<Typography >\r\n\t\t\t\t<span className={classes.heading}>{p.description}</span>\r\n\t\t\t\t{(isBilling) &&\r\n\t\t\t\t\t<span align=\"left\"\r\n\t\t\t\t\t\tdata-for={\"TREAT\"+p.tid}\r\n\t\t\t\t\t\tdata-tip={myInfo}\r\n\t\t\t\t\t\tdata-iscapture=\"true\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t<InfoIcon color=\"primary\" size=\"small\"/>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t}\r\n\t\t\t\t</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item align=\"left\" xs={1} sm={1} md={1} lg={1} >\r\n\t\t\t\t<Typography className={classes.heading}>{p.paymentMode}</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item align=\"right\" xs={1} sm={1} md={1} lg={1} >\r\n\t\t\t\t<Typography className={classes.heading}>{INR+Math.abs(p.amount)+((p.amount > 0) ? \"CR\" : \"\")}</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={1} sm={1} md={1} lg={1} >\r\n\t\t\t\t{(!isBilling) &&\r\n\t\t\t\t\t<IconButton >\r\n\t\t\t\t\t<EditIcon color=\"primary\" size=\"small\" onClick={() => { handleEditPayment(p)}}  />\r\n\t\t\t\t\t<DeleteIcon color=\"secondary\" size=\"small\" onClick={() => { handleDeletePayment(p)}} />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t}\r\n\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t)}\r\n\t)}\r\n\t</Box>\r\n\t)}\r\n\r\n\tasync function updatePayment() {\r\n\t\tlet tmp = encodeURIComponent(JSON.stringify({\r\n\t\t\tdate: new Date(),\r\n\t\t\tamount: emurAmount,\r\n\t\t\tdescription: emurDesc,\r\n\t\t\tpaymentMode: paymentMode\r\n\t\t}));\r\n\t\tif (isDrawerOpened === \"ADDPAY\") {\r\n\t\t\ttry {\r\n\t\t\t\tlet resp = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/profcharge/add/${userCid}/${currentPatientData.pid}/${tmp}`)\r\n\t\t\t\tsetIsDrawerOpened(\"\");\r\n\t\t\t\tlet tmpArray = [resp.data].concat(profChargeArray);\r\n\t\t\t\tsetProfChargeArray(tmpArray);\r\n\t\t\t\tawait getBalance(currentPatientData);\r\n\t\t\t\talert.success(`Successfully added payment of amount ${emurAmount}.`);\r\n\t\t\t} catch(e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t\talert.error(\"Error adding new payment\");\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\ttry {\r\n\t\t\t\tlet resp = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/profcharge/update/${userCid}/${currentPatientData.pid}/${emurTid}/${tmp}`)\r\n\t\t\t\tsetIsDrawerOpened(\"\");\r\n\t\t\t\tlet tmpArray = profChargeArray.filter(x => x.tid !== emurTid);\r\n\t\t\t\ttmpArray.push(resp.data);\r\n\t\t\t\t//console.log(tmpArray);\r\n\t\t\t\ttmpArray = _.sortBy(tmpArray, 'tid');\r\n\t\t\t\tsetProfChargeArray(tmpArray.reverse());\r\n\t\t\t\tgetBalance(currentPatientData);\r\n\t\t\t\talert.success(`Successfully update payment of new amount ${emurAmount}.`);\r\n\t\t\t} catch(e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t\talert.error(\"Error updating edit payment\");\r\n\t\t\t}\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t<div className={gClasses.webPage} align=\"center\" key=\"main\">\r\n\t<CssBaseline />\r\n\t\t<DisplayBalance />\r\n\t\t<Box className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t\t\t<DisplayNewBtn />\r\n\t\t\t<ArunProfCharge />\r\n\t\t</Box>\r\n\t\t<Drawer className={classes.drawer}\r\n\t\tanchor=\"right\"\r\n\t\tvariant=\"temporary\"\r\n\t\topen={isDrawerOpened !== \"\"}\r\n\t\t>\r\n\t\t<Box className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t\t<VsCancel align=\"right\" onClick={() => {setIsDrawerOpened(\"\")}} />\r\n\t\t{((isDrawerOpened === \"ADDPAY\") || (isDrawerOpened === \"EDITPAY\")) &&\r\n\t\t\t<ValidatorForm align=\"center\" className={gClasses.form} onSubmit={updatePayment}>\r\n\t\t\t\t<Typography align=\"center\" className={classes.modalHeader}>\r\n\t\t\t\t\t{((isDrawerOpened === \"ADDPAY\") ? \"New payment\" : \"Edit payment\")+` for ${currentPatient}`}\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<BlankArea />\r\n\t\t\t\t<TextValidator required fullWidth color=\"primary\" type=\"number\" className={gClasses.vgSpacing} \r\n\t\t\t\t\tid=\"newName\" label=\"Payment Amount\" name=\"newName\"\r\n\t\t\t\t\tonChange={(event) => setEmurAmount(Number(event.target.value))}\r\n\t\t\t\t\tvalue={emurAmount}\r\n\t\t\t\t\tvalidators={['minNumber:100']}\r\n\t\t\t\t\terrorMessages={['Invalid Amount']}\r\n\t\t\t\t/>\r\n\t\t\t\t<Typography>Payment Mode</Typography>\r\n\t\t\t\t<FormControl component=\"fieldset\">\r\n\t\t\t\t<RadioGroup row aria-label=\"unitSelect\" name=\"unitSelect\" value={paymentMode} \r\n\t\t\t\t\tonChange={() => {setPaymentMode(event.target.value); }}\r\n\t\t\t\t>\r\n\t\t\t\t{paymentModeArray.map ( r =>\r\n\t\t\t\t<FormControlLabel className={gClasses.filterRadio} value={r} control={<Radio color=\"primary\"/>} label={r} />\r\n\t\t\t\t)}\r\n\t\t\t\t</RadioGroup>\r\n\t\t\t\t</FormControl>\r\n\t\t\t\t<TextValidator required fullWidth color=\"primary\" className={gClasses.vgSpacing} \r\n\t\t\t\t\tlabel=\"Description\"\r\n\t\t\t\t\tonChange={(event) => setEmurDesc(event.target.value)}\r\n\t\t\t\t\tvalue={emurDesc}\r\n\t\t\t\t/>\r\n\t\t\t\t<ModalResisterStatus />\r\n\t\t\t\t<BlankArea />\r\n\t\t\t\t<VsButton type =\"submit\" name= {(isDrawerOpened === \"ADDPAY\") ? \"Add\" : \"Update\"} />\r\n\t\t\t</ValidatorForm>\r\n\t\t}\r\n\t\t</Box>\r\n\t\t</Drawer>\r\n\t\t<DisplayAllToolTips />\r\n\t</div>\r\n  );    \r\n}\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { InputAdornment, makeStyles, Container, CssBaseline } from '@material-ui/core';\r\n\r\nimport axios from \"axios\";\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport SwitchBtn from '@material-ui/core/Switch';\r\nimport Modal from 'react-modal';\r\nimport Box from '@material-ui/core/Box';\r\n\r\nimport VsButton from \"CustomComponents/VsButton\";\r\nimport VsCancel from \"CustomComponents/VsCancel\";\r\nimport VsTextSearch from \"CustomComponents/VsTextSearch\";\r\n\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport Switch from \"@material-ui/core/Switch\";\r\n//import  from '@material-ui/core/Container';\r\n//import  from '@material-ui/core/CssBaseline';\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Link from '@material-ui/core/Link';\r\nimport Button from '@material-ui/core/Button';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\r\n// import FormControlLabel from '@material-ui/core/FormControlLabel';\r\n// import Radio from '@material-ui/core/Radio';\r\nimport Card from \"components/Card/Card.js\";\r\nimport CardBody from \"components/Card/CardBody.js\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Avatar from \"@material-ui/core/Avatar\"\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useAlert } from 'react-alert';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Datetime from \"react-datetime\";\r\nimport \"react-datetime/css/react-datetime.css\";\r\nimport moment from \"moment\";\r\n// icons\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport VisibilityIcon from '@material-ui/icons/Visibility';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\n//import SearchIcon from '@material-ui/icons/Search';\r\n//import LocalHospitalIcon from '@material-ui/icons/LocalHospital';\r\n//import EventNoteIcon from '@material-ui/icons/EventNote';\r\n//import NoteAddIcon from '@material-ui/icons/NoteAdd';\r\n\r\n\r\n\r\nimport Report from 'views/Report/Report';\r\nimport Visit  from 'views/Visit/Visit';\r\nimport Investigation from 'views/Investigation/Investigation';\r\nimport DentalTreatment from  'views/Treatment/DentalTreatment';\r\nimport ProfCharge from 'views/ProfCharge/ProfCharge';\r\nimport {\r\nWEEKSTR, MONTHSTR, SHORTMONTHSTR, DATESTR, MONTHNUMBERSTR,\r\n} from 'views/globals';\r\n\r\n// import { UserContext } from \"../../UserContext\";\r\nimport { isMobile, encrypt,\r\n\tdispOnlyAge, dispAge, dispEmail, dispMobile, checkIfBirthday,\r\n\tvalidateInteger,\r\n\tgetAllPatients,\r\n\tvsDialog,\r\n\tdisableFutureDt,\r\n } from \"views/functions.js\"\r\nimport {DisplayPageHeader, BlankArea, DisplayPatientBox,\r\n} from \"CustomComponents/CustomComponents.js\"\r\n\r\n// styles\r\nimport globalStyles from \"assets/globalStyles\";\r\nimport {dynamicModal } from \"assets/dynamicModal\";\r\n\r\n// icons\r\n//import DeleteIcon from '@material-ui/icons/Delete';\r\n//import CloseIcon from '@material-ui/icons/Close';\r\n//import CancelIcon from '@material-ui/icons/Cancel';\r\n//import ClearSharpIcon from '@material-ui/icons/ClearSharp';\r\n\r\nimport {red, blue, yellow, orange, green, pink } from '@material-ui/core/colors';\r\nimport { LeakRemoveTwoTone, LensTwoTone } from '@material-ui/icons';\r\nimport {setTab} from \"CustomComponents/CricDreamTabs.js\"\r\n\r\nconst drawerWidth=800;\r\nconst AVATARHEIGHT=4;\r\nconst useStyles = makeStyles((theme) => ({\r\n\tdateTime: {\r\n\t\tcolor: 'blue',\r\n\t\tfontSize: theme.typography.pxToRem(28),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tbackgroundColor: pink[100],\r\n\t\talign: 'center',\r\n\t\twidth: (isMobile()) ? '60%' : '20%',\r\n\t}, \r\n\tdateTimeNormal: {\r\n\t\tcolor: 'blue',\r\n\t\tfontSize: theme.typography.pxToRem(14),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t//backgroundColor: pink[100],\r\n\t\talign: 'center',\r\n\t\t//width: (isMobile()) ? '60%' : '20%',\r\n\t}, \r\n\tdateTimeBlock: {\r\n\t\tcolor: 'blue',\r\n\t\t//fontSize: theme.typography.pxToRem(28),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t//backgroundColor: pink[100],\r\n\t\twidth: '40%'\r\n\t},\r\n\tdrawer: {\r\n\t\twidth: '40%',\r\n\t\tflexShrink: 0\r\n\t\t//backgroundColor: \"rgba(0,0,0,0.6)\" Don't target here\r\n\t},\r\n\tboxStyle: {padding: \"5px 10px\", margin: \"4px 2px\", backgroundColor: blue[300] },\r\n\tradio: {\r\n\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tcolor: \"blue\",\r\n\t},\r\n    root: {\r\n      width: '100%',\r\n    }, \r\n\t\tlink: {\r\n\t\t\tbackgroundColor: 'transparent',\r\n\t\t},\r\n\t\tswitchText: {\r\n\t\t\tfontSize: theme.typography.pxToRem(14),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n    }, \r\n    info: {\r\n\t\t\tbackgroundColor: yellow[500],\t\r\n\t\t\tcolor: blue[700],\r\n\t\t\theight: theme.spacing(AVATARHEIGHT),\r\n\t\t\twidth: theme.spacing(AVATARHEIGHT),\r\n\t\t\tfontSize: '12px',\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tborderWidth: 1,\r\n\t\t\tborderColor: 'black',\r\n\t\t\tborderStyle: 'solid',\r\n    }, \r\n\t\tnoinfo: {\r\n\t\t\tbackgroundColor: '#FFFFFF',\t\r\n\t\t\tcolor: '#000000',\r\n\t\t\theight: theme.spacing(AVATARHEIGHT),\r\n\t\t\twidth: theme.spacing(AVATARHEIGHT),\r\n\t\t\tfontSize: '12px',\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tborderWidth: 1,\r\n\t\t\tborderColor: 'black',\r\n\t\t\tborderStyle: 'solid',\r\n\t\t},       \r\n    td : {\r\n\t\t\tborder: 5,\r\n\t\t\talign: \"center\",\r\n\t\t\tpadding: \"none\",\r\n\t\t\tborderWidth: 1,\r\n\t\t\tborderColor: 'black',\r\n\t\t\tborderStyle: 'solid',\r\n\t\t\tbackgroundColor: '#00E5FF',\r\n\t\t},\r\n\t\tth : {\r\n\t\t\tborder: 5,\r\n\t\t\talign: \"center\",\r\n\t\t\tpadding: \"none\",\r\n\t\t\tborderWidth: 1,\r\n\t\t\tborderColor: 'black',\r\n\t\t\tborderStyle: 'solid',\r\n\t\t\tbackgroundColor: '#FF7043',\r\n\t\t},\r\n\t\theader: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n    }, \r\n    error:  {\r\n      // right: 0,\r\n      fontSize: '12px',\r\n      color: red[700],\r\n      // position: 'absolute',\r\n      alignItems: 'center',\r\n      marginTop: '0px',\r\n\t\t},\r\n\t\teditdelete: {\r\n\t\t\tmarginLeft:  '50px',\r\n\t\t\tmarginRight: '50px',\r\n\t\t\tpaddings: '20px',\r\n\t\t},\r\n\t\tNoPatients: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: blue[700]\r\n\t\t},  \r\n\t\tradio: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: \"blue\",\r\n\t\t},\r\n\t\tmessageText: {\r\n\t\t\tcolor: '#4CC417',\r\n\t\t\tfontSize: 12,\r\n\t\t\t// backgroundColor: green[700],\r\n    },\r\n    symbolText: {\r\n        color: '#4CC417',\r\n        // backgroundColor: green[700],\r\n    },\r\n    button: {\r\n\t\t\tmargin: theme.spacing(0, 1, 0),\r\n    },\r\n    heading: {\r\n      fontSize: theme.typography.pxToRem(15),\r\n      flexBasis: '33.33%',\r\n      flexShrink: 0,\r\n    },\r\n    secondaryHeading: {\r\n      fontSize: theme.typography.pxToRem(15),\r\n      color: theme.palette.text.secondary,\r\n    },\r\n  }));\r\n\r\nconst ROWSPERPAGE=10;\r\nconst BOTTONCOL=13;\r\n\r\nconst NUMBERINT=[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13];\r\nconst GENDERARRAY=[\"Male\", \"Female\", \"Other\"];\r\n\r\nconst addEditModal = (isMobile()) ? dynamicModal('90%') : dynamicModal('40%');\r\nconst yesNoModal = dynamicModal('60%');\r\n\r\n\r\n//let searchText = \"\";\r\n//function setSearchText(sss) { searchText = sss;}\r\n\r\nvar userCid;\r\nvar customerData = JSON.parse(sessionStorage.getItem(\"customerData\"));\r\n\r\nexport default function Patient() {\r\n\t//const history = useHistory();\t\r\n  const classes = useStyles();\r\n\tconst gClasses = globalStyles();\r\n\tconst alert = useAlert();\r\n\t//customerData = sessionStorage.getItem(\"customerData\");\r\n\r\n\tconst [searchText, setSearchText] = useState(\"\");\r\n\tconst [isBirthday, setIsBirday] = useState(false);\r\n\t\r\n\tconst [currentPatient, setCurrentPatient] = useState(\"\");\r\n\tconst [currentPatientData, setCurrentPatientData] = useState({});\r\n\r\n\tconst [currentSelection, setCurrentSelection] = useState(\"\");\r\n\t\r\n\r\n\t// \r\n\tconst [patientMasterArray, setPatientMasterArray] = useState([]);\r\n\tconst [patientArray, setPatientArray] = useState([]);\r\n\tconst [isDrawerOpened, setIsDrawerOpened] = useState(false);\r\n\tconst [isAdd, setIsAdd] = useState(false);\r\n\tconst [radioValue, setRadioValue] = useState(\"Male\");\r\n\t\r\n\tconst [patientRec, setPatientRec] = useState({});\r\n\tconst [registerStatus, setRegisterStatus] = useState(0);\r\n\t\r\n\tconst [oldPatientName, setOldPatientName] = useState(\"\");\r\n\tconst\t[patientName, setPatientName] = useState(\"\");\r\n\tconst\t[patientAge, setPatientAge] = useState(0);\r\n\tconst\t[patientGender, setPatientGender] = useState(\"Male\");\r\n\tconst\t[patientEmail, setPatientEmail] = useState(\"\");\r\n\tconst\t[patientMobile, setPatientMobile] = useState(0);\r\n\tconst [patientDob, setPatientDob] = useState(new Date(2000, 1, 1));\r\n  const [page, setPage] = useState(0);\r\n\t\r\n\t\r\n  useEffect(() => {\r\n\t\tconst us = async () => {\r\n\t\t\ttry {\r\n\t\t\t\t//console.log(\"in try\");\r\n\t\t\t\tlet ppp = JSON.parse(localStorage.getItem(\"vdBkpPatients\"+userCid));\r\n\t\t\t\tsetPatientMasterArray(ppp);\r\n\t\t\t\tsetPatientFilter(ppp, searchText);\r\n\t\t\t} catch {\r\n\t\t\t\tconsole.log(\"in patient catch\");\r\n\t\t\t\t// no action required\r\n\t\t\t}\r\n\t\t\tfinally {\r\n\t\t\t\t//console.log(\"in finally\");\r\n\t\t\t\tlet ppp = await getAllPatients(userCid);\r\n\t\t\t\tsetPatientMasterArray(ppp);\r\n\t\t\t\tsetPatientFilter(ppp, searchText);\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\tuserCid = sessionStorage.getItem(\"cid\");\r\n\t\t//sessionStorage.setItem(\"YESNOMODAL\", \"\");\r\n\t\tus();\r\n  }, [])\r\n\r\n\r\n\tfunction ShowResisterStatus() {\r\n    //console.log(`Status is ${registerStatus}`);\r\n    let myMsg;\r\n    switch (registerStatus) {\r\n      case 621:\r\n        myMsg = \"Invalid patient age\";\r\n        break;\r\n\t\t\tcase 1001:\r\n        myMsg = \"Invalid date of birth\";\r\n        break;\r\n      case 601:\r\n        myMsg = \"Patient name already in database\";\r\n        break;\r\n      case 611:\r\n        myMsg = \"Patient name not found in database\";\r\n        break;\r\n    }\r\n    return(\r\n      <div>\r\n        <Typography className={gClasses.error}>{myMsg}</Typography>\r\n      </div>\r\n    )\r\n  }\r\n\r\n\r\n\tasync function handleCancelPatient(rec) {\r\n\t\tconsole.log(\"handleCancelPatient\", rec.displayName);\r\n\t\tlet myData = await getVisitCount(rec);\r\n\t\tconsole.log(myData);\r\n\t\tif (myData != null) {\r\n\t\t\tif ((myData.pending > 0) || (myData.visit > 0)) {\r\n\t\t\t\tsetPatientRec(rec);\r\n\r\n\t\t\t\tlet pmsg = (myData.pending > 0) ? `${myData.pending} pending appointments` : \"\";\r\n\t\t\t\tlet vmsg = (myData.visit > 0)   ? `${myData.visit} visits` : \"\";\r\n\t\t\t\t\r\n\t\t\t\tlet andmsg = ((pmsg !== \"\") && (vmsg !== \"\")) ? \" and \" : \"\"\r\n\r\n\t\t\t\tcallYesNo(openModal, \"delete\", \r\n\t\t\t\t`Delete Patient ${rec.displayName}`, \r\n\t\t\t\t`${rec.displayName} has ` + pmsg + andmsg + vmsg + \". Continue with Delete?\", \r\n\t\t\t\t\"Delete\", \"Cancel\", false);\r\n\t\t\t} else {\r\n\t\t\t\thandleDeleteConfirm(rec);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn;\r\n\r\n\t\t//callYesNo(openModal, \"visit\", `New visit for ${rec.displayName}`, \"Appointment not taken for today. Continue?\", \"Continue\", \"Cancel\", false);\r\n\t\t//arun\r\n\t\ttry {\r\n\t\t\tlet myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/patient/delete/${userCid}/${name}`\r\n\t\t\tawait axios.get(myUrl);\r\n\t\t\tlet myData = patientArray.filter(x => x.displayName != name);\r\n\t\t\tsetPatientArray(myData);\r\n\t\t\tawait getPatientCount();\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\tasync function handleDeleteConfirm(rec) {\r\n\t\tconsole.log(\"Delete of \"+rec.displayName);\r\n\t\tlet myData = patientArray.filter(x => x.displayName != rec.displayName);\r\n\t\tsetPatientArray(myData);\r\n\t\treturn;\r\n\t\ttry {\r\n\t\t\tlet myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/patient/delete/${userCid}/${rec.displayName}`\r\n\t\t\tawait axios.get(myUrl);\r\n\t\t\tlet myData = patientArray.filter(x => x.displayName != rec.displayName);\r\n\t\t\tsetPatientArray(myData);\r\n\t\t\tawait getPatientCount();\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t}\r\n\t}\r\n\t\r\n\t// handle confirmation of YES / No\r\n\t\r\n\tfunction handleAppointmentConfirm(rec) {\r\n\t\t//sessionStorage.setItem(\"shareData\", JSON.stringify(rec));\r\n\t\tsetTab(process.env.REACT_APP_APPT);\r\n\t}\r\n\t\r\n\tfunction handleAdd() {\r\n\t\t//console.log(\"handleAdd\");\r\n\t\tsetPatientName(\"\");\r\n\t\tsetPatientAge(\"\");\r\n\t\tsetPatientGender(\"Male\")\r\n\t\tsetRadioValue(\"Male\");\r\n\t\tsetPatientEmail(\"\");\r\n\t\tsetPatientMobile(\"\");\r\n\t\tsetPatientDob(moment(new Date(2000, 1, 1)));\r\n\t\tsetRegisterStatus(0);\r\n\t\tsetIsAdd(true);\r\n\t\tsetIsDrawerOpened(true);\r\n\t}\r\n\t\r\n\tfunction handleEdit(rec) {\r\n\t\tconsole.log(rec);\r\n\t\tsetOldPatientName(rec.displayName);\r\n\t\tsetPatientName(rec.displayName);\t\t\r\n\t\tsetPatientAge(dispOnlyAge(rec.age));\r\n\t\tsetPatientGender(rec.gender);\r\n\t\tsetRadioValue(rec.gender);\r\n\t\tsetPatientEmail(dispEmail(rec.email));\r\n\t\tsetPatientMobile(dispMobile(rec.mobile));\r\n\t\tsetPatientDob(moment(rec.dob));\r\n\t\tsetRegisterStatus(0);\r\n\t\tsetIsAdd(false);\r\n\t\tsetIsDrawerOpened(true);\r\n\t}\r\n\r\n\tasync function handleCancel(rec) {\r\n\t\t\tlet myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/patient/visitcount/${userCid}/${rec.pid}`;\r\n\t\ttry {\r\n\t\t\tlet resp = await axios.get(myUrl);\r\n\t\t\tlet msg = \"\";\r\n\t\t\tif ((resp.data.pending > 0) && (resp.data.visit > 0)) {\r\n\t\t\t\tmsg = `${rec.displayName} has appointment and ${resp.data.visit} visit(s).`;\r\n\t\t\t} else if (resp.data.pending > 0) {\r\n\t\t\t\tmsg = `${rec.displayName} has appointment.`;\r\n\t\t\t} else if (resp.data.visit > 0) {\r\n\t\t\t\tmsg = `${rec.displayName} has ${resp.data.visit} visit(s).`;\r\n\t\t\t}\r\n\t\t\tmsg += \" Are you sure you want to delete?\";\r\n\t\t\tvsDialog(\"Delete patient\", msg,\r\n\t\t\t\t{label: \"Yes\", onClick: () => handleCancelConfirm(rec) },\r\n\t\t\t\t{label: \"No\" }\r\n\t\t\t);\t\t\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\talert.error(\"Error deleting patient record\");\r\n\t\t}\t\t\r\n\t}\r\n\t\r\n\tfunction handleCancelConfirm(rec) {\r\n\t\talert.error(\"Delete all info of \"+rec.displayName);\r\n\t\t//console.log(rec);\r\n\t}\r\n\r\n\r\n\t\r\n\tasync function handleAddEditSubmit() {\r\n\t\tlet myDate = patientDob.toDate();\r\n\t\tlet testAge = new Date().getFullYear() - myDate.getFullYear();\r\n\t\tconsole.log(testAge, myDate);\r\n\t\tif ((testAge >= 100) || (testAge <= 1)) return setRegisterStatus(1001);\r\n\t\tlet myMobile = (patientMobile !== \"\") ? patientMobile : 0;\r\n\t\tlet myEmail = (patientEmail !== \"\") ? patientEmail : \"-\";\r\n\t\tmyEmail = encrypt(myEmail);\r\n\t\tlet dobStr = myDate.getFullYear() + MONTHNUMBERSTR[myDate.getMonth()] + DATESTR[myDate.getDate()];\r\n\t\tconsole.log(myEmail);\r\n\t\tconsole.log(\"Addedit\", patientName, dobStr, patientGender, myEmail, myMobile);\r\n\t\tlet resp;\r\n\t\tlet myUrl;\r\n\t\tif (isAdd) {\r\n\t\t\ttry {\r\n\t\t\t\tmyUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/patient/addwithdob/${userCid}/${patientName}/${dobStr}/${patientGender}/${myEmail}/${myMobile}`;\r\n\t\t\t\tresp = await axios.get(myUrl);\r\n\t\t\t} catch (error)  {\r\n\t\t\t\tconsole.log(error.response.status);\r\n\t\t\t\tsetRegisterStatus(error.response.status);\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\ttry {\r\n\t\t\t\tmyUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/patient/editwithdob/${userCid}/${oldPatientName}/${patientName}/${dobStr}/${patientGender}/${myEmail}/${myMobile}`;\r\n\t\t\t\tresp = await axios.get(myUrl);\r\n\t\t\t} catch (error)  {\r\n\t\t\t\tconsole.log(error.response.status);\r\n\t\t\t\tsetRegisterStatus(error.response.status);\r\n\t\t\t\treturn;\r\n\t\t\t}\t\t\t\r\n\t\t}\r\n\t\tsetIsDrawerOpened(false);\r\n\r\n\t\tlet ppp = await getAllPatients(userCid);\r\n\t\tsetPatientMasterArray(ppp);\r\n\t\tsetPatientFilter(ppp, searchText);\r\n\t\tsetIsDrawerOpened(false);\r\n\t\treturn; \r\n\t}\r\n\t\r\n\tfunction handleSelectPatient(pat) {\r\n\t\tsetCurrentPatientData(pat);\r\n\t\tsetCurrentPatient(pat.displayName);\r\n\t\tsetCurrentSelection(\"\");\r\n\t\tsetIsBirday(checkIfBirthday(pat.dob));\r\n\t}\r\n\r\n\r\n\tfunction DisplayPatientHeader() {\r\n\treturn (\r\n\t<Box  className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1}>\r\n\t<Grid className={gClasses.noPadding} key=\"AllPatients\" container align=\"left\">\r\n\t\t\t<Grid key={\"PAT0\"} item xs={12} sm={6} md={4} lg={4} >\r\n\t\t\t\t<Typography>\r\n\t\t\t\t\t<span className={gClasses.patientInfo}>Patient: </span>\r\n\t\t\t\t\t<span className={gClasses.patientInfo2Green}>{currentPatient+\"( Id: \"+currentPatientData.pid+\" )\"}</span>\r\n\t\t\t\t</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid key={\"PAT1\"} item xs={12} sm={6} md={2} lg={2} >\r\n\t\t\t\t<Typography>\r\n\t\t\t\t\t<span className={gClasses.patientInfo}>Age: </span>\r\n\t\t\t\t\t<span className={gClasses.patientInfo2Green}>{dispAge(currentPatientData.age, currentPatientData.gender)}</span>\r\n\t\t\t\t</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid key={\"PAT2\"} item xs={12} sm={6} md={3} lg={3} >\r\n\t\t\t\t<Typography>\r\n\t\t\t\t\t<span className={gClasses.patientInfo}>Email: </span>\r\n\t\t\t\t\t<span className={gClasses.patientInfo2Green}>{dispEmail(currentPatientData.email)}</span>\r\n\t\t\t\t</Typography>\r\n\t\t\t</Grid>\t\t\r\n\t\t\t<Grid key={\"PAT3\"} item xs={12} sm={6} md={3} lg={3} >\r\n\t\t\t\t<Typography>\r\n\t\t\t\t\t<span className={gClasses.patientInfo}>Contact: </span>\r\n\t\t\t\t\t<span className={gClasses.patientInfo2Green}>{dispMobile(currentPatientData.mobile)}</span>\r\n\t\t\t\t</Typography>\r\n\t\t\t</Grid>\t\r\n\t\t\t{(isBirthday) &&\r\n\t\t\t<Grid key={\"PAT11\"} item xs={12} sm={12} md={12} lg={12} >\r\n\t\t\t\t<Typography>\r\n\t\t\t\t\t<span className={gClasses.patientInfo2Blue}>{\"Many many happy returns of the day \"+currentPatientData.displayName}</span>\r\n\t\t\t\t</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t}\r\n\t</Grid>\t\r\n\t</Box>\r\n\t)}\r\n\r\n\tfunction DisplayFunctionItem(props) {\r\n\tlet itemName = props.item;\r\n\treturn (\r\n\t<Grid key={\"BUT\"+itemName} item xs={4} sm={4} md={2} lg={2} >\r\n\t<Typography onClick={() => setSelection(itemName)}>\r\n\t\t<span \r\n\t\t\tclassName={(itemName === currentSelection) ? gClasses.functionSelected : gClasses.functionUnselected}>\r\n\t\t{itemName}\r\n\t\t</span>\r\n\t</Typography>\r\n\t</Grid>\r\n\t)}\r\n\t\r\n\tasync function setSelection(item) {\r\n\t\t//sessionStorage.setItem(\"shareData\",JSON.stringify(currentPatientData));\r\n\t\tsetCurrentSelection(item);\r\n\t}\r\n\t\r\n\t\r\n\tfunction DisplayFunctionHeader() {\r\n\treturn (\r\n\t<Box  className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t<Grid className={gClasses.noPadding} key=\"AllPatients\" container align=\"center\">\r\n\t\t<DisplayFunctionItem item=\"Investigation\" />\r\n\t\t<DisplayFunctionItem item=\"Report\" />\r\n\t\t<DisplayFunctionItem item=\"Visit\" />\r\n\t\t<DisplayFunctionItem item=\"Treatment\" />\r\n\t\t<DisplayFunctionItem item=\"Payment\" />\r\n\t</Grid>\t\r\n\t</Box>\r\n\t)}\r\n\r\n\r\n\t\r\n\tfunction DisplayAllPatients() {\r\n\t//console.log(patientArray);\r\n\t//console.log(patientMasterArray);\r\n\treturn (\r\n\t<Grid className={gClasses.noPadding} key=\"AllPatients\" container alignItems=\"center\" >\r\n\t{patientArray.map( (m, index) => \r\n\t\t<Grid key={\"PAT\"+m.pid} item xs={12} sm={6} md={3} lg={3} >\r\n\t\t<DisplayPatientBox patient={m}\r\n\t\tbutton1={\r\n\t\t\t<IconButton className={gClasses.blue} size=\"small\" onClick={() => handleSelectPatient(m) }  >\r\n\t\t\t\t<VisibilityIcon  />\r\n\t\t\t</IconButton>\r\n\t\t}\r\n\t\tbutton2={\r\n\t\t\t<IconButton className={gClasses.blue} size=\"small\" onClick={() => {handleEdit(m)}}  >\r\n\t\t\t\t<EditIcon  />\r\n\t\t\t</IconButton>\r\n\t\t}\r\n\t\tbutton3={\r\n\t\t\t<IconButton color=\"secondary\" size=\"small\" onClick={() => {handleCancel(m)}}  >\r\n\t\t\t\t<CancelIcon />\r\n\t\t\t</IconButton>\r\n\t\t}\r\n\t\t/>\r\n\t\t</Grid>\r\n\t)}\r\n\t</Grid>\t\r\n\t)}\r\n\t\r\n\tfunction setPatientFilter(myArray, filterStr) {\r\n\t\t//console.log(myArray);\r\n\t\t//console.log(filterStr);\r\n\t\tfilterStr = filterStr.trim().toLowerCase();\r\n\t\t//console.log(filterStr);\r\n\t\tlet tmpArray;\r\n\t\tif (myArray !== \"\") {\r\n\t\t\tif (validateInteger(filterStr)) {\r\n\t\t\t\t// it is integer. Thus has to be Id\r\n\t\t\t\t//console.log(\"Num check\",filterStr);\r\n\t\t\t\ttmpArray = myArray.filter(x => x.pidStr.includes(filterStr));\r\n\t\t\t} else {\r\n\t\t\t\ttmpArray = myArray.filter(x => x.displayName.toLowerCase().includes(filterStr));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\ttmpArray = myArray;\r\n\t\t}\r\n\t\tsetPatientArray(tmpArray);\r\n\t}\r\n\t\r\n\tfunction filterPatients(filterStr) {\r\n\t\tsetSearchText(filterStr);\r\n\t\tsetPatientFilter(patientMasterArray, filterStr);\r\n\t}\r\n\t\r\n\tfunction handleBack() {\r\n\t\tsetSearchText(\"\");\r\n\t\tsetPatientArray(patientMasterArray);\r\n\t\tsetCurrentPatientData({});\r\n\t\tsetCurrentPatient(\"\");\r\n\t}\r\n\t\r\n\tfunction handleDate(d) {\r\n\t\t//console.log(d);\r\n\t\tsetPatientDob(d);\r\n\t}\r\n\t\r\n  return (\r\n  <div className={gClasses.webPage} align=\"center\" key=\"main\">\r\n\t\t<Container component=\"main\" maxWidth=\"lg\">\r\n\t\t<CssBaseline />\r\n\t\t{(currentPatient === \"\") &&\r\n\t\t\t<div>\r\n\t\t\t<DisplayPageHeader headerName=\"Patient Directory\" groupName=\"\" tournament=\"\"/>\r\n\t\t\t<BlankArea />\r\n\t\t\t<Grid className={gClasses.vgSpacing} key=\"PatientFilter\" container alignItems=\"center\" >\r\n\t\t\t\t<Grid key={\"F1\"} item xs={false} sm={false} md={2} lg={2} />\r\n\t\t\t\t<Grid key={\"F2\"} item xs={12} sm={12} md={4} lg={4} >\r\n\t\t\t\t\t{/*<TextField id=\"filter\"  padding={5} fullWidth label=\"Search Patient by name or Id\" \r\n\t\t\t\t\tvalue={searchText}\r\n\t\t\t\t\tonChange={(event) => filterPatients(event.target.value)}\r\n\t\t\t\t\tInputProps={\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tendAdornment: (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<InputAdornment position=\"end\"><SearchIcon /></InputAdornment>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t/>*/}\r\n\t\t\t\t<VsTextSearch label=\"Search Patient by name or Id\" value={searchText}\r\n\t\t\t\t\tonChange={(event) => filterPatients(event.target.value)}\r\n\t\t\t\t\tonClear={(event) => filterPatients(\"\")}\r\n\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid key={\"F4\"} item xs={8} sm={8} md={3} lg={3} >\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid key={\"F5\"} item xs={4} sm={4} md={1} lg={1} >\r\n\t\t\t\t\t<VsButton name=\"New Patient\" onClick={handleAdd} />\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid key={\"F6\"} item xs={false} sm={false} md={2} lg={2} />\r\n\t\t\t</Grid>\r\n\t\t\t<DisplayAllPatients />\r\n\t\t\t</div>\r\n\t\t}\r\n\t\t{(currentPatient !== \"\") &&\r\n\t\t\t<div>\r\n\t\t\t<VsButton align=\"right\" name=\"Back to Patient Directory\" onClick={handleBack} />\r\n\t\t\t<DisplayPatientHeader />\r\n\t\t\t<DisplayFunctionHeader />\r\n\t\t\t<Divider className={gClasses.divider} /> \r\n\t\t\t{((currentSelection === \"Treatment\") && (true)) &&\r\n\t\t\t\t<DentalTreatment patient={currentPatientData} />\r\n\t\t\t}\r\n\t\t\t{((currentSelection === \"Treatment\") && (customerData.type !== \"Dentist\")) &&\r\n\t\t\t\t<Typography>Aiyoo gochi hai gochi!!!!</Typography>\r\n\t\t\t}\r\n\t\t\t{(currentSelection === \"Investigation\") &&\r\n\t\t\t\t<Investigation patient={currentPatientData} />\r\n\t\t\t}\r\n\t\t\t{(currentSelection === \"Report\") &&\r\n\t\t\t\t<Report patient={currentPatientData} />\r\n\t\t\t}\r\n\t\t\t{(currentSelection === \"Visit\") &&\r\n\t\t\t\t<Visit patient={currentPatientData} />\r\n\t\t\t}\r\n\t\t\t{(currentSelection === \"Payment\") &&\r\n\t\t\t\t<ProfCharge patient={currentPatientData} />\r\n\t\t\t}\r\n\t\t\t</div>\r\n\t\t}\r\n\t\t<Drawer className={classes.drawer}\r\n\t\t\tanchor=\"right\"\r\n\t\t\tvariant=\"temporary\"\r\n\t\t\topen={isDrawerOpened}\r\n\t\t>\r\n\t\t<Box className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t\t<VsCancel align=\"right\" onClick={() => { setIsDrawerOpened(false)}} />\r\n\t\t<ValidatorForm align=\"center\" className={classes.form} onSubmit={handleAddEditSubmit}>\r\n\t\t\t<Typography className={gClasses.title}>{(isAdd) ? \"Add Patient\" : \"Edit Patient\"}</Typography>\r\n\t\t\t<TextValidator fullWidth  className={gClasses.vgSpacing}\r\n\t\t\t\tid=\"newPatientName\" label=\"Name\" type=\"text\"\r\n\t\t\t\tvalue={patientName} \r\n\t\t\t\tonChange={() => { setPatientName(event.target.value) }}\r\n      />\r\n\t\t\t{/*<TextValidator  fullWidth className={gClasses.vgSpacing}\r\n\t\t\t\tid=\"newPatientAge\" label=\"Age\" type=\"number\"\r\n\t\t\t\tvalue={patientAge}\r\n\t\t\t\tonChange={() => { setPatientAge(event.target.value) }}\r\n\t\t\t\tvalidators={['minNumber:1', 'maxNumber:99']}\r\n        errorMessages={['Age to be above 1', 'Age to be less than 100']}\t\t\t\t\r\n\t\t\t/>*/}\r\n\t\t\t<div align=\"left\">\r\n\t\t\t<Typography className={gClasses.vgSpacing}>Date of Birth</Typography>\r\n\t\t\t</div>\r\n\t\t\t<Datetime \r\n\t\t\t\tclassName={classes.dateTimeBlock}\r\n\t\t\t\tinputProps={{className: classes.dateTimeNormal}}\r\n\t\t\t\ttimeFormat={false} \r\n\t\t\t\tinitialValue={patientDob}\r\n\t\t\t\tdateFormat=\"DD/MM/yyyy\"\r\n\t\t\t\tisValidDate={disableFutureDt}\r\n\t\t\t\tonClose={handleDate}\r\n\t\t\t\tcloseOnSelect={true}\r\n\t\t\t/>\r\n\t\t\t<BlankArea />\r\n\t\t\t<FormControl component=\"fieldset\">\r\n\t\t\t\t<RadioGroup row aria-label=\"radioselection\" name=\"radioselection\" value={radioValue} \r\n\t\t\t\t\tonChange={() => {setRadioValue(event.target.value); setPatientGender(event.target.value); }}\r\n\t\t\t\t>\r\n\t\t\t\t<FormControlLabel className={gClasses.filterRadio} value=\"Male\" \t\tcontrol={<Radio color=\"primary\"/>} label=\"Male\" />\r\n\t\t\t\t<FormControlLabel className={gClasses.filterRadio} value=\"Female\" \tcontrol={<Radio color=\"primary\"/>} label=\"Female\" />\r\n\t\t\t\t<FormControlLabel className={gClasses.filterRadio} value=\"Other\"   control={<Radio color=\"primary\"/>} label=\"Other\" />\r\n\t\t\t</RadioGroup>\r\n\t\t\t</FormControl>\r\n\t\t\t<TextValidator   fullWidth   className={gClasses.vgSpacing} \r\n\t\t\t\tid=\"newPatientEmail\" label=\"Email\" type=\"email\"\r\n\t\t\t\tvalue={patientEmail} \r\n\t\t\t\tonChange={() => { setPatientEmail(event.target.value) }}\r\n      />\r\n\t\t\t<TextValidator fullWidth required className={gClasses.vgSpacing} \r\n\t\t\t\tid=\"newPatientMobile\" label=\"Mobile\" type=\"number\"\r\n\t\t\t\tvalue={patientMobile} \r\n\t\t\t\tonChange={() => { setPatientMobile(event.target.value) }}\r\n\t\t\t\tvalidators={['minNumber:1000000000', 'maxNumber:9999999999']}\r\n        errorMessages={['Invalid Mobile number','Invalid Mobile number']}\r\n      />\t\r\n\t\t\t<ShowResisterStatus />\r\n\t\t\t<BlankArea />\r\n\t\t\t<VsButton name={(isAdd) ? \"Add\" : \"Update\"} />\r\n\t\t\t</ValidatorForm>    \t\t\r\n\t\t\t</Box>\r\n\t\t</Drawer>\r\n\t\t</ Container>\r\n  </div>\r\n  );    \r\n}\r\n\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport axios from \"axios\";\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { InputAdornment, makeStyles, Container, CssBaseline } from '@material-ui/core';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport SwitchBtn from '@material-ui/core/Switch';\r\nimport { usePromiseTracker, trackPromise } from \"react-promise-tracker\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport Box from '@material-ui/core/Box';\r\nimport Modal from 'react-modal';\r\nimport VsButton from \"CustomComponents/VsButton\";\r\nimport { borders } from '@material-ui/system';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport Datetime from \"react-datetime\";\r\nimport \"react-datetime/css/react-datetime.css\";\r\nimport moment from \"moment\";\r\n\r\nimport {setTab} from \"CustomComponents/CricDreamTabs.js\"\r\n\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\nimport Avatar from \"@material-ui/core/Avatar\"\r\n//import validator from 'validator'\r\n\r\n// styles\r\nimport globalStyles from \"assets/globalStyles\";\r\nimport modalStyles from \"assets/modalStyles\";\r\nimport {dynamicModal } from \"assets/dynamicModal\";\r\n\r\n\r\nimport Switch from \"@material-ui/core/Switch\";\r\nimport Link from '@material-ui/core/Link';\r\n\r\nimport {DisplayPageHeader, ValidComp, BlankArea, DisplayYesNo,\r\nDisplayPatientDetails,\r\n} from \"CustomComponents/CustomComponents.js\"\r\n\r\nimport { LeakRemoveTwoTone, LensTwoTone } from '@material-ui/icons';\r\n\r\n\r\n// icons\r\nimport FileCopyIcon from '@material-ui/icons/FileCopy';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport LocalHospitalIcon from '@material-ui/icons/LocalHospital';\r\n\r\n//colors \r\nimport { \r\nred, blue, yellow, orange, pink, green, brown, deepOrange, lightGreen,\r\n} from '@material-ui/core/colors';\r\n\r\nimport { \r\n\tisMobile, callYesNo,\r\n\tdisablePastDt, disableFutureDt, disableAllDt,\r\n\tvalidateInteger,\r\n\tencrypt, decrypt, \r\n\tleft, right,\r\n\tintString,\r\n\tupdatePatientByFilter,\r\n\tdispAge, dispEmail, dispMobile,\r\n\tordinalSuffix,\r\n\tgetOnlyDate,\r\n} from \"views/functions.js\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\twidth: '100%',\r\n\t}, \r\n\tdateTime: {\r\n\t\tcolor: 'blue',\r\n\t\tfontSize: theme.typography.pxToRem(28),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tbackgroundColor: pink[100],\r\n\t\talign: 'center',\r\n\t\twidth: (isMobile()) ? '60%' : '20%',\r\n\t}, \r\n\tdateTimeNormal: {\r\n\t\tcolor: 'blue',\r\n\t\tfontSize: theme.typography.pxToRem(14),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t//backgroundColor: pink[100],\r\n\t\talign: 'center',\r\n\t\t//width: (isMobile()) ? '60%' : '20%',\r\n\t}, \r\n\tdateTimeBlock: {\r\n\t\tcolor: 'blue',\r\n\t\t//fontSize: theme.typography.pxToRem(28),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t//backgroundColor: pink[100],\r\n\t}, \r\n\tinfo: {\r\n\t\t\tcolor: blue[700],\r\n\t}, \r\n\tfilterRadio: {\r\n\t\t\tfontSize: theme.typography.pxToRem(14),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: '#000000',\t\r\n\t},\r\n\tswitchText: {\r\n\t\tfontSize: theme.typography.pxToRem(14),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t}, \r\n\t\torange: {\r\n\t\t\tbackgroundColor: orange[300],\r\n\t\t\tcolor: '#000000',\r\n\t\t},\r\n    header: {\r\n\t\t\tcolor: '#D84315',\r\n    }, \r\n    error:  {\r\n      // right: 0,\r\n      fontSize: '12px',\r\n      color: red[700],\r\n      // position: 'absolute',\r\n      alignItems: 'center',\r\n      marginTop: '0px',\r\n\t\t},\r\n\t\teditdelete: {\r\n\t\t\tmarginLeft:  '50px',\r\n\t\t\tmarginRight: '50px',\r\n\t\t},\r\n\t\tNoMedicines: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: blue[700]\r\n\t\t},  \r\n\t\tradio: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: \"blue\",\r\n\t\t},\r\n\t\tmedicine: {\r\n\t\t\tfontSize: theme.typography.pxToRem(15),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: blue[700]\r\n\t\t},  \r\n\t\tmodalHeader: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: blue[700]\r\n\t\t},\r\n\t\tmessageText: {\r\n\t\t\tcolor: '#4CC417',\r\n\t\t\tfontSize: 12,\r\n\t\t\t// backgroundColor: green[700],\r\n    },\r\n    symbolText: {\r\n        color: '#4CC417',\r\n        // backgroundColor: green[700],\r\n    },\r\n    button: {\r\n\t\t\tmargin: theme.spacing(0, 1, 0),\r\n    },\r\n\t\ttitle: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: blue[700],\r\n\t\t},\r\n    heading: {\r\n\t\t\tfontSize: theme.typography.pxToRem(15),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t},\r\n\t\taccordianSummary: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\t//backgroundColor: pink[100],\r\n\t\t},\r\n\t\tzeroAppt: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tbackgroundColor: pink[100],\r\n\t\t},\r\n\t\tnormalAccordian: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tbackgroundColor: pink[100],\r\n\t\t},\r\n\t\tselectedAccordian: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tbackgroundColor: yellow[100],\r\n\t\t},\r\n    secondaryHeading: {\r\n      fontSize: theme.typography.pxToRem(15),\r\n      color: theme.palette.text.secondary,\r\n    },\r\n\t\tnoPadding: {\r\n\t\t\tpadding: \"none\", \r\n\t\t},\r\n\tapptName: {\r\n\t\tfontSize: theme.typography.pxToRem(15),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tcolor: blue[700]\r\n\t},  \r\n\tnewAppt: {\r\n\t\tbackgroundColor: pink[100],\r\n\t},\r\n\tallAppt: {\r\n\t\tbackgroundColor: blue[100],\r\n\t},\r\n\tselect: {\r\n\t\tpadding: \"none\", \r\n\t\tbackgroundColor: '#B3E5FC',\r\n\t\tmargin: \"none\",\r\n\t},\r\n\ttable: {\r\n    //minWidth: 750,\r\n  },\r\n  td : {\r\n    border: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n  },\r\n\ttdPending : {\r\n    border: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tborderWidth: 1,\r\n\t\tbackgroundColor: blue[100],\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n  },\r\n\ttdCancel : {\r\n\t\tbackgroundColor: pink[100],\r\n    border: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n  },\r\n\ttdVisit : {\r\n\t\tbackgroundColor: lightGreen[300],\r\n    border: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n  },\r\n\tth: { \r\n\t\tborder: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tfontSize: theme.typography.pxToRem(13),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t//backgroundColor: '#FFA726',\r\n\t\tbackgroundColor: deepOrange[200],\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n\t},\r\n\twd: {\r\n\t\tborder: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tbackgroundColor: '#E0E0E0',\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n\t},\r\n\twe: {\r\n\t\tborder: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tbackgroundColor: '#F8BBD0',\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n\t},\r\n\ttoday: {\r\n\t\tborder: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tbackgroundColor: green[300],\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n\t},\r\n\tnoday: {\r\n\t\tborder: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tbackgroundColor: '#FFFFFF',\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n\t},\r\n\tho: {\r\n\t\tborder: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tbackgroundColor: yellow[400],\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n\t},\r\n}));\r\n\r\nconst VISITTYPE = {pending: \"pending\", cancelled: \"cancelled\", visit: \"\"};\r\n\r\nconst ROWSPERPAGE = 10;\r\nlet dense = false;\r\n\r\nconst yesNoModal = dynamicModal('60%');\r\n\r\nlet searchText = \"\";\r\nfunction setSearchText(sss) { searchText = sss;}\r\n\r\n\r\nconst userCid = sessionStorage.getItem(\"cid\");\r\nexport default function NextVisit() {\r\n  const classes = useStyles();\r\n\tconst gClasses = globalStyles();\r\n\r\n\tconst [nextVisitArray, setNextVisitArray] = useState([]);\r\n\t\r\n  useEffect(() => {\t\r\n\t\tconst getAllNextVisits = async () => {\t\t\r\n\t\t\ttry {\r\n\t\t\t\tlet myURL = `${process.env.REACT_APP_AXIOS_BASEPATH}/visit/nextVisit/list/${userCid}`;\r\n\t\t\t\tlet resp = await axios.get(myURL);\r\n\t\t\t\tconsole.log(resp.data);\r\n\t\t\t\tsetNextVisitArray(resp.data);\r\n\t\t\t} catch(e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t}\r\n\t\t}\r\n\t\tgetAllNextVisits();\r\n  }, []);\r\n\r\n\t\r\n\t\r\n\treturn (\r\n  <div className={gClasses.webPage} align=\"center\" key=\"main\">\r\n\t\t<DisplayPageHeader headerName=\"Next Visit\" groupName=\"\" tournament=\"\"/>\r\n\t<Container component=\"main\" maxWidth=\"lg\">\r\n\t<CssBaseline />\r\n\t<Box className={classes.allAppt} width=\"100%\">\r\n\t\t\t<TableContainer>\r\n\t\t\t<Table style={{ width: '100%' }}>\r\n\t\t\t<TableHead>\r\n\t\t\t\t<TableRow align=\"center\">\r\n\t\t\t\t\t<TableCell key={\"TH21\"} component=\"th\" scope=\"row\" align=\"center\" padding=\"none\"\r\n\t\t\t\t\tclassName={classes.th} >\r\n\t\t\t\t\tPatient\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t<TableCell key={\"TH22\"} component=\"th\" scope=\"row\" align=\"center\" padding=\"none\"\r\n\t\t\t\t\tclassName={classes.th} >\r\n\t\t\t\t\t\tNext Visit Date\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t<TableCell key={\"TH23\"} component=\"th\" scope=\"row\" align=\"center\" padding=\"none\"\r\n\t\t\t\t\tclassName={classes.th} >\r\n\t\t\t\t\tVisit Date\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t<TableCell key={\"TH24\"} component=\"th\" scope=\"row\" align=\"center\" padding=\"none\"\r\n\t\t\t\t\tclassName={classes.th} >\r\n\t\t\t\t\tStatus\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t</TableRow>\r\n\t\t\t</TableHead>\r\n\t\t\t<TableBody>  \r\n\t\t\t{nextVisitArray.map( (a, index) => {\r\n\t\t\t\tlet myName = a.displayName + (isMobile() ? \"\" : \" (ID: \" + a.pid + \")\");\r\n\t\t\t\tlet myNextVisit = getOnlyDate(a.nextVisit);\r\n\t\t\t\tlet myVisit = (a.status === VISITTYPE.pending) ? \"-\" : getOnlyDate(a.visitDate);\r\n\t\t\t\treturn(\r\n\t\t\t\t\t<TableRow key={\"TROW\"+index}>\r\n\t\t\t\t\t<TableCell key={\"TD1\"+index} align=\"center\" component=\"td\" scope=\"row\" align=\"center\" padding=\"none\"\r\n\t\t\t\t\t\tclassName={classes.tdPending}>\r\n\t\t\t\t\t\t<Typography className={classes.apptName}>\r\n\t\t\t\t\t\t\t{myName}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t<TableCell key={\"TD2\"+index} align=\"center\" component=\"td\" scope=\"row\" align=\"center\" padding=\"none\"\r\n\t\t\t\t\t\tclassName={classes.tdPending}>\r\n\t\t\t\t\t\t<Typography className={classes.apptName}>\r\n\t\t\t\t\t\t\t{myNextVisit}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t<TableCell key={\"TD3\"+index} align=\"center\" component=\"td\" scope=\"row\" align=\"center\" padding=\"none\"\r\n\t\t\t\t\t\tclassName={classes.tdPending}>\r\n\t\t\t\t\t\t<Typography className={classes.apptName}>\r\n\t\t\t\t\t\t\t{myVisit}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t<TableCell key={\"TD4\"+index} align=\"center\" component=\"td\" scope=\"row\" align=\"center\" padding=\"none\"\r\n\t\t\t\t\t\tclassName={classes.tdPending}>\r\n\t\t\t\t\t\t<Typography className={classes.apptName}>\r\n\t\t\t\t\t\t\t{a.status}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t</TableRow>\r\n\t\t\t\t)}\r\n\t\t\t)}\r\n\t\t\t</TableBody> \r\n\t\t\t</Table>\r\n\t\t\t</TableContainer>\r\n\t\t</Box>\t\r\n\t\t</Container>\r\n  </div>\r\n  );    \r\n}","import { useEffect } from 'react';\r\n\r\nconst useScript = url => {\r\n  useEffect(() => {\r\n    const script = document.createElement('script');\r\n    script.src = url;\r\n    script.async = true;\r\n    document.body.appendChild(script);\r\n    return () => {\r\n      document.body.removeChild(script);\r\n    };\r\n  }, [url]);\r\n};\r\n\r\nexport default useScript;","import React, { useState, useEffect} from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\n// import TextField from '@material-ui/core/TextField';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport VsButton from \"CustomComponents/VsButton\";\r\nimport VsCancel from \"CustomComponents/VsCancel\"\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport Typography from '@material-ui/core/Typography';\r\n// import Table from \"components/Table/Table.js\";\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport globalStyles from \"assets/globalStyles\";\r\nimport Container from '@material-ui/core/Container';\r\nimport axios from \"axios\";\r\n//import useScript from './useScript';\r\nimport { setTab }from \"CustomComponents/CricDreamTabs\";\r\nimport { BlankArea, DisplayBalance } from 'CustomComponents/CustomComponents';\r\nimport { getMinimumBalance, isMobile, getDateTime } from 'views/functions';\r\nimport { WALLETTYPE,\r\nDATESTR, MONTHNUMBERSTR, HOURSTR, MINUTESTR, \r\n } from 'views/globals';\r\nimport useScript from './useScript';\r\n\r\n// import classes from '*.module.css';\r\nvar request= require('request');\r\n// import { UserContext } from \"../../UserContext\";\r\n// import { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\n// import { useHistory } from \"react-router-dom\";\r\n// import {validateSpecialCharacters, validateEmail, cdRefresh} from \"views/functions.js\";\r\nimport { blue, red, deepOrange, pink } from '@material-ui/core/colors';\r\n\r\n\r\nconst COUNTPERPAGE=5;\r\n\r\nconst DVLOGO = `${process.env.PUBLIC_URL}/DV.JPG`;\r\nconst RAZORSCRIPT = \"https://checkout.razorpay.com/v1/checkout.js\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tfilterRadio: {\r\n\t\t\tfontSize: theme.typography.pxToRem(14),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: '#000000',\t\r\n\t},\r\n\tth: { \r\n\t\tborder: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tfontSize: theme.typography.pxToRem(13),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t//backgroundColor: '#FFA726',\r\n\t\tbackgroundColor: deepOrange[200],\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n\t},\r\n\tapptName: {\r\n\t\tfontSize: theme.typography.pxToRem(15),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t},  \r\n\ttdBonus: {\r\n    border: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tborderWidth: 1,\r\n\t\tbackgroundColor: blue[100],\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n  },\r\n\ttdWallet : {\r\n\t\tbackgroundColor: pink[100],\r\n    border: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n  },\r\n  wallet : {\r\n    spacing: 0,\r\n    // border: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n    height: 10,\r\n    backgroundColor: '#B3E5FC',\r\n  },\r\n  bonus : {\r\n    spacing: 0,\r\n    // border: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n    height: 10,\r\n    backgroundColor: '#FFC0CB',\r\n  },\r\n}));\r\n  \r\nvar orderId=\"\"; \r\nfunction setOrderId(sss) { orderId = sss; }\r\n\r\nlet userCid; \r\nexport default function Wallet(props) {\r\n  useScript(RAZORSCRIPT);\r\n\r\n  //const history = useHistory();\r\n  const classes = useStyles();\r\n  const gClasses = globalStyles();\r\n\r\n\tconst [razOpt, setRazOpt] = useState({});\r\n\t//const [orderId, setOrderId] = useState(\"\");\r\n\tconst [payId, setPayId] = useState(\"\");\r\n\tconst [signId, setSignId] = useState(\"\");\r\n\t\r\n\tconst [masterTransactions, setMasterTransactions] = useState([]);\r\n\tconst [transactions, setTransactions] = useState([]);\r\n\tconst [addNewWallet, setAddNewWallet] = useState(false);\r\n\tconst [amount, setAmount] = useState(0);\r\n\t\r\n\t\r\n  const [minBalance, setMinBalance] = useState(parseInt(process.env.REACT_APP_MINBALANCE));\r\n  const [balance, setBalance] = useState({wallet: 0, bonus: 0});\r\n  \r\n  \r\n  const [message, setMessage] = useState(\"\");\r\n  const [page, setPage] = useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = useState(COUNTPERPAGE);\r\n\r\n  // const [emptyRows, setEmptyRows] = useState(0);\r\n  //const [minMessage, setMinMessage] = useState(`Minimum balance of  ${process.env.REACT_APP_MINBALANCE} is required for withdrawal.`)\r\n  \r\n  // have we come via route\r\n  //console.log(\"Wallet\", localStorage.getItem(\"menuValue\"));\r\n  // console.log(\"details from Insta\",\r\n  // sessionStorage.getItem(\"payment_id\"),\r\n  // sessionStorage.getItem(\"payment_status\"),\r\n  // sessionStorage.getItem(\"payment_request_id\")\r\n  // );\r\n  useEffect(() => {\r\n\t  \r\n\t\tif (localStorage.getItem(\"saveBalance\"))\r\n\t\t\t\tsetBalance(JSON.parse(localStorage.getItem(\"saveBalance\")));\r\n\r\n\t\tif (localStorage.getItem(\"saveTransactions\")) {\r\n\t\t\tsetTransactions(JSON.parse(localStorage.getItem(\"saveTransactions\")));\r\n\t\t}\r\n\t\r\n\t\tconst WalletInfo = async () => {\r\n      try {\r\n        // get wallet transaction and also calculate balance\r\n        var response = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/wallet/details/${userCid}`);\r\n        setTransactions(response.data);\r\n        setMasterTransactions(response.data);\r\n\t\t\t\tsessionStorage.setItem(\"saveTransactions\", JSON.stringify(response.data));\r\n\r\n        response = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/wallet/balance/${userCid}`);\r\n        setBalance(response.data);\r\n\t\t\t\tsessionStorage.setItem(\"saveBalance\", JSON.stringify(response.data));\r\n      } catch (e) {\r\n          console.log(e)\r\n      }\r\n    }\r\n    \r\n\t\tuserCid = sessionStorage.getItem(\"cid\");\r\n\t\tWalletInfo();\r\n  }, []);\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    event.preventDefault();\r\n    setPage(newPage);\r\n    // let myempty = rowsPerPage - Math.min(rowsPerPage, transactions.length - newPage * rowsPerPage);\r\n    // setEmptyRows(myempty);\r\n\r\n  };\r\n\r\n\r\n\t\r\n\tfunction DisplayWalletTable(props) {\r\n\tlet colCount = isMobile() ? 3 : 3;\r\n\treturn (\r\n\t\t<Box className={classes.allAppt} border={1} width=\"100%\">\r\n\t\t\t<TableContainer>\r\n\t\t\t<Table style={{ width: '100%' }}>\r\n\t\t\t<TableHead>\r\n\t\t\t\t<TableRow align=\"center\">\r\n\t\t\t\t\t<TableCell key={\"TH1\"} component=\"th\" scope=\"row\" align=\"center\" padding=\"none\"\r\n\t\t\t\t\tclassName={classes.th} colSpan={6}>\r\n\t\t\t\t\t{`Transaction details (Balance ${balance.wallet})`}\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t</TableRow>\r\n\t\t\t\t<TableRow align=\"center\">\r\n\t\t\t\t\t<TableCell key={\"TH21\"} component=\"th\" scope=\"row\" align=\"center\" padding=\"none\"\r\n\t\t\t\t\tclassName={classes.th} >\r\n\t\t\t\t\tDate\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t<TableCell key={\"TH22\"} component=\"th\" scope=\"row\" align=\"center\" padding=\"none\"\r\n\t\t\t\t\tclassName={classes.th} >\r\n\t\t\t\t\tTime\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t<TableCell key={\"TH23\"} component=\"th\" scope=\"row\" align=\"center\" padding=\"none\"\r\n\t\t\t\t\tclassName={classes.th} >\r\n\t\t\t\t\tType\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t<TableCell key={\"TH24\"} component=\"th\" scope=\"row\" align=\"center\" padding=\"none\"\r\n\t\t\t\t\tclassName={classes.th} >\r\n\t\t\t\t\tTrans. Id\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t<TableCell key={\"TH25\"} component=\"th\" scope=\"row\" align=\"center\" padding=\"none\"\r\n\t\t\t\t\tclassName={classes.th} >\r\n\t\t\t\t\tCredit\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t<TableCell key={\"TH26\"} component=\"th\" scope=\"row\" align=\"center\" padding=\"none\"\r\n\t\t\t\t\tclassName={classes.th} >\r\n\t\t\t\t\tDebit\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t</TableRow>\r\n\t\t\t</TableHead>\r\n\t\t\t<TableBody>  \r\n\t\t\t{props.myArray.map( (a, index) => {\r\n\t\t\t\t//console.log(a);\r\n\t\t\t\tlet t = new Date(a.transDate);\r\n\t\t\t\tlet myDate = DATESTR[t.getDate()] + \"/\" + MONTHNUMBERSTR[t.getMonth()] + \"/\" + t.getFullYear();\r\n\t\t\t\tlet myTime = HOURSTR[t.getHours()] + \":\" + MINUTESTR[t.getMinutes()];\r\n\t\t\t\tlet myClass = classes.tdWallet;\r\n\t\t\t\t//console.log(a);\r\n\t\t\t\t//console.log(a.type, myType, WALLETTYPE  )\r\n\t\t\t\treturn(\r\n\t\t\t\t\t<TableRow align=\"center\" key={\"TROW\"+index}>\r\n\t\t\t\t\t<TableCell key={\"TD1\"+index} align=\"center\" component=\"td\" scope=\"row\" align=\"center\" padding=\"none\"\r\n\t\t\t\t\t\tclassName={myClass}>\r\n\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t{myDate}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t<TableCell key={\"TD2\"+index} align=\"center\" component=\"td\" scope=\"row\" align=\"center\" padding=\"none\"\r\n\t\t\t\t\t\tclassName={myClass}>\r\n\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t{myTime}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t<TableCell key={\"TD3\"+index} align=\"center\" component=\"td\" scope=\"row\" align=\"center\" padding=\"none\"\r\n\t\t\t\t\t\tclassName={myClass}>\r\n\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t{a.transType}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t<TableCell key={\"TD4\"+index} align=\"center\" component=\"td\" scope=\"row\" align=\"center\" padding=\"none\"\r\n\t\t\t\t\t\tclassName={myClass}>\r\n\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t{a.transSubType}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t<TableCell key={\"TD5\"+index} align=\"center\" component=\"td\" scope=\"row\" align=\"center\" padding=\"none\"\r\n\t\t\t\t\t\tclassName={myClass}>\r\n\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t{(a.amount >= 0) ? parseFloat(a.amount).toFixed(2) : \"\"}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t<TableCell key={\"TD6\"+index} align=\"center\" component=\"td\" scope=\"row\" align=\"center\" padding=\"none\"\r\n\t\t\t\t\t\tclassName={myClass}>\r\n\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t{(a.amount < 0) ? abs(a.amount) : \"\"}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t</TableRow>\r\n\t\t\t\t)}\r\n\t\t\t)}\r\n\t\t\t</TableBody> \r\n\t\t\t</Table>\r\n\t\t\t</TableContainer>\r\n\t\t</Box>\t\t\r\n\t)}\r\n\t\r\n\tasync function orghandleRazor(response) {\r\n\t\t// AFTER RAZOR TRANSACTION IS COMPLETE and SUCCESSFULL YOU WILL GET THE RESPONSE HERE.\r\n\t\tconsole.log(response);\r\n\t\tlet myURL = `${process.env.REACT_APP_AXIOS_BASEPATH}/wallet/razorpaymentok/${userCid}/${amount}/${response.razorpay_payment_id}`;\r\n    \r\n    try {\r\n\t\t\tconsole.log(myURL);\r\n      await axios.get(myURL);\r\n\t\t\tsetTab(process.env.REACT_APP_WALLET);\r\n    } catch (e) {\r\n      console.log(e);\r\n      //setRegisterStatus(1002);\r\n    }\r\n\t}\r\n  \r\n\tasync function handleRazor (response)  {\r\n\t\t//console.log(\"in razor response\");\r\n\t\t//console.log(response);\r\n\t\t//console.log(orderId);\r\n\t\t//console.log(razOpt);\r\n\t\tif (orderId == response.razorpay_order_id) {\r\n\t\t\ttry {\r\n\t\t\t\tlet myURL = `${process.env.REACT_APP_AXIOS_BASEPATH}/wallet/razorpaymentok/${userCid}/${amount}/${response.razorpay_payment_id}`;\r\n\t\t\t\t//console.log(myURL);\r\n\t\t\t\tawait axios.get(myURL);\r\n\t\t\t\tsetTab(process.env.REACT_APP_WALLET);\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t\t//setRegisterStatus(1002);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\talert(\"Order Id mismatch\");\r\n\t\t}\r\n\t}\r\n\r\n\t async function handleAddWallet() {\r\n\t\tlet sts;\r\n\r\n\t\t//paymentRequest = \"\";\r\n\t\t//paymentId = \"\";\r\n\r\n\t\ttry {\r\n\t\t\t// generate order\r\n\t\t\tlet  response = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/razor/order/${userCid}/${amount}`);\t\r\n\t\t\t//console.log(response.data);\r\n\t\t\tlet myOpt = response.data\r\n\t\t\tsetRazOpt(myOpt);\r\n\t\t\tsetOrderId(myOpt.order_id);\r\n\t\t\t//setPayId(\"\");\r\n\t\t\t//setSignId(\"\");\r\n\t\t\t\r\n\t\t\t// now check out\r\n\t\t\t\r\n\t\t\tmyOpt[\"handler\"] = handleRazor;\r\n\t\t\t//console.log(myOpt);\r\n\t\t\t\r\n\t\t\tvar rzp1 = new Razorpay(myOpt);\r\n\t\t\trzp1.open();\r\n\t\t} catch (e) {\r\n\t\t\t//setRegisterStatus(1001);\r\n\t\t\tconsole.log(e);\r\n\t\t\tconsole.log(\"Error Razor error\");\r\n\t\t}\r\n\t}\r\n\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"lg\">\r\n      <DisplayBalance wallet={balance.wallet} bonus={balance.bonus}/>\r\n      <CssBaseline />\r\n      <div className={gClasses.paper}>\r\n\t\t\t\t{(!addNewWallet) &&\r\n\t\t\t\t\t<VsButton name=\"Add to wallet\" align=\"right\" onClick={() => { setAmount(0); setAddNewWallet(true);  }} />\r\n\t\t\t\t}\r\n\t\t\t\t{(addNewWallet) &&\r\n\t\t\t\t\t<Box align=\"center\" className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} width=\"100%\" >\r\n\t\t\t\t\t\t<VsCancel align=\"right\" onClick={() => {setAddNewWallet(false)}} />\r\n\t\t\t\t\t\t\t<ValidatorForm align=\"center\" className={gClasses.form} onSubmit={handleAddWallet} >\r\n\t\t\t\t\t\t\t<Grid key=\"AddWalet\" container justify=\"center\" alignItems=\"center\" >\r\n\t\t\t\t\t\t\t\t<Grid item xs={2} sm={2} md={2} lg={2} />\r\n\t\t\t\t\t\t\t\t<Grid item xs={3} sm={3} md={3} lg={3} >\r\n\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t<span className={gClasses.patientName}>Add amount to wallet</span>\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid item xs={2} sm={2} md={2} lg={2} >\r\n\t\t\t\t\t\t\t\t\t<TextValidator variant=\"outlined\" required fullWidth color=\"primary\" type=\"number\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"amount\" label=\"Add amount\" name=\"amount\"\r\n\t\t\t\t\t\t\t\t\t\tonChange={(event) => setAmount(event.target.value)}\r\n\t\t\t\t\t\t\t\t\t\tvalue={amount}\r\n\t\t\t\t\t\t\t\t\t\tvalidators={['minNumber:50']}\r\n\t\t\t\t\t\t\t\t\t\terrorMessages={['Minimum is 100']}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid item xs={2} sm={2} md={2} lg={2} >\r\n\t\t\t\t\t\t\t\t\t<VsButton name=\"Add\" />\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={3} sm={3} md={3} lg={3} />\r\n\t\t\t\t\t\t\t</ValidatorForm>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t}\r\n\t\t\t\t<DisplayWalletTable myArray={transactions} />\r\n        <BlankArea />\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport axios from \"axios\";\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { InputAdornment, makeStyles, Container, CssBaseline } from '@material-ui/core';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport SwitchBtn from '@material-ui/core/Switch';\r\nimport { usePromiseTracker, trackPromise } from \"react-promise-tracker\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport Box from '@material-ui/core/Box';\r\nimport Modal from 'react-modal';\r\nimport VsButton from \"CustomComponents/VsButton\";\r\nimport { borders } from '@material-ui/system';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport Datetime from \"react-datetime\";\r\nimport \"react-datetime/css/react-datetime.css\";\r\nimport moment from \"moment\";\r\n import VsCancel from \"CustomComponents/VsCancel\";\r\n \r\n \r\nimport {setTab} from \"CustomComponents/CricDreamTabs.js\"\r\n\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\nimport Avatar from \"@material-ui/core/Avatar\"\r\n//import validator from 'validator'\r\n\r\n// styles\r\nimport globalStyles from \"assets/globalStyles\";\r\nimport modalStyles from \"assets/modalStyles\";\r\nimport {dynamicModal } from \"assets/dynamicModal\";\r\n\r\n\r\nimport Switch from \"@material-ui/core/Switch\";\r\nimport Link from '@material-ui/core/Link';\r\n\r\nimport {DisplayPageHeader, ValidComp, BlankArea, DisplayYesNo,\r\nDisplayPatientDetails,\r\n} from \"CustomComponents/CustomComponents.js\"\r\n\r\nimport { LeakRemoveTwoTone, LensTwoTone } from '@material-ui/icons';\r\n\r\n\r\n// icons\r\nimport FileCopyIcon from '@material-ui/icons/FileCopy';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport LocalHospitalIcon from '@material-ui/icons/LocalHospital';\r\n\r\n//colors \r\nimport { \r\nred, blue, yellow, orange, pink, green, brown, deepOrange, lightGreen,\r\n} from '@material-ui/core/colors';\r\n\r\nimport { \r\n\tisMobile, callYesNo,\r\n\tdisablePastDt, disableFutureDt, disableAllDt,\r\n\tvalidateInteger,\r\n\tencrypt, decrypt, \r\n\tleft, right,\r\n\tintString,\r\n\tupdatePatientByFilter,\r\n\tdispAge, dispEmail, dispMobile,\r\n\tordinalSuffix,\r\n\tgetOnlyDate,\r\n} from \"views/functions.js\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\twidth: '100%',\r\n\t}, \r\n\tdateTime: {\r\n\t\tcolor: 'blue',\r\n\t\tfontSize: theme.typography.pxToRem(28),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tbackgroundColor: pink[100],\r\n\t\talign: 'center',\r\n\t\twidth: (isMobile()) ? '60%' : '20%',\r\n\t}, \r\n\tdateTimeNormal: {\r\n\t\tcolor: 'blue',\r\n\t\tfontSize: theme.typography.pxToRem(14),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t//backgroundColor: pink[100],\r\n\t\talign: 'center',\r\n\t\t//width: (isMobile()) ? '60%' : '20%',\r\n\t}, \r\n\tdateTimeBlock: {\r\n\t\tcolor: 'blue',\r\n\t\t//fontSize: theme.typography.pxToRem(28),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t//backgroundColor: pink[100],\r\n\t}, \r\n\tinfo: {\r\n\t\t\tcolor: blue[700],\r\n\t}, \r\n\tfilterRadio: {\r\n\t\t\tfontSize: theme.typography.pxToRem(14),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: '#000000',\t\r\n\t},\r\n\tswitchText: {\r\n\t\tfontSize: theme.typography.pxToRem(14),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t}, \r\n\t\torange: {\r\n\t\t\tbackgroundColor: orange[300],\r\n\t\t\tcolor: '#000000',\r\n\t\t},\r\n    header: {\r\n\t\t\tcolor: '#D84315',\r\n    }, \r\n    error:  {\r\n      // right: 0,\r\n      fontSize: '12px',\r\n      color: red[700],\r\n      // position: 'absolute',\r\n      alignItems: 'center',\r\n      marginTop: '0px',\r\n\t\t},\r\n\t\teditdelete: {\r\n\t\t\tmarginLeft:  '50px',\r\n\t\t\tmarginRight: '50px',\r\n\t\t},\r\n\t\tNoMedicines: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: blue[700]\r\n\t\t},  \r\n\t\tradio: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: \"blue\",\r\n\t\t},\r\n\t\tmedicine: {\r\n\t\t\tfontSize: theme.typography.pxToRem(15),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: blue[700]\r\n\t\t},  \r\n\t\tmodalHeader: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: blue[700]\r\n\t\t},\r\n\t\tmessageText: {\r\n\t\t\tcolor: '#4CC417',\r\n\t\t\tfontSize: 12,\r\n\t\t\t// backgroundColor: green[700],\r\n    },\r\n    symbolText: {\r\n        color: '#4CC417',\r\n        // backgroundColor: green[700],\r\n    },\r\n    button: {\r\n\t\t\tmargin: theme.spacing(0, 1, 0),\r\n    },\r\n\t\ttitle: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: blue[700],\r\n\t\t},\r\n    heading: {\r\n\t\t\tfontSize: theme.typography.pxToRem(15),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t},\r\n\t\taccordianSummary: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\t//backgroundColor: pink[100],\r\n\t\t},\r\n\t\tzeroAppt: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tbackgroundColor: pink[100],\r\n\t\t},\r\n\t\tnormalAccordian: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tbackgroundColor: pink[100],\r\n\t\t},\r\n\t\tselectedAccordian: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tbackgroundColor: yellow[100],\r\n\t\t},\r\n    secondaryHeading: {\r\n      fontSize: theme.typography.pxToRem(15),\r\n      color: theme.palette.text.secondary,\r\n    },\r\n\t\tnoPadding: {\r\n\t\t\tpadding: \"none\", \r\n\t\t},\r\n\tapptName: {\r\n\t\tfontSize: theme.typography.pxToRem(15),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tcolor: blue[700]\r\n\t},  \r\n\tnewAppt: {\r\n\t\tbackgroundColor: pink[100],\r\n\t},\r\n\tallAppt: {\r\n\t\tbackgroundColor: blue[100],\r\n\t},\r\n\tselect: {\r\n\t\tpadding: \"none\", \r\n\t\tbackgroundColor: '#B3E5FC',\r\n\t\tmargin: \"none\",\r\n\t},\r\n\ttable: {\r\n    //minWidth: 750,\r\n  },\r\n  td : {\r\n    border: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n  },\r\n\ttdPending : {\r\n    border: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tborderWidth: 1,\r\n\t\tbackgroundColor: blue[100],\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n  },\r\n\ttdCancel : {\r\n\t\tbackgroundColor: pink[100],\r\n    border: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n  },\r\n\ttdVisit : {\r\n\t\tbackgroundColor: lightGreen[300],\r\n    border: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n  },\r\n\tth: { \r\n\t\tborder: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tfontSize: theme.typography.pxToRem(13),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t//backgroundColor: '#FFA726',\r\n\t\tbackgroundColor: deepOrange[200],\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n\t},\r\n\twd: {\r\n\t\tborder: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tbackgroundColor: '#E0E0E0',\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n\t},\r\n\twe: {\r\n\t\tborder: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tbackgroundColor: '#F8BBD0',\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n\t},\r\n\ttoday: {\r\n\t\tborder: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tbackgroundColor: green[300],\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n\t},\r\n\tnoday: {\r\n\t\tborder: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tbackgroundColor: '#FFFFFF',\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n\t},\r\n\tho: {\r\n\t\tborder: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tbackgroundColor: yellow[400],\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n\t},\r\n}));\r\n\r\nconst VISITTYPE = {pending: \"pending\", cancelled: \"cancelled\", visit: \"\"};\r\n\r\nconst ROWSPERPAGE = 10;\r\nlet dense = false;\r\n\r\nconst yesNoModal = dynamicModal('60%');\r\n\r\nlet searchText = \"\";\r\nfunction setSearchText(sss) { searchText = sss;}\r\n\r\nexport default function Customer() {\r\n  const classes = useStyles();\r\n\tconst gClasses = globalStyles();\r\n\r\n\tconst [registerStatus, setRegisterStatus] = useState(0);\r\n\tconst [referalCode, setReferalCode] = useState(\"\");\r\n  const [userName, setUserName] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [repeatPassword, setRepeatPassword] = useState(\"\");\r\n  const [mobile, setMobile] = useState(\"\");\r\n\t\r\n\tconst [addUser, setAddUser] = useState(false);\r\n\tconst [editUser, setEditUser] = useState(false);\r\n\t\r\n\tconst [customerArray, setCustomerArray] = useState([]);\r\n\tconst [customerData, setCustomerData] = useState({});\r\n\tconst [newRecharge, setNewRecharge] = useState(false);\r\n\tconst [newCustomer, setNewCustomer] = useState(false);\r\n\tconst [radioRecharge, setRadioRecharge] = useState(\"MONTHLY\");\r\n\tconst [newExpiry, setNewExpiry] = useState(new Date());\r\n\tconst [customerName, setCustomerName] = useState(\"\");\r\n\t\r\n\tconst [radioUserType, setRadioUserType] = useState(\"Doctor\");\r\n\tconst [radioCustomerPlan, setRadioCustomerPlan] = useState(\"MONTHLY\");\r\n\tconst [modalIsOpen,setIsOpen] = useState(\"\");\r\n\tfunction openModal(fun) { setIsOpen(fun); }\r\n  function closeModal() { setIsOpen(\"\"); }\t\r\n  function afterOpenModal() {\r\n    // references are now sync'd and can be accessed.\r\n    //subtitle.style.color = '#f00';\r\n  }\r\n\t\r\n\t\r\n  useEffect(() => {\t\r\n\t\tconst getAllCustomers = async () => {\t\t\r\n\t\t\ttry {\r\n\t\t\t\tlet myURL = `${process.env.REACT_APP_AXIOS_BASEPATH}/customer/list`;\r\n\t\t\t\tlet resp = await axios.get(myURL);\r\n\t\t\t\tconsole.log(resp.data);\r\n\t\t\t\tsetCustomerArray(resp.data);\r\n\t\t\t} catch(e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t}\r\n\t\t}\r\n\t\tgetAllCustomers();\r\n  }, []);\r\n\r\n\tfunction handleSelectCustomer(rec) {\r\n\t\tsessionStorage.setItem(\"cid\", rec._id);\r\n\t\tsessionStorage.setItem(\"customerData\", JSON.stringify(rec));\r\n\t}\r\n\t\r\n\tfunction DisplayCustomerList() {\r\n\treturn (\t\r\n\t<Box className={classes.allAppt} width=\"100%\">\r\n\t\t\t<TableContainer>\r\n\t\t\t<Table style={{ width: '100%' }}>\r\n\t\t\t<TableHead>\r\n\t\t\t\t<TableRow align=\"center\">\r\n\t\t\t\t\t<TableCell key={\"TH1\"} colSpan={7} component=\"th\" scope=\"row\" align=\"center\" padding=\"none\"\r\n\t\t\t\t\tclassName={classes.th} >\r\n\t\t\t\t\tCustomer List\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t</TableRow>\r\n\t\t\t\t<TableRow align=\"center\">\r\n\t\t\t\t\t<TableCell key={\"TH21\"} component=\"th\" scope=\"row\" align=\"center\" padding=\"none\"\r\n\t\t\t\t\tclassName={classes.th} >\r\n\t\t\t\t\tCustomer Name\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t<TableCell key={\"TH22\"} component=\"th\" scope=\"row\" align=\"center\" padding=\"none\"\r\n\t\t\t\t\tclassName={classes.th} >\r\n\t\t\t\t\t\tPlan Type\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t<TableCell key={\"TH23\"} component=\"th\" scope=\"row\" align=\"center\" padding=\"none\"\r\n\t\t\t\t\tclassName={classes.th} >\r\n\t\t\t\t\tExpiry Date\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t<TableCell colSpan={4} key={\"TH31\"} component=\"th\" scope=\"row\" align=\"center\" padding=\"none\"\r\n\t\t\t\t\tclassName={classes.th} >\r\n\t\t\t\t\tcmds\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t</TableRow>\r\n\t\t\t</TableHead>\r\n\t\t\t<TableBody>  \r\n\t\t\t{customerArray.map( (a, index) => {\r\n\t\t\t\tlet myExpiry = getOnlyDate(a.expiryDate);\r\n\t\t\t\tlet myClass = (a.enabled) ? classes.tdPending : classes.tdCancel;\r\n\t\t\t\treturn(\r\n\t\t\t\t\t<TableRow key={\"TROW\"+index}>\r\n\t\t\t\t\t<TableCell key={\"TD1\"+index} align=\"center\" component=\"td\" scope=\"row\" align=\"center\" padding=\"none\"\r\n\t\t\t\t\t\tclassName={myClass}>\r\n\t\t\t\t\t\t<Typography className={classes.apptName}>\r\n\t\t\t\t\t\t\t{a.name}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t<TableCell key={\"TD2\"+index} align=\"center\" component=\"td\" scope=\"row\" align=\"center\" padding=\"none\"\r\n\t\t\t\t\t\tclassName={myClass}>\r\n\t\t\t\t\t\t<Typography className={classes.apptName}>\r\n\t\t\t\t\t\t\t{a.plan}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t<TableCell key={\"TD3\"+index} align=\"center\" component=\"td\" scope=\"row\" align=\"center\" padding=\"none\"\r\n\t\t\t\t\t\tclassName={myClass}>\r\n\t\t\t\t\t\t<Typography className={classes.apptName}>\r\n\t\t\t\t\t\t\t{myExpiry}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t<TableCell key={\"TD11\"+index} align=\"center\" component=\"td\" scope=\"row\" align=\"center\" padding=\"none\"\r\n\t\t\t\t\t\tclassName={myClass}>\r\n\t\t\t\t\t\t<Typography className={classes.link}>\r\n\t\t\t\t\t\t\t<Link href=\"#\" variant=\"body2\" disabled={a.enabled === false} onClick={() => {handleSelectCustomer(a) }}>Select</Link>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t<TableCell key={\"TD12\"+index} align=\"center\" component=\"td\" scope=\"row\" align=\"center\" padding=\"none\"\r\n\t\t\t\t\t\tclassName={myClass}>\r\n\t\t\t\t\t\t<Typography className={classes.link}>\r\n\t\t\t\t\t\t<Link href=\"#\" variant=\"body2\" disabled={a.enabled === false}  onClick={() => {setCustomerData(a); setNewExpiry(a.expiryDate); setRadioRecharge(\"\"); setNewRecharge(true); }}>Recharge</Link>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t<TableCell key={\"TD13\"+index} align=\"center\" component=\"td\" scope=\"row\" align=\"center\" padding=\"none\"\r\n\t\t\t\t\t\tclassName={myClass}>\r\n\t\t\t\t\t\t<Typography className={classes.link}>\r\n\t\t\t\t\t\t\t<Link href=\"#\" variant=\"body2\" onClick={() => {handleEnable(a)}}>{\"Set \" + ((a.enabled) ? \"Disable\" : \"Enable\")}</Link>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t<TableCell key={\"TD14\"+index} align=\"center\" component=\"td\" scope=\"row\" align=\"center\" padding=\"none\"\r\n\t\t\t\t\t\tclassName={myClass}>\r\n\t\t\t\t\t\t<Typography className={classes.link}>\r\n\t\t\t\t\t\t\t<Link href=\"#\" variant=\"body2\" onClick={() => {handleNewUser(a)}}>{\"New User\"}</Link>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t</TableRow>\r\n\t\t\t\t)}\r\n\t\t\t)}\r\n\t\t\t</TableBody> \r\n\t\t\t</Table>\r\n\t\t\t</TableContainer>\r\n\t\t</Box>\t\r\n\t)}\r\n\t\r\n\tasync function handleEnable(rec) {\r\n\t\tlet tmpArray = [].concat(customerArray);\r\n\t\tlet tmp = tmpArray.find(x => x._id === rec._id);\r\n\t\ttmp.enabled = !tmp.enabled;\r\n\t\tsetCustomerArray(tmpArray);\r\n\t}\r\n\t\r\n\tfunction handleRecharge(newRadio) {\r\n\t\tlet myExpiry = new Date(customerData.expiryDate);\r\n\t\tswitch (newRadio) {\r\n\t\t\tcase 'LIFETIME' : myExpiry = new Date(2031, 1, 1); break;\r\n\t\t\tcase 'YEARLY': \tmyExpiry.setYear(myExpiry.getFullYear()+1); break;\r\n\t\t\tcase 'MONTHLY': myExpiry.setMonth(myExpiry.getMonth()+1); break;\r\n\t\t}\r\n\t\tsetNewExpiry(myExpiry);\r\n\t\tsetRadioRecharge(newRadio);\r\n\t}\r\n\t\r\n\tfunction DisplayRecharge() {\r\n\tif (!customerData.enabled) return null;\r\n\treturn (\t\r\n\t\t<Box className={classes.tdPending} width=\"100%\">\r\n\t\t\t<VsCancel align=\"right\" onClick={() => {setNewRecharge(false)}} />\r\n\t\t\t<Typography className={classes.title}>{\"Recharge of \"+customerData.name}</Typography>\r\n\t\t\t<BlankArea />\r\n\t\t\t<FormControl component=\"fieldset\">\r\n\t\t\t\t{/*<FormLabel component=\"legend\">Filter on</FormLabel>*/}\r\n\t\t\t\t<RadioGroup row aria-label=\"radioselection\" name=\"radioselection\" value={radioRecharge} \r\n\t\t\t\t\tonChange={() => {handleRecharge(event.target.value); }}\r\n\t\t\t\t>\r\n\t\t\t\t\t<FormControlLabel className={classes.filterRadio} value=\"LIFETIME\" control={<Radio color=\"primary\"/>} label=\"Lifetime\" />\r\n\t\t\t\t\t<FormControlLabel className={classes.filterRadio} value=\"YEARLY\"   control={<Radio color=\"primary\"/>} label=\"Yearly\" />\r\n\t\t\t\t\t<FormControlLabel className={classes.filterRadio} value=\"MONTHLY\"  control={<Radio color=\"primary\"/>} label=\"Monthly\" />\r\n\t\t\t\t</RadioGroup>\r\n\t\t\t</FormControl>\r\n\t\t\t<BlankArea />\r\n\t\t\t<Typography className={classes.title}>{\"Current Expiry: \"+getOnlyDate(customerData.expiryDate)}</Typography>\r\n\t\t\t<BlankArea />\r\n\t\t\t<Typography className={classes.title}>{\"Next    Expiry: \"+getOnlyDate(newExpiry)}</Typography>\r\n\t\t\t<BlankArea />\r\n\t\t\t<VsButton name=\"Update Expiry\" />\r\n\t\t</Box>\r\n\t)}\r\n\t\r\n\tfunction addNewCustomerSubmit() {\r\n\t\talert(\"New Customer to be added\");\r\n\t}\r\n\t\r\n\t\r\n  function ShowResisterStatus() {\r\n    // console.log(`Status is ${registerStatus}`);\r\n    let myMsg;\r\n    switch (registerStatus) {\r\n\t\t\tcase 0:\r\n\t\t\t\tmyMsg = \"\";\r\n\t\t\t\tbreak;\r\n      case 200:\r\n        // setUserName(\"\");\r\n        // setPassword(\"\");\r\n        // setRepeatPassword(\"\");\r\n        // setEmail(\"\");\r\n        myMsg = `User ${userName} successfully regisitered.`;\r\n        break;\r\n      case 602:\r\n        myMsg = \"User Name already in use\";\r\n        break;\r\n      case 603:\r\n        myMsg = \"Email id already in use\";\r\n        break;\r\n      default:\r\n          myMsg = \"Unknown Error\";\r\n          break;\r\n    }\r\n    return(\r\n      <div>\r\n        <Typography className={(registerStatus === 200) ? gClasses.nonerror : gClasses.error}>{myMsg}</Typography>\r\n      </div>\r\n    )\r\n  }\r\n\r\n\tfunction handleNewUser(a) {\r\n\t\tif (!a.enabled) return;\r\n\t\t\r\n\t\tsetUserName(\"\")\r\n\t\tsetEmail(\"\");\r\n\t\tsetMobile(\"\");\r\n\t\t\r\n\t\tsetCustomerData(a);\r\n\t\tsetAddUser(true);\t\r\n\t}\r\n\t\r\n\tfunction addNewUserSubmit() {\r\n\t\talert(\"Add new user\");\r\n\t}\r\n\t\r\n\treturn (\r\n  <div className={gClasses.webPage} align=\"center\" key=\"main\">\r\n\t\t<DisplayPageHeader headerName=\"Customer\" groupName=\"\" tournament=\"\"/>\r\n\t<Container component=\"main\" maxWidth=\"lg\">\r\n\t<CssBaseline />\r\n\t{(newRecharge) &&\r\n\t\t<DisplayRecharge />\r\n\t}\r\n\t{(!newCustomer) &&\r\n\t\t<div align=\"right\">\r\n\t\t<Link href=\"#\" variant=\"body2\" onClick={() => {setNewCustomer(true)}}>{\"Add new Customer\"}</Link>\r\n\t\t</div>\r\n\t}\r\n\t{(newCustomer) &&\r\n\t\t<Box className={classes.tdPending} width=\"100%\">\r\n\t\t\t<VsCancel align=\"right\" onClick={() => {setNewCustomer(false)}} />\r\n\t\t\t<Typography className={classes.title}>{\"Add new Customer\"}</Typography>\r\n\t\t\t<BlankArea />\r\n\t\t\t<ValidatorForm className={gClasses.form} onSubmit={addNewCustomerSubmit}>\r\n\t\t\t\t{/*<TextValidator variant=\"outlined\" fullWidth\r\n\t\t\t\tid=\"referral\" label=\"Referral Code\" name=\"referral\"\r\n\t\t\t\t// defaultValue={userName}\r\n\t\t\t\tonChange={(event) => setReferalCode(event.target.value)}\r\n\t\t\t\tvalidators={['noSpecialCharacters']}\r\n\t\t\t\terrorMessages={[`Special Characters not permitted`]}\r\n\t\t\t\t// error={error.userName}\r\n\t\t\t\t// helperText={helperText.userName}\r\n\t\t\t\tvalue={referalCode}\r\n        />\r\n\t\t\t\t<BlankArea/>*/}\r\n      <FormControl component=\"fieldset\">\r\n\t\t\t<RadioGroup row aria-label=\"radioselection\" name=\"radioselection\" value={radioCustomerPlan} \r\n\t\t\t\tonChange={() => {setRadioCustomerPlan(event.target.value); }}\r\n\t\t\t>\r\n\t\t\t\t<FormControlLabel className={classes.filterRadio} value=\"LIFETIME\" control={<Radio color=\"primary\"/>} label=\"Lifetime\" />\r\n\t\t\t\t<FormControlLabel className={classes.filterRadio} value=\"YEARLY\" \t control={<Radio color=\"primary\"/>} label=\"Yearly\" />\r\n\t\t\t\t<FormControlLabel className={classes.filterRadio} value=\"MONTHLY\"  control={<Radio color=\"primary\"/>} label=\"Monthly\" />\r\n\t\t\t</RadioGroup>\r\n\t\t\t</FormControl>\r\n\t\t\t<TextValidator variant=\"outlined\" required \r\n\t\t\t\tid=\"userName\" label=\"Customer Name\" name=\"username\"\r\n\t\t\t\tvalue={userName}\r\n\t\t\t\tonChange={(event) => setUserName(event.target.value)}\r\n\t\t\t\tvalidators={['required', 'minLength', 'noSpecialCharacters']}\r\n\t\t\t\terrorMessages={['User Name to be provided', 'Mimumum 6 characters required', ]}\r\n      />\r\n\t\t\t<BlankArea/>\r\n      <TextValidator variant=\"outlined\"  required type=\"email\"  \r\n\t\t\t\tlabel=\"Email\" name=\"email\"\r\n\t\t\t\tvalue={email}\r\n\t\t\t\tonChange={(event) => setEmail(event.target.value)}\r\n\t\t\t\tvalidators={['isEmailOK', 'required']}\r\n\t\t\t\terrorMessages={['Invalid Email', 'Email to be provided']}\r\n\t\t\t/>\r\n\t\t\t<BlankArea/>\r\n      <TextValidator variant=\"outlined\" required     \r\n\t\t\t\tlabel=\"Mobile\" name=\"mobile\"\r\n\t\t\t\tvalue={mobile}\r\n\t\t\t\tonChange={(event) => setMobile(event.target.value)}\r\n\t\t\t\tvalidators={['required', 'mobile']}\r\n\t\t\t\terrorMessages={[, 'Mobile to be provided', '10 digit mobile number required']}\r\n      />\r\n\t\t\t{/*<TextValidator variant=\"outlined\" required type=\"password\"\r\n      id=\"password\" label=\"Password\" \r\n      value={password}\r\n      onChange={(event) => setPassword(event.target.value)}\r\n      validators={['required', 'minLength', 'noSpecialCharacters']}\r\n      errorMessages={['Password to be provided', 'Minimum 6 characters required', 'Special characters not permitted']}\r\n\t\t\t/>\r\n      <TextValidator variant=\"outlined\" required type=\"password\"\r\n\t\t\t\tid=\"repeatPassword\" label=\"Repeat Password\" \r\n\t\t\t\tvalue={repeatPassword}\r\n\t\t\t\tonChange={(event) => setRepeatPassword(event.target.value)}\r\n\t\t\t\tvalidators={['isPasswordMatch', 'required']}\r\n\t\t\t\terrorMessages={['password mismatch', 'this field is required']}\r\n\t\t\t/>*/}\r\n\t\t\t<ShowResisterStatus/>\r\n      <BlankArea/>\r\n      <Button\r\n        type=\"submit\"\r\n        fullWidth\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        className={gClasses.submit}\r\n      >\r\n        Register\r\n    </Button>\r\n    </ValidatorForm>\r\n    \r\n    <ValidComp p1={password}/>  \r\n\t\t</Box>\r\n\t}\r\n\t{(addUser) &&\r\n\t\t<Box className={classes.tdPending} width=\"100%\">\r\n\t\t\t<VsCancel align=\"right\" onClick={() => {setAddUser(false)}} />\r\n\t\t\t<Typography className={classes.title}>{\"Add new user for customer \" + customerData.name}</Typography>\r\n\t\t\t<FormControl component=\"fieldset\">\r\n\t\t\t\t{/*<FormLabel component=\"legend\">Filter on</FormLabel>*/}\r\n\t\t\t\t<RadioGroup row aria-label=\"radioselection\" name=\"radioselection\" value={radioUserType} \r\n\t\t\t\t\tonChange={() => {setRadioUserType(event.target.value); }}\r\n\t\t\t\t>\r\n\t\t\t\t\t<FormControlLabel className={classes.filterRadio} value=\"Doctor\"  \tcontrol={<Radio color=\"primary\"/>} label=\"Doctor\" />\r\n\t\t\t\t\t<FormControlLabel className={classes.filterRadio} value=\"Assistant\" control={<Radio color=\"primary\"/>} label=\"Assistant\" />\r\n\t\t\t\t</RadioGroup>\r\n\t\t\t</FormControl>\r\n\t\t\t<BlankArea/>\r\n\t\t\t<ValidatorForm className={gClasses.form} onSubmit={addNewUserSubmit}>\r\n      <TextValidator variant=\"outlined\" required \r\n\t\t\t\tid=\"userName\" label=\"User Name\" name=\"username\"\r\n\t\t\t\tvalue={userName}\r\n\t\t\t\tonChange={(event) => setUserName(event.target.value)}\r\n\t\t\t\tvalidators={['required', 'minLength', 'noSpecialCharacters']}\r\n\t\t\t\terrorMessages={['User Name to be provided', 'Mimumum 6 characters required', ]}\r\n      />\r\n\t\t\t<BlankArea />\r\n      <TextValidator variant=\"outlined\"  required type=\"email\"  \r\n\t\t\t\tlabel=\"Email\" name=\"email\"\r\n\t\t\t\tvalue={email}\r\n\t\t\t\tonChange={(event) => setEmail(event.target.value)}\r\n\t\t\t\tvalidators={['isEmailOK', 'required']}\r\n\t\t\t\terrorMessages={['Invalid Email', 'Email to be provided']}\r\n\t\t\t/>\r\n\t\t\t<BlankArea />\r\n      <TextValidator variant=\"outlined\" required     \r\n\t\t\t\tlabel=\"Mobile\" name=\"mobile\"\r\n\t\t\t\tvalue={mobile}\r\n\t\t\t\tonChange={(event) => setMobile(event.target.value)}\r\n\t\t\t\tvalidators={['required', 'mobile']}\r\n\t\t\t\terrorMessages={[, 'Mobile to be provided', '10 digit mobile number required']}\r\n      />\r\n\t\t\t{/*<TextValidator variant=\"outlined\" required type=\"password\"\r\n      id=\"password\" label=\"Password\" \r\n      value={password}\r\n      onChange={(event) => setPassword(event.target.value)}\r\n      validators={['required', 'minLength', 'noSpecialCharacters']}\r\n      errorMessages={['Password to be provided', 'Minimum 6 characters required', 'Special characters not permitted']}\r\n\t\t\t/>\r\n      <TextValidator variant=\"outlined\" required type=\"password\"\r\n\t\t\t\tid=\"repeatPassword\" label=\"Repeat Password\" \r\n\t\t\t\tvalue={repeatPassword}\r\n\t\t\t\tonChange={(event) => setRepeatPassword(event.target.value)}\r\n\t\t\t\tvalidators={['isPasswordMatch', 'required']}\r\n\t\t\t\terrorMessages={['password mismatch', 'this field is required']}\r\n\t\t\t/>*/}\r\n\t\t\t<ShowResisterStatus/>\r\n      <BlankArea/>\r\n      <Button\r\n        type=\"submit\"\r\n        fullWidth\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        className={gClasses.submit}\r\n      >\r\n        Add New User\r\n    </Button>\r\n    </ValidatorForm>\r\n    \r\n    <ValidComp p1={password}/>  \r\n\t\t</Box>\r\n\t}\r\n\t<DisplayCustomerList />\r\n\t</Container>\r\n  </div>\r\n  );    \r\n}","import React,  { useEffect, useState, useContext } from 'react';\r\nimport { InputAdornment, makeStyles, Container, CssBaseline } from '@material-ui/core';\r\nimport VsButton from \"CustomComponents/VsButton\"\r\n\r\nimport Datetime from \"react-datetime\";\r\nimport DatePicker from \"react-datetime\";\r\nimport \"react-datetime/css/react-datetime.css\";\r\n//import './date-picker.component.bootstrap.css';\r\nimport moment from \"moment\";\r\n\r\nimport Box from '@material-ui/core/Box';\r\nimport Typography from '@material-ui/core/Typography';\r\n// eslint-disable-next-line no-confusing-arrow\r\nconst buildClassNames = (touched, isInvalid) =>\r\ntouched && isInvalid ? 'form-control is-invalid' : 'form-control';\r\n\r\n//colours \r\nimport { red, blue, white,\r\n} from '@material-ui/core/colors';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    backgroundColor: '#FAF5E9',\r\n  },\r\n\tblueButton: {\r\n\t\tbackgroundColor: blue[700],\r\n\t\tcolor: '#FFFFFF',\r\n\t},\r\n\tbuttonStyle: {padding: \"5px 10px\", margin: \"4px 2px\", color: 'white', fontWeight: theme.typography.fontWeightBold, fontSize:'16px', borderRadius: 7, border: 2},\r\n}));\r\n\r\n\r\n/*<style>\r\n.button1 {\r\nbackground-color: red;\r\nborder: none;\r\nborder-radius: 5px;\r\ncolor: black;\r\npadding: 15px 32px;\r\ntext-align: center;\r\nfont-size: 16px;\r\nmargin: 4px 2px;\r\n}\r\n.button2 {\r\nbackground-color: Blue;\r\nborder: dotted;\r\nborder-radius: 9px;\r\ncolor: black;\r\npadding: 15px 32px;\r\ntext-align: center;\r\nfont-size: 16px;\r\nmargin: 4px 2px;\r\n}\r\n.button3 {\r\nbackground-color: green;\r\nborder: double;\r\nborder-radius: 9px;\r\ncolor: black;\r\npadding: 15px 32px;\r\ntext-align: center;\r\nfont-size: 16px;\r\nmargin: 4px 2px;\r\n}\r\n</style>\r\n*/\r\n\r\n// disable future dates\r\nconst today = moment();\r\nconst yesterday = moment().subtract(1, 'day');\r\n\r\n// disable past dates\r\n\r\nexport function disablePastDt(current) {\r\n  return current.isAfter(yesterday);\r\n};\r\n\r\n\r\nexport function disableFutureDt(current) {\r\n  return current.isBefore(today)\r\n}\r\n\r\nexport function disableAllDt(current) {\r\n  return false;\r\n}\r\n\r\nfunction customFuncyion() {\r\n\talert(\"Custome handler for Button Clicked\");\r\n}\r\n\r\nfunction disabled() {\r\n\talert(\"Button disabled\");\r\n}\r\n\r\nexport function GoodButton(props) {\r\nvar bSTyle = {padding: \"5px 10px\", margin: \"4px 2px\", color: 'white', fontSize:'16px', borderRadius: 7, border: 2};\r\nbSTyle.backgroundColor = (props.color) ? props.color: blue[700];\r\n//console.log(bSTyle);\r\nlet _disabled=true;\r\nlet handler=disabled\r\n\r\nif (props.disabled) {\r\n\t// job done\r\n} else {\r\n\tif (props.onClick)\r\n\t\thandler=props.onClick\r\n}\r\nreturn(\t\r\n\t<button style={bSTyle} onClick={handler} >{props.name}</button>\r\n)}\r\n\r\n\r\nexport function Sample()  {\r\n\tconst [startDate, setStartDate] = useState(new Date());\r\n\r\n\tconst [myDate, setMyDate] = useState(new Date());\r\n\tlet yyy = new Date();\r\n\tyyy.setMinutes(0);\r\n\t\r\n\tconst [myTime, setMyTime] = useState(yyy);\r\n\t\r\nfunction handleDate(d) {\r\n\tconsole.log(\"Date handler\");\r\n\tlet xxx = d.toDate();\r\n\tconsole.log(xxx);\r\n}\r\n\r\n\r\nlet myName = \"Click Me\";\r\nfunction MyCustomButton () {\r\n\r\n    return (\r\n      <button>\r\n        {myName}\r\n      </button>\r\n    );\r\n  }\r\n\r\n\r\nfunction VsButton1(props) {\r\nreturn (\r\n\t<Box borderColor=\"primary.main\" borderRadius={7} border={2}>\r\n\t<button onClick={dummy}>Button</button>\r\n\t</Box>\r\n)}\r\n\r\n// border: double;\r\n//border-radius: 9px;\r\n\r\nvar liStyle = {padding: \"5px 10px\", margin: \"4px 2px\", color: 'black', fontSize:'16px', borderRadius: 7, border: 2};\r\n\r\n\r\n\r\n//<button disabled style={liStyle} onClick={dummy} >Button1</button>\r\n\t//<button style={liStyle} onClick={dummy}>Button2</button>\r\nreturn (\r\n<div className=\"form-group\">\r\n\t<VsButton name=\"VS 1\" disabled />\r\n\t<VsButton name=\"VS 2\" color={red[700]} />\r\n\t<VsButton name=\"VS 3\" onClick={customFuncyion} />\r\n\t\r\n\t\r\n <Datetime \r\n\ttimeFormat={false} \r\n\tinitialValue={new Date()}\r\n\tdateFormat=\"DD / MM / yyyy\"\r\n\tisValidDate={disableAllDt}\r\n\tonChange={handleDate}\r\n\t/>\r\n\t\r\n\t<Datetime \r\n\ttimeFormat={false} \r\n\tinitialValue={new Date()}\r\n\tdateFormat=\"DD/MM/yyyy\"\r\n\tisValidDate={disablePastDt}\r\n\tonChange={handleDate}\r\n\t/>\r\n\t\r\n\t<Datetime \r\n\t\tautoWidth\r\n\t\tdateFormat={false} \r\n\t\ttimeFormat=\"HH:mm\"\r\n\t\tinitialValue={yyy}\r\n\t\ttimeConstraints={{minutes: { step: 15, }}}\r\n\t\t/>\r\n</div>\r\n);\r\n};\r\n\r\nexport default Sample;","import React, { useState ,useContex, useEffect} from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Box from '@material-ui/core/Box';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport VsButton from \"CustomComponents/VsButton\";\r\nimport VsCancel from \"CustomComponents/VsCancel\"\r\nimport { useAlert } from 'react-alert'\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport globalStyles from \"assets/globalStyles\";\r\n\r\n// import TextField from '@material-ui/core/TextField';\r\n// import Grid from '@material-ui/core/Grid';\r\n// import Box from '@material-ui/core/Box';\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\n\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport { UserContext } from \"../../UserContext\";\r\nimport axios from \"axios\";\r\nimport {CopyToClipboard} from 'react-copy-to-clipboard';\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\nimport {blue, red, deepOrange, yellow } from '@material-ui/core/colors';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { \r\n  encrypt, decrypt,\r\n  validateSpecialCharacters, validateEmail, isMobile,\r\n} from \"views/functions.js\";\r\nimport { BlankArea, ValidComp, DisplayPageHeader } from 'CustomComponents/CustomComponents.js';\r\nimport { setTab } from \"CustomComponents/CricDreamTabs.js\"\r\nimport { TextField, InputAdornment } from \"@material-ui/core\";\r\nimport VisibilityIcon from '@material-ui/icons/Visibility';\r\nimport VisibilityOffIcon from '@material-ui/icons/VisibilityOff';\r\nimport InfoOutlinedIcon from '@material-ui/icons/InfoOutlined';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  icon : {\r\n    color: blue[900],\r\n    marginRight: theme.spacing(0),\r\n    marginLeft: theme.spacing(0),\r\n  },\r\n\tcommon: {\r\n\t\tpadding: \"10px 10px\", \r\n\t\tmargin: \"10px 10px\", \r\n\t},\r\n\tdesc: {\r\n\t\tfontSize: theme.typography.pxToRem(24),\r\n    fontWeight: theme.typography.fontWeightBold,\t\r\n\t\t\r\n\t},\r\n\tdata: {\r\n\t\tfontSize: theme.typography.pxToRem(24),\r\n    fontWeight: theme.typography.fontWeightBold,\r\n\t\tcolor: 'blue',\r\n\t},\r\n  userMessage: {\r\n    fontSize: theme.typography.pxToRem(10),\r\n    fontWeight: theme.typography.fontWeightBold,\r\n    // color: yellow[900]\r\n  },\r\n  userCode: {\r\n    fontSize: theme.typography.pxToRem(20),\r\n    fontWeight: theme.typography.fontWeightBold,\r\n    color: yellow[900]\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  textColor: {\r\n    color: blue[700],\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  error:  {\r\n      // right: 0,\r\n      fontSize: '12px',\r\n      color: red[700],\r\n      // position: 'absolute',\r\n      alignItems: 'center',\r\n      marginTop: '0px',\r\n  },\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(20),\r\n    fontWeight: theme.typography.fontWeightBold,\r\n    color: blue[700]\r\n  },\r\n  helpMessage: {\r\n    fontSize: theme.typography.pxToRem(14),\r\n    fontWeight: theme.typography.fontWeightBold,\r\n    // color: yellow[900]\r\n  },\r\n  th: { \r\n    spacing: 0,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n    backgroundColor: '#EEEEEE', \r\n    color: deepOrange[700], \r\n    // border: \"1px solid black\",\r\n    fontWeight: theme.typography.fontWeightBold,\r\n  },\r\n  td : {\r\n    spacing: 0,\r\n    // border: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n    height: 10,\r\n  },    \r\n}));\r\n\r\n\r\nexport default function Profile() {\r\n  const classes = useStyles();\r\n\tconst gClasses = globalStyles();\r\n\tconst alert = useAlert();\r\n  const history = useHistory();\r\n\r\n  const [userCode, setUserCode] = useState(\"\");\r\n  const [userName, setUserName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n\tconst [editName, setEditName] = useState(\"\");\r\n\tconst [editEmail, setEditEmail] = useState(\"\");\r\n\tconst [isDrawerOpened, setIsDrawerOpened] = useState(\"\");\r\n\t\r\n  const [groupName, setGroupName] = useState(\"\");\r\n  const [profile, setProfile] = useState({});\r\n  const [registerStatus, setRegisterStatus] = useState(199);\r\n\r\n  const [balance, setBalance] = useState(0);\r\n  const [transactions, setTransactions] = useState([]);\r\n\r\n  const [currentPassword, setCurrentPassword] = useState(\"\");\r\n  const [newPassword, setNewPassword] = useState(\"\");\r\n  const [repeatPassword, setRepeatPassword] = useState(\"\");\r\n\r\n  const [rowsPerPage, setRowsPerPage] = React.useState(5);\r\n  const [emptyRows, setEmptyRows] = React.useState(0);\r\n  const [page, setPage] = React.useState(0);\r\n\r\n  const [copyState, setCopyState] = useState({value: '', copied: false});\r\n\r\n  useEffect(() => {\r\n    const profileInfo = async () => {\r\n      try {\r\n        // get user details\r\n        var userRes = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/user/cricprofile/${sessionStorage.getItem(\"uid\")}`);\r\n        setProfile(userRes.data); // master data for comparison if changed by user\r\n        // setLoginName(userRes.data.loginName);\r\n        setUserCode(sessionStorage.getItem(\"cid\"));\r\n        setCopyState({value: sessionStorage.getItem(\"cid\")})\r\n        setUserName(userRes.data.userName);\r\n        let tmp = decrypt(userRes.data.email);\r\n        setEmail(tmp);\r\n      } catch (e) {\r\n          console.log(e)\r\n      }\r\n    }\r\n    profileInfo();\r\n  }, []);\r\n\r\n  // const { setUser } = useContext(UserContext);\r\n\r\n  \r\n  const handleProfileSubmit = async() => {\r\n    console.log(\"Submit command provided\"); \r\n    let myUserName = document.getElementById(\"username\").value;\r\n    let myEmail = document.getElementById(\"email\").value;\r\n    console.log(myUserName, myEmail);\r\n    setUserName(myUserName);\r\n    setEmail(myEmail);\r\n\r\n    console.log(userName, email);\r\n\r\n    if (myUserName.length < 6) {\r\n      setRegisterStatus(1000);\r\n      return;\r\n    }\r\n\r\n    if (!validateSpecialCharacters(myUserName)) {\r\n      setRegisterStatus(1001);\r\n      return;\r\n    }\r\n\r\n\r\n    if (!validateEmail(myEmail)) {\r\n      setRegisterStatus(1002);\r\n      return;\r\n    }\r\n\r\n    // console.log(profile);\r\n\r\n    if ((profile.email !== myEmail) || (profile.userName !== userName)) {\r\n      // console.log(\"New EMail or user name\");\r\n      let tmp1 = encrypt(myEmail)\r\n      let response = await fetch(`${process.env.REACT_APP_AXIOS_BASEPATH}/user/cricupdateprofile/${sessionStorage.getItem(\"uid\")}/${myUserName}/${tmp1}`);\r\n      \r\n      localStorage.setItem(\"userName\", myUserName);\r\n      setRegisterStatus(response.status);\r\n    }\r\n  }\r\n\r\n  function ShowResisterStatus() {\r\n    // console.log(`Status is ${registerStatus}`);\r\n    let myMsg;\r\n    switch (registerStatus) {\r\n      case 0:\r\n        myMsg = \"\";\r\n        break;\r\n      case 200:\r\n        myMsg = `User details successfully updated`;\r\n        break;\r\n      case 601:\r\n        myMsg = \"Invalid current password\";\r\n        break;\r\n      case 602:\r\n        myMsg = \"Email id already in use\";\r\n        break;\r\n      case 701:\r\n        myMsg = \"Incorrect current password\";\r\n        break;\r\n      case 702:\r\n        myMsg = \"New and repeat password mismatch\";\r\n        break;\r\n      case 703:\r\n          myMsg = \"Curent and  new password are identical\";\r\n          break;\r\n      case 1000:\r\n        myMsg = \"Minimum 6 characters required\";\r\n        break;\r\n      case 1001:\r\n        myMsg = \"Special characters not permitted\";\r\n        break;\r\n      case 1002:\r\n        myMsg = \"Invalid Email id\";\r\n        break;\r\n      case 1003:\r\n        myMsg = \"Invalid current password\";\r\n        break;\r\n      case 199:\r\n        myMsg = ``;\r\n        break;\r\n      default:\r\n        myMsg = \"unKnown error\";\r\n        break;\r\n    }\r\n    return(\r\n      <Typography className={(registerStatus === 200) ? classes.root : classes.error}>{myMsg}</Typography>\r\n    )\r\n  }\r\n\r\n  function UserProfile() {\r\n    return (\r\n      <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Typography component=\"h1\" variant=\"h5\">User Profile</Typography>\r\n        <ValidatorForm className={classes.form} onSubmit={handleProfileSubmit}>\r\n          <TextValidator\r\n              className={classes.textColor}\r\n              variant=\"outlined\"\r\n              required\r\n              fullWidth      \r\n              label=\"User Name\"\r\n              // onChange={(event) => setUserName(event.target.value)}\r\n              id=\"username\"\r\n              name=\"username\"\r\n              // validators={['required', 'minLength', 'noSpecialCharacters']}\r\n              // errorMessages={['User Name to be provided', 'Mimumum 6 characters required', 'Special characters not permitted']}\r\n              // value={userName}\r\n              defaultValue={userName}\r\n          />\r\n          <BlankArea/>\r\n          <TextValidator\r\n              variant=\"outlined\"\r\n              required\r\n              fullWidth      \r\n              label=\"Email\"\r\n              // onChange={(event) => setEmail(event.target.value)}\r\n              id=\"email\"\r\n              name=\"email\"\r\n              type=\"email\"\r\n              // validators={['isEmailOK', 'required']}\r\n              // errorMessages={['Invalid Email', 'Email to be provided']}\r\n              // value={email}\r\n              defaultValue={email}\r\n          />\r\n          {/* <BlankArea/> */}\r\n          {/* <TextValidator\r\n              variant=\"outlined\"\r\n              // required\r\n              fullWidth      \r\n              // readonly\r\n              disabled\r\n              label=\"Default Group\"\r\n              name=\"groupName\"\r\n              value={groupName}\r\n          /> */}\r\n          <ShowResisterStatus/>\r\n          <BlankArea/>\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n          >\r\n            Update\r\n        </Button>\r\n        </ValidatorForm>\r\n      </div>\r\n      <ValidComp />    \r\n      </Container>\r\n    );\r\n  }   \r\n\r\n  function ShowAllWallet() {\r\n    return (\r\n      <div className={classes.paper}>\r\n        <Typography component=\"h1\" variant=\"h5\">Wallet Balance: {balance}</Typography>\r\n        <Table>\r\n        <TableHead p={0}>\r\n            <TableRow align=\"center\">\r\n            <TableCell className={classes.th} p={0} align=\"center\">Date</TableCell>      \r\n            <TableCell className={classes.th} p={0} align=\"center\">Type</TableCell>\r\n            <TableCell className={classes.th} p={0} align=\"center\">Amount</TableCell>\r\n            </TableRow>\r\n        </TableHead>\r\n        < TableBody p={0}>\r\n            {transactions.map( (item, index) => {\r\n              return (\r\n                <TableRow key={index}>\r\n                  <TableCell  className={classes.td} p={0} align=\"center\" >\r\n                    {item.date}\r\n                  </TableCell>\r\n                  <TableCell  className={classes.td} p={0} align=\"center\" >\r\n                    {item.type}\r\n                  </TableCell>\r\n                  <TableCell  className={classes.td} p={0} align=\"center\" >\r\n                    {item.amount}\r\n                  </TableCell>\r\n                </TableRow>\r\n              )\r\n            })}\r\n        </TableBody> \r\n        </Table>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    event.preventDefault();\r\n    setPage(newPage);\r\n    let myempty = rowsPerPage - Math.min(rowsPerPage, transactions.length - newPage * rowsPerPage);\r\n    setEmptyRows(myempty);\r\n\r\n  };\r\n\r\n  function ShowWallet() {\r\n    return (\r\n      <div className={classes.paper}>\r\n        <Typography component=\"h1\" variant=\"h5\">Wallet Balance: {balance}</Typography>\r\n        <TableContainer>\r\n        <Table>\r\n        <TableHead p={0}>\r\n            <TableRow align=\"center\">\r\n            <TableCell className={classes.th} p={0} align=\"center\">Date</TableCell>      \r\n            <TableCell className={classes.th} p={0} align=\"center\">Type</TableCell>\r\n            <TableCell className={classes.th} p={0} align=\"center\">Amount</TableCell>\r\n            </TableRow>\r\n        </TableHead>\r\n        < TableBody>\r\n            {transactions.slice(page * rowsPerPage, (page + 1) * rowsPerPage )\r\n            .map( (item, index) => {\r\n              return (\r\n                <TableRow key={index}>\r\n                  <TableCell  className={classes.td} p={0} align=\"center\" >\r\n                    {item.date}\r\n                  </TableCell>\r\n                  <TableCell  className={classes.td} p={0} align=\"center\" >\r\n                    {item.type}\r\n                  </TableCell>\r\n                  <TableCell  className={classes.td} p={0} align=\"center\" >\r\n                    {item.amount}\r\n                  </TableCell>\r\n                </TableRow>\r\n              )\r\n            })}\r\n        </TableBody> \r\n        </Table>\r\n        </TableContainer>\r\n        <TablePagination\r\n          rowsPerPageOptions={[5]}\r\n          component=\"div\"\r\n          count={transactions.length}\r\n          rowsPerPage={rowsPerPage}\r\n          page={page}\r\n          onChangePage={handleChangePage}\r\n          // onChangeRowsPerPage={handleChangeRowsPerPage}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n\r\n  const handlePasswordSubmit = async() => {\r\n    console.log(\"Submit command provided\");\r\n    // let origPassword = document.getElementById(\"currentPassword\").value;\r\n    // let pass1 = document.getElementById(\"newPassword\").value;\r\n    // let pass2 = document.getElementById(\"repeatPassword\").value;\r\n    // console.log(origPassword, pass1, pass2);\r\n    // console.log(currentPassword, newPassword, repeatPassword);\r\n\r\n    // setCurrentPassword(origPassword)\r\n    // setNewPassword(pass1);\r\n    // setRepeatPassword(pass2);\r\n\r\n    let x = getInput();\r\n    if (validate(\"currentPassword\")) return;\r\n    if (validate(\"newPassword\")) return;\r\n    if (validate(\"repeatPassword\", \"newPassword\")) return;\r\n    setRegisterStatus(0);\r\n\r\n    let tmp1 = encrypt(x.currentPassword);\r\n    let tmp2 = encrypt(x.newPassword);\r\n\r\n    let response = await fetch(`${process.env.REACT_APP_AXIOS_BASEPATH}/user/cricreset/${sessionStorage.getItem(\"uid\")}/${tmp1}/${tmp2}`);\r\n    if (response.status === 200) {\r\n      setRegisterStatus(200);\r\n    } else {\r\n      // error\r\n      setRegisterStatus(response.status);\r\n      console.log(`Status is ${response.status}`);\r\n    }\r\n  }\r\n\r\n   \r\n  const [error, setError] = useState({});\r\n  const [helperText, setHelperText] = useState({});\r\n  function validate(eid, eid2) {\r\n    getInput();\r\n    let e = document.getElementById(eid);\r\n    let myValue = e.value; \r\n    // console.log(eid, myValue);\r\n    let newError=false;\r\n    let newText = \"\";\r\n    \r\n    switch (eid) {\r\n      case \"currentPassword\":\r\n      case \"newPassword\":\r\n        if (!validateSpecialCharacters(myValue)) {\r\n          newError = true;\r\n          newText = 'Special characters not permitted';\r\n        } else if (myValue.length < 6) {\r\n          newError = true;\r\n          newText = \"Mimumum 6 characters required\";\r\n        }\r\n      break;\r\n      case \"repeatPassword\":\r\n        let myValue2 = document.getElementById(eid2).value;\r\n        // setRepeatPassword(myValue);\r\n        if (myValue !== myValue2) {\r\n          newError = true;\r\n          newText = 'Password mismatch';\r\n        } \r\n      break;\r\n    }\r\n    \r\n    let x = {};\r\n    x[eid] = newError;\r\n    setError(x);\r\n    \r\n    x = {};\r\n    x[eid] = newText;\r\n    setHelperText(x);\r\n\r\n    // e.focus();\r\n    return newError;\r\n  }\r\n\r\n\r\n  function getInput() {\r\n    let myName = document.getElementById(\"currentPassword\").value;\r\n    let myPass1 = document.getElementById(\"newPassword\").value;\r\n    let myPass2 = document.getElementById(\"repeatPassword\").value;\r\n    // console.log(myName, myPass1, myPass2);\r\n\r\n    setCurrentPassword(myName);\r\n    setNewPassword(myPass1);\r\n    setRepeatPassword(myPass2);\r\n    return {\r\n      currentPassword: myName,\r\n      newPassword: myPass1,\r\n      repeatPassword: myPass2\r\n    }\r\n  }\r\n\r\n  const [showPass0, setShowPass0] = useState(false);\r\n  const [showPass1, setShowPass1] = useState(false);\r\n  const [showPass2, setShowPass2] = useState(false);\r\n\r\n  function handleVisibility0(isVisible) {\r\n    // console.log(\"In visisble 0\", isVisible);\r\n    getInput();\r\n    setShowPass0(isVisible);\r\n    // let e = document.getElementById('password');\r\n    // e.focus();\r\n  }\r\n\r\n  function handleVisibility1(isVisible) {\r\n    // console.log(\"In visisble 1\", isVisible);\r\n    getInput();\r\n    setShowPass1(isVisible);\r\n    // let e = document.getElementById('password');\r\n    // e.focus();\r\n  }\r\n\r\n  function handleVisibility2(isVisible) {\r\n    // console.log(\"In visisble 1\", isVisible);\r\n    getInput();\r\n    setShowPass2(isVisible);\r\n    // let e = document.getElementById('password');\r\n    // e.focus();\r\n  }\r\n\r\n  function Password0NonMobile() {\r\n    return (\r\n      <TextValidator variant=\"outlined\" required fullWidth\r\n      id=\"currentPassword\" label=\"Current Password\" type=\"password\"\r\n      defaultValue={currentPassword}\r\n      // onChange={(event) => validate(\"password\")}\r\n      error={error.currentPassword}\r\n      helperText={helperText.currentPassword}\r\n      // validators={['required', 'minLength', 'noSpecialCharacters']}\r\n      // errorMessages={['Password to be provided', 'Mimumum 6 characters required', 'Special characters not permitted']}\r\n      // value={password}\r\n    />\r\n    );\r\n  }\r\n\r\n\r\n  function Password1NonMobile() {\r\n    return (\r\n      <TextValidator variant=\"outlined\" required fullWidth\r\n      id=\"newPassword\" label=\"New Password\" type=\"password\"\r\n      defaultValue={newPassword}\r\n      // onChange={(event) => validate(\"newPassword\")}\r\n      error={error.newPassword}\r\n      helperText={helperText.newPassword}\r\n      // validators={['required', 'minLength', 'noSpecialCharacters']}\r\n      // errorMessages={['Password to be provided', 'Mimumum 6 characters required', 'Special characters not permitted']}\r\n      // value={password}\r\n    />\r\n    );\r\n  }\r\n\r\n  function Password2NonMobile() {\r\n    return (\r\n      <TextValidator variant=\"outlined\" required fullWidth\r\n      id=\"repeatPassword\" label=\"New Password\" type=\"password\"\r\n      defaultValue={repeatPassword}\r\n      // onChange={(event) => validate(\"repeatPassword\")}\r\n      error={error.repeatPassword}\r\n      helperText={helperText.repeatPassword}\r\n      // validators={['required', 'minLength', 'noSpecialCharacters']}\r\n      // errorMessages={['Password to be provided', 'Mimumum 6 characters required', 'Special characters not permitted']}\r\n      // value={password}\r\n    />\r\n    );\r\n  }\r\n\r\n  function Password0Text() {\r\n    return (\r\n      <TextValidator variant=\"outlined\" required fullWidth\r\n      id=\"currentPassword\" label=\"Current Password\" type=\"text\"\r\n      defaultValue={currentPassword}\r\n      // onChange={(event) => validate(\"currentPassword\")}\r\n      error={error.currentPassword}\r\n      helperText={helperText.currentPassword}\r\n      InputProps={{\r\n        endAdornment: (\r\n          <InputAdornment position=\"end\">\r\n            <VisibilityOffIcon onClick={() => { handleVisibility0(false); }} />\r\n          </InputAdornment>\r\n        ),\r\n      }}\r\n      // validators={['required', 'minLength', 'noSpecialCharacters']}\r\n      // errorMessages={['Password to be provided', 'Mimumum 6 characters required', 'Special characters not permitted']}\r\n      // value={password}\r\n    />\r\n    );\r\n  }\r\n\r\n\r\n  function Password1Text() {\r\n    return (\r\n      <TextValidator variant=\"outlined\" required fullWidth\r\n      id=\"newPassword\" label=\"New Password\" type=\"text\"\r\n      defaultValue={newPassword}\r\n      // onChange={(event) => validate(\"newPassword\")}\r\n      error={error.newPassword}\r\n      helperText={helperText.newPassword}\r\n      InputProps={{\r\n        endAdornment: (\r\n          <InputAdornment position=\"end\">\r\n            <VisibilityOffIcon onClick={() => { handleVisibility1(false); }} />\r\n          </InputAdornment>\r\n        ),\r\n      }}\r\n      // validators={['required', 'minLength', 'noSpecialCharacters']}\r\n      // errorMessages={['Password to be provided', 'Mimumum 6 characters required', 'Special characters not permitted']}\r\n      // value={password}\r\n    />\r\n    );\r\n  }\r\n\r\n  function Password2Text() {\r\n    return (\r\n      <TextValidator variant=\"outlined\" required fullWidth\r\n      id=\"repeatPassword\" label=\"New Password\" type=\"text\"\r\n      defaultValue={repeatPassword}\r\n      // onChange={(event) => validate(\"repeatPassword\")}\r\n      error={error.repeatPassword}\r\n      helperText={helperText.repeatPassword}\r\n      InputProps={{\r\n        endAdornment: (\r\n          <InputAdornment position=\"end\">\r\n            <VisibilityOffIcon onClick={() => { handleVisibility2(false); }} />\r\n          </InputAdornment>\r\n        ),\r\n      }}\r\n      // validators={['required', 'minLength', 'noSpecialCharacters']}\r\n      // errorMessages={['Password to be provided', 'Mimumum 6 characters required', 'Special characters not permitted']}\r\n      // value={password}\r\n    />\r\n    );\r\n  }\r\n\r\n  function Password0Password() {\r\n    return (\r\n      <TextValidator variant=\"outlined\" required fullWidth\r\n      id=\"currentPassword\" label=\"Current Password\" type=\"password\"\r\n      defaultValue={currentPassword}\r\n      // onChange={(event) => validate(\"currentPassword\")}\r\n      error={error.currentPassword}\r\n      helperText={helperText.currentPassword}\r\n      InputProps={{\r\n        endAdornment: (\r\n          <InputAdornment position=\"end\">\r\n            <VisibilityIcon onClick={() => { handleVisibility0(true); }} />\r\n          </InputAdornment>\r\n        ),\r\n      }}\r\n      // validators={['required', 'minLength', 'noSpecialCharacters']}\r\n      // errorMessages={['Password to be provided', 'Mimumum 6 characters required', 'Special characters not permitted']}\r\n      // value={password}\r\n    />\r\n    );\r\n  }\r\n\r\n  function Password1Password() {\r\n    return (\r\n      <TextValidator variant=\"outlined\" required fullWidth\r\n      id=\"newPassword\" label=\"New Password\" type=\"password\"\r\n      defaultValue={newPassword}\r\n      // onChange={(event) => validate(\"newPassword\")}\r\n      error={error.newPassword}\r\n      helperText={helperText.newPassword}\r\n      InputProps={{\r\n        endAdornment: (\r\n          <InputAdornment position=\"end\">\r\n            <VisibilityIcon onClick={() => { handleVisibility1(true); }} />\r\n          </InputAdornment>\r\n        ),\r\n      }}\r\n      // validators={['required', 'minLength', 'noSpecialCharacters']}\r\n      // errorMessages={['Password to be provided', 'Mimumum 6 characters required', 'Special characters not permitted']}\r\n      // value={password}\r\n    />\r\n    );\r\n  }\r\n\r\n  function Password2Password() {\r\n    return (\r\n      <TextValidator variant=\"outlined\" required fullWidth\r\n      id=\"repeatPassword\" label=\"Repeat Password\" type=\"password\"\r\n      defaultValue={repeatPassword}\r\n      // onChange={(event) => validate(\"repeatPassword\")}\r\n      error={error.repeatPassword}\r\n      helperText={helperText.repeatPassword}\r\n      InputProps={{\r\n        endAdornment: (\r\n          <InputAdornment position=\"end\">\r\n            <VisibilityIcon onClick={() => { handleVisibility2(true); }} />\r\n          </InputAdornment>\r\n        ),\r\n      }}\r\n      // validators={['required', 'minLength', 'noSpecialCharacters']}\r\n      // errorMessages={['Password to be provided', 'Mimumum 6 characters required', 'Special characters not permitted']}\r\n      // value={password}\r\n    />\r\n    );\r\n  }\r\n\r\n  function DisplayPassword0() {\r\n    // let tmp = isMobile();\r\n    // console.log(\"is mobile0\", tmp);\r\n    if (isMobile()) {\r\n      if (showPass0) {\r\n        return <Password0Text />\r\n      } else {\r\n        return <Password0Password />\r\n      }\r\n    } else {\r\n      return <Password0NonMobile />\r\n    }\r\n  }\r\n\r\n  function DisplayPassword1() {\r\n    // let tmp = isMobile();\r\n    // console.log(\"is mobile1\", tmp);\r\n    if (isMobile()) {\r\n      if (showPass1) {\r\n        return <Password1Text />\r\n      } else {\r\n        return <Password1Password />\r\n      }\r\n    } else {\r\n      return <Password1NonMobile />\r\n    }\r\n  }\r\n\r\n  function DisplayPassword2() {\r\n    // let tmp = isMobile();\r\n    // console.log(\"is mobile2\", tmp);\r\n    if (isMobile()) {\r\n      if (showPass2) {\r\n        return <Password2Text />\r\n      } else {\r\n        return <Password2Password />\r\n      }\r\n    } else {\r\n      return <Password2NonMobile />\r\n    }\r\n  }\r\n\r\n  function ShowPassword() {\r\n    return (\r\n      <Container component=\"main\" maxWidth=\"xs\">\r\n        <CssBaseline />\r\n        <div className={classes.paper}>\r\n        <Typography component=\"h1\" variant=\"h5\">Change Password</Typography>\r\n        <ValidatorForm className={classes.form} onSubmit={handlePasswordSubmit}>\r\n        <DisplayPassword0 />\r\n        <BlankArea/>\r\n        <DisplayPassword1 />\r\n        <BlankArea/>\r\n        <DisplayPassword2 />\r\n        <ShowResisterStatus/>\r\n        <BlankArea/>\r\n        <Button\r\n          type=\"submit\"\r\n          fullWidth\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          className={classes.submit}\r\n        >\r\n          Update\r\n      </Button>\r\n      </ValidatorForm>\r\n      </div>\r\n      <ValidComp p1={newPassword}/>    \r\n      </Container>\r\n    );  \r\n  }\r\n\r\n  const [expandedPanel, setExpandedPanel] = useState(\"\");\r\n  const handleAccordionChange = (panel) => (event, isExpanded) => {\r\n    setExpandedPanel(isExpanded ? panel : false);\r\n    setRegisterStatus(0);\r\n  };\r\n\r\n  function DisplayUserCode() {\r\n    let myText = copyState.value\r\n    //console.log(\"in user code\");\r\n    return (\r\n        <div>\r\n          {/* <BlankArea/> */}\r\n          <Typography><span className={classes.userMessage}>Share Referral code with your friends and earn bonus </span></Typography>\r\n          <BlankArea/>\r\n          <Typography className={classes.userCode}>{userCode}</Typography>\r\n          <BlankArea/>\r\n          <CopyToClipboard text={myText}\r\n              onCopy={() => setCopyState({copied: true})}>\r\n              <button>Copy to clipboard</button>\r\n          </CopyToClipboard>\r\n          {copyState.copied ? <span style={{color: 'blue'}}>Copied.</span> : null}\r\n        </div>       \r\n      )\r\n  }\r\n  \r\n  function handleInfo() {\r\n    alert(\"scheme info to be displayed\");\r\n  }\r\n\r\n  function DisplayAccordian() {\r\n  return (\r\n    <div>\r\n    <Accordion expanded={expandedPanel === \"userprofile\"} onChange={handleAccordionChange(\"userprofile\")}>\r\n      <AccordionSummary expandIcon={<ExpandMoreIcon />} aria-controls=\"panel1a-content\" id=\"panel1a-header\">\r\n        <Typography className={classes.heading}>View/Edit Profile</Typography>\r\n      </AccordionSummary>\r\n      <AccordionDetails>\r\n        <UserProfile />\r\n      </AccordionDetails>\r\n    </Accordion>\r\n    <Typography align=\"left\" className={classes.helpMessage}>Update Profile</Typography>\r\n    <BlankArea />\r\n    {/* <Accordion expanded={expandedPanel === \"wallet\"} onChange={handleAccordionChange(\"wallet\")}>\r\n      <AccordionSummary expandIcon={<ExpandMoreIcon />} aria-controls=\"panel1a-content\" id=\"panel1a-header\">\r\n          <Typography className={classes.heading}>Wallet Details</Typography>\r\n      </AccordionSummary>\r\n      <AccordionDetails>\r\n        <ShowWallet />\r\n      </AccordionDetails>\r\n    </Accordion>\r\n    <Typography align=\"left\" className={classes.helpMessage}>View Wallet details</Typography>\r\n    <BlankArea /> */}\r\n    <Accordion expanded={expandedPanel === \"password\"} onChange={handleAccordionChange(\"password\")}>\r\n      <AccordionSummary expandIcon={<ExpandMoreIcon />} aria-controls=\"panel1a-content\" id=\"panel1a-header\">\r\n        <Typography className={classes.heading}>Change Password</Typography>\r\n      </AccordionSummary>\r\n      <AccordionDetails>\r\n        <ShowPassword />\r\n      </AccordionDetails>\r\n    </Accordion>\r\n    <Typography align=\"left\" className={classes.helpMessage}>Change Password</Typography>\r\n    <BlankArea />\r\n    <Accordion expanded={expandedPanel === \"code\"} onChange={handleAccordionChange(\"code\")}>\r\n        <AccordionSummary expandIcon={<ExpandMoreIcon />} aria-controls=\"panel1a-content\" id=\"panel1a-header\">\r\n            <Typography className={classes.heading}>Referral Code</Typography>\r\n        </AccordionSummary>\r\n        <AccordionDetails>\r\n        <DisplayUserCode />\r\n      </AccordionDetails>\r\n    </Accordion>\r\n    <IconButton\r\n      aria-label=\"account of current group\"\r\n      aria-controls=\"group-appbar\"\r\n      aria-haspopup=\"true\"\r\n      onClick={handleInfo}\r\n      color=\"inherit\"\r\n      align=\"left\"\r\n    >\r\n      <Typography align=\"left\" className={classes.helpMessage}>Share Referral Code with friends and earn Bonus </Typography>\r\n\t\t\t\t{/* <InfoOutlinedIcon className={classes.icon}/> */}\r\n    </IconButton>\r\n    </div>\r\n  )\r\n  }\r\n  \r\n\tfunction editprofile() {\r\n\t\tsetEditName(userName);\r\n\t\tsetEditEmail(email);\r\n\t\tsetIsDrawerOpened(\"EDIT\");\r\n\t}\r\n\t\r\n\tasync function addNewSubmit() {\r\n\t\ttry {\r\n\t\t\tlet tmp1 = encrypt(editEmail)\r\n\t\t\tawait axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/user/cricupdateprofile/${sessionStorage.getItem(\"uid\")}/${editName}/${tmp1}`);\r\n      // success\r\n      localStorage.setItem(\"userName\", editName);\r\n\t\t\tsetUserName(editName);\r\n\t\t\tsetEmail(editEmail);\r\n\t\t\talert.success(\"Profile successfully updated of user \"+editName);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\talert.error(\"error updating profile of \"+userName);\r\n\t\t}\r\n\t\tsetIsDrawerOpened(\"\")\r\n\t}\r\n\t\r\n\t\r\n  let headerText = sessionStorage.getItem(\"userName\") + \"\\`s Profile\";\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"sm\">\r\n      <CssBaseline />\r\n      <BlankArea />\r\n      <DisplayPageHeader headerName={headerText} groupName=\"\" tournament=\"\"/>\r\n      <BlankArea />\r\n\t\t\t<div align=\"left\">\r\n      <Typography className={classes.common}>\r\n\t\t\t\t<span className={classes.desc}>User Name: </span>\r\n\t\t\t\t<span className={classes.data}>{userName}</span>\r\n\t\t\t</Typography>\r\n      <Typography className={classes.common}>\r\n\t\t\t\t<span className={classes.desc}>User Email: </span>\r\n\t\t\t\t<span className={classes.data}>{email}</span>\r\n\t\t\t</Typography>\r\n\t\t\t<VsButton align=\"center\" name=\"Edit Profile\" onClick={editprofile} />\r\n\t\t\t<BlankArea />\r\n\t\t\t<div >\r\n\t\t\t\t<Typography className={classes.common}>\r\n\t\t\t\t<span className={classes.desc}>User Code: </span>\r\n\t\t\t\t<span className={classes.data}>{userCode}</span>\r\n\t\t\t</Typography>\r\n\t\t\t\t<BlankArea/>\r\n\t\t\t\t<Typography><span className={classes.userMessage}>Share Referral code with your friends and earn bonus </span></Typography>\r\n\t\t\t\t<CopyToClipboard text={copyState.value}\r\n\t\t\t\t\tonCopy={() => setCopyState({copied: true})}>\r\n\t\t\t\t<button>Copy to clipboard</button>\r\n\t\t\t\t</CopyToClipboard>\r\n          {copyState.copied ? <span style={{color: 'blue'}}>Copied.</span> : null}\r\n        </div>       \r\n\t\t\t</div>\r\n\t\t\t<Drawer\r\n\t\t\t\t\topen={isDrawerOpened !== \"\"}\r\n\t\t\t\t\tanchor=\"right\"\r\n\t\t\t\t\tvariant=\"temporary\"\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\tpaper: gClasses.drawerPaper,\r\n\t\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t{(isDrawerOpened === \"EDIT\") &&\r\n\t\t\t\t<Box className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t\t\t\t<VsCancel align=\"right\" onClick={() => {setIsDrawerOpened(\"\")}} />\r\n\t\t\t\t<ValidatorForm align=\"center\" onSubmit={addNewSubmit} className={gClasses.form} >\r\n\t\t\t\t<Typography align=\"center\" className={classes.modalHeader}>\r\n\t\t\t\t\t{\"Edit profile\"}\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<BlankArea />\r\n\t\t\t\t<TextValidator required fullWidth color=\"primary\" className={gClasses.vgSpacing} \r\n\t\t\t\t\tid=\"newName\" label=\"User Name\" name=\"newName\"\r\n\t\t\t\t\tvalue={editName}\r\n\t\t\t\t\tonChange={(event) => setEditName(event.target.value)}\r\n\t\t\t\t\tvalidators={['minLength', 'noSpecialCharacters']}\r\n\t\t\t\t\terrorMessages={['Minimum 6 characters required','Special characters not required']}\r\n\t\t\t\t/>\r\n\t\t\t\t<TextValidator required fullWidth color=\"primary\" className={gClasses.vgSpacing} \r\n\t\t\t\t\tid=\"newName\" label=\"User Email\" type=\"email\"\r\n\t\t\t\t\tvalue={editEmail}\r\n\t\t\t\t\tonChange={(event) => setEditEmail(event.target.value)}\r\n\t\t\t\t\tvalidators={['isEmailOK']}\r\n\t\t\t\t\terrorMessages={['Invalid Email']}\r\n\t\t\t\t/>\r\n\t\t\t\t<VsButton align=\"center\" name= {\"Update\"} />\r\n\t\t\t\t<ValidComp />\r\n\t\t\t\t</ValidatorForm>\r\n\t\t\t</Box>\r\n\t\t\t}\r\n\t\t\t</Drawer>\r\n\t\t</Container>\r\n  );\r\n\r\n}\r\n","import React, { useState ,useContext} from 'react';\r\n//import Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\n// import TextField from '@material-ui/core/TextField';\r\n//import Link from '@material-ui/core/Link';\r\n//import { Switch, Route } from 'react-router-dom';\r\n// import Grid from '@material-ui/core/Grid';\r\n// import Box from '@material-ui/core/Box';\r\n//import LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport {Typography, InputAdornment } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport globalStyles from \"assets/globalStyles\";\r\nimport Container from '@material-ui/core/Container';\r\n//import { UserContext } from \"../../UserContext\";\r\n//import axios from \"axios\";\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\nimport red from '@material-ui/core/colors/red';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { cdRefresh, encrypt} from \"views/functions.js\";\r\nimport { BlankArea, ValidComp } from 'CustomComponents/CustomComponents.js';\r\nimport { setTab } from \"CustomComponents/CricDreamTabs.js\"\r\nimport VisibilityIcon from '@material-ui/icons/Visibility';\r\nimport VisibilityOffIcon from '@material-ui/icons/VisibilityOff';\r\nimport { useAlert } from 'react-alert'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  error:  {\r\n      // right: 0,\r\n      fontSize: '12px',\r\n      color: red[700],\r\n      // position: 'absolute',\r\n      alignItems: 'center',\r\n      marginTop: '0px',\r\n  },\r\n}));\r\n\r\nexport default function ChangePassword() {\r\n  const classes = useStyles();\r\n\tconst gClasses = globalStyles();\r\n\tconst alert = useAlert();\r\n//  const history = useHistory();\r\n  // const [userName, setUserName] = useState(\"\");\r\n  const [currentPassword, setCurrentPassword] = useState(\"\");\r\n  const [newPassword, setNewPassword] = useState(\"\");\r\n  const [repeatPassword, setRepeatPassword] = useState(\"\");\r\n  const [registerStatus, setRegisterStatus] = useState(199);\r\n\r\n\tconst [showCurrentPassword, setShowCurrentPassword] = useState(false);\r\n\tconst [showNewPassword, setShowNewPassword] = useState(false);\r\n\tconst [showRepeatPassword, setShowRepeatPassword] = useState(false);\r\n\t\r\n  const handleSubmit = async() => {\r\n    console.log(\"Submit command provided\");\r\n\t\tif (currentPassword === newPassword) { \r\n\t\t\talert.show(\"Current and New password are identical.\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tlet tmp1 = encrypt(currentPassword);\r\n\t\tlet tmp2 = encrypt(newPassword);\r\n\t\tlet response = await fetch(`${process.env.REACT_APP_AXIOS_BASEPATH}/user/cricchangepassword/${sessionStorage.getItem(\"uid\")}/${tmp1}/${tmp2}`);\r\n\t\tif (response.status === 200) {\r\n\t\t\tsetTab(process.env.REACT_APP_HOME);\r\n\t\t} else {\r\n\t\t\t// error\r\n\t\t\talert.error(\"Error updating new password\");\r\n\t\t\tsetRegisterStatus(response.status);\r\n\t\t\tconsole.log(`Status is ${response.status}`);\r\n\t\t}\r\n    \r\n  }\r\n\r\n\r\n  function ShowResisterStatus() {\r\n    // console.log(`Status is ${registerStatus}`);\r\n    let myMsg;\r\n    switch (registerStatus) {\r\n      case 199:\r\n        myMsg = ``;\r\n        break;\r\n      case 200:\r\n        myMsg = `Updated Password successfully.`;\r\n        break;\r\n      case 602:\r\n        myMsg = \"Invalid Current password\";\r\n        break;\r\n      case 611:\r\n        myMsg = \"New password cannot be same as Current Password\";\r\n        break;\r\n      default:\r\n        myMsg = \"Unknown Error\";\r\n        break;\r\n    }\r\n    return(\r\n      <Typography className={(registerStatus === 200) ? classes.root : classes.error}>{myMsg}</Typography>\r\n    )\r\n}\r\n\r\n  \r\n  return (\r\n\t<Container component=\"main\" maxWidth=\"xs\">\r\n\t<CssBaseline />\r\n\t<div className={classes.paper}>\r\n\t<Typography component=\"h1\" variant=\"h5\">\r\n\t\tChange Password\r\n\t</Typography>\r\n\t<ValidatorForm className={classes.form} onSubmit={handleSubmit}>\r\n\t{(!showCurrentPassword) &&\r\n\t\t<TextValidator variant=\"outlined\" required fullWidth type=\"password\" className={gClasses.vgSpacing}      \r\n\t\t\tlabel=\"Current Password\"\r\n\t\t\tvalue={currentPassword}\r\n\t\t\tonChange={(event) => setCurrentPassword(event.target.value)}\r\n\t\t\tvalidators={['noSpecialCharacters']}\r\n\t\t\terrorMessages={['Special characters not permitted']}\r\n\t\t\tInputProps={{\r\n\t\t\t\tendAdornment: (\r\n\t\t\t\t\t<InputAdornment position=\"end\">\r\n\t\t\t\t\t\t<VisibilityOffIcon onClick={() => { setShowCurrentPassword(true); }} />\r\n\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t),\r\n\t\t\t}}\r\n\t\t/>\r\n\t}\r\n\t{(showCurrentPassword) &&\r\n\t\t<TextValidator variant=\"outlined\" required fullWidth type=\"text\" className={gClasses.vgSpacing}      \r\n\t\t\tlabel=\"Current Password\"\r\n\t\t\tvalue={currentPassword}\r\n\t\t\tonChange={(event) => setCurrentPassword(event.target.value)}\r\n\t\t\tvalidators={['noSpecialCharacters']}\r\n\t\t\terrorMessages={['Special characters not permitted']}\r\n\t\t\tInputProps={{\r\n\t\t\t\tendAdornment: (\r\n\t\t\t\t\t<InputAdornment position=\"end\">\r\n\t\t\t\t\t\t<VisibilityIcon onClick={() => { setShowCurrentPassword(false); }} />\r\n\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t),\r\n\t\t\t}}\r\n\t\t/>\r\n\t}\r\n\t{(!showNewPassword) &&\r\n\t\t<TextValidator variant=\"outlined\" required fullWidth type=\"password\" className={gClasses.vgSpacing}           \r\n\t\t\tlabel=\"Password\"\r\n\t\t\tvalue={newPassword}\r\n\t\t\tonChange={(event) => setNewPassword(event.target.value)}\r\n\t\t\tvalidators={['minLength', 'noSpecialCharacters']}\r\n\t\t\terrorMessages={['Minimum 6 characters required', 'Special characters not permitted']}\r\n\t\t\tInputProps={{\r\n\t\t\t\tendAdornment: (\r\n\t\t\t\t\t<InputAdornment position=\"end\">\r\n\t\t\t\t\t\t<VisibilityOffIcon onClick={() => { setShowNewPassword(true); }} />\r\n\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t),\r\n\t\t\t}}\r\n\t\t/>\r\n\t}\r\n\t{(showNewPassword) &&\r\n\t\t<TextValidator variant=\"outlined\" required fullWidth type=\"text\" className={gClasses.vgSpacing}           \r\n\t\t\tlabel=\"Password\"\r\n\t\t\tvalue={newPassword}\r\n\t\t\tonChange={(event) => setNewPassword(event.target.value)}\r\n\t\t\tvalidators={['minLength', 'noSpecialCharacters']}\r\n\t\t\terrorMessages={['Minimum 6 characters required', 'Special characters not permitted']}\r\n\t\t\tInputProps={{\r\n\t\t\t\tendAdornment: (\r\n\t\t\t\t\t<InputAdornment position=\"end\">\r\n\t\t\t\t\t\t<VisibilityIcon onClick={() => { setShowNewPassword(false); }} />\r\n\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t),\r\n\t\t\t}}\r\n\t\t/>\r\n\t}\r\n\t{(!showRepeatPassword) &&\r\n\t\t<TextValidator variant=\"outlined\" required fullWidth type=\"password\" className={gClasses.vgSpacing}                \r\n\t\t\tlabel=\"Repeat password\"\r\n\t\t\tvalue={repeatPassword}\r\n\t\t\tonChange={(event) => setRepeatPassword(event.target.value)}\r\n\t\t\tvalidators={['isPasswordMatch', 'required']}\r\n\t\t\terrorMessages={['password mismatch', 'this field is required']}\r\n\t\t\tInputProps={{\r\n\t\t\t\tendAdornment: (\r\n\t\t\t\t\t<InputAdornment position=\"end\">\r\n\t\t\t\t\t\t<VisibilityOffIcon onClick={() => { setShowRepeatPassword(true); }} />\r\n\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t),\r\n\t\t\t}}\t\t/>\r\n\t}\r\n\t{(showRepeatPassword) &&\r\n\t\t<TextValidator variant=\"outlined\" required fullWidth type=\"text\" className={gClasses.vgSpacing}                \r\n\t\t\tlabel=\"Repeat password\"\r\n\t\t\tvalue={repeatPassword}\r\n\t\t\tonChange={(event) => setRepeatPassword(event.target.value)}\r\n\t\t\tvalidators={['isPasswordMatch', 'required']}\r\n\t\t\terrorMessages={['password mismatch', 'this field is required']}\r\n\t\t\tInputProps={{\r\n\t\t\t\tendAdornment: (\r\n\t\t\t\t\t<InputAdornment position=\"end\">\r\n\t\t\t\t\t\t<VisibilityIcon onClick={() => { setShowRepeatPassword(false); }} />\r\n\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t),\r\n\t\t\t}}\t\t/>\r\n\t}\r\n\t<Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\" className={classes.submit}>\r\n\t\tUpdate\r\n\t</Button>\r\n\t</ValidatorForm>\r\n\t</div>\r\n\t<ValidComp p1={newPassword}/>    \r\n\t</Container>\r\n\t);\r\n}\r\n","import {\r\n  warningColor,\r\n  primaryColor,\r\n  dangerColor,\r\n  successColor,\r\n  infoColor,\r\n  roseColor,\r\n  grayColor,\r\n  defaultFont\r\n} from \"assets/jss/material-dashboard-react.js\";\r\n\r\nconst tableStyle = theme => ({\r\n  root: {\r\n    '& > *': {\r\n      borderBottom: 'unset',\r\n    }\r\n  },\r\n  warningTableHeader: {\r\n    color: warningColor[0]\r\n  },\r\n  primaryTableHeader: {\r\n    color: primaryColor[0]\r\n  },\r\n  dangerTableHeader: {\r\n    color: dangerColor[0]\r\n  },\r\n  successTableHeader: {\r\n    color: successColor[0]\r\n  },\r\n  infoTableHeader: {\r\n    color: infoColor[0]\r\n  },\r\n  roseTableHeader: {\r\n    color: roseColor[0]\r\n  },\r\n  grayTableHeader: {\r\n    color: grayColor[0]\r\n  },\r\n  table: {\r\n    marginBottom: \"0\",\r\n    width: \"100%\",\r\n    maxWidth: \"100%\",\r\n    backgroundColor: \"transparent\",\r\n    borderSpacing: \"0\",\r\n    borderCollapse: \"collapse\"\r\n  },\r\n  tableHeadCell: {\r\n    color: \"inherit\",\r\n    ...defaultFont,\r\n    \"&, &$tableCell\": {\r\n      fontSize: \"1em\"\r\n    }\r\n  },\r\n  tableCell: {\r\n    ...defaultFont,\r\n    lineHeight: \"1.42857143\",\r\n    padding: \"12px 8px\",\r\n    verticalAlign: \"middle\",\r\n    fontSize: \"0.8125rem\"\r\n  },\r\n  tableResponsive: {\r\n    width: \"100%\",\r\n    marginTop: theme.spacing(3),\r\n    overflowX: \"auto\"\r\n  },\r\n  tableHeadRow: {\r\n    height: \"56px\",\r\n    color: \"inherit\",\r\n    display: \"table-row\",\r\n    outline: \"none\",\r\n    verticalAlign: \"middle\"\r\n  },\r\n  tableBodyRow: {\r\n    height: \"48px\",\r\n    color: \"inherit\",\r\n    display: \"table-row\",\r\n    outline: \"none\",\r\n    verticalAlign: \"middle\",\r\n    '& > *': {\r\n      borderBottom: 'unset',\r\n    }\r\n  }\r\n});\r\n\r\nexport default tableStyle;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n// @material-ui/core components\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport Collapse from '@material-ui/core/Collapse';\r\n// core components\r\nimport styles from \"assets/jss/material-dashboard-react/components/tableStyle.js\";\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\nexport default function CustomTable(props) {\r\n  const classes = useStyles();\r\n  const { tableKey, tableHead, tableData, tableHeaderColor } = props;\r\n  return (\r\n    <div className={classes.tableResponsive} key={tableKey}>\r\n      <Table className={classes.table} key={tableKey}>\r\n        {tableHead !== undefined ? (\r\n          <TableHead className={classes[tableHeaderColor + \"TableHeader\"]}>\r\n            <TableRow className={classes.tableHeadRow}>\r\n              {tableHead.map((prop, key) => {\r\n                return (\r\n                  <TableCell\r\n                    className={classes.tableCell + \" \" + classes.tableHeadCell}\r\n                    key={key}\r\n                  >\r\n                    {prop}\r\n                  </TableCell>\r\n                );\r\n              })}\r\n            </TableRow>\r\n          </TableHead>\r\n        ) : null}\r\n        <TableBody>\r\n          {tableData.map((prop, key) => {\r\n            return (\r\n              <React.Fragment>\r\n              <TableRow key={key} className={classes.TableBodyRow}>\r\n                {prop.data.map((prop, key) => {\r\n                  return (\r\n                    <TableCell className={classes.tableCell} key={key}>\r\n                      {prop}\r\n                    </TableCell>\r\n                  );\r\n                })}\r\n              </TableRow>\r\n              <TableRow key={key}  selected={true}>\r\n                {prop.collapse.map((prop, key) => {\r\n                  return (\r\n                    <TableCell key={key} style={{ paddingBottom: 0, paddingTop: 0 }}>\r\n                   <Collapse in={true} timeout=\"auto\" unmountOnExit>\r\n                     {prop}\r\n                   </Collapse>\r\n                    </TableCell>\r\n                  );\r\n                })}\r\n              </TableRow>\r\n              </React.Fragment>\r\n            );\r\n          })}\r\n        </TableBody>\r\n      </Table>\r\n    </div>\r\n  );\r\n}\r\n\r\nCustomTable.defaultProps = {\r\n  tableHeaderColor: \"gray\"\r\n};\r\n\r\nCustomTable.propTypes = {\r\n  tableHeaderColor: PropTypes.oneOf([\r\n    \"warning\",\r\n    \"primary\",\r\n    \"danger\",\r\n    \"success\",\r\n    \"info\",\r\n    \"rose\",\r\n    \"gray\"\r\n  ]),\r\n  tableHead: PropTypes.arrayOf(PropTypes.string),\r\n  tableData: PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.string))\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport clsx from 'clsx';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport { Player } from 'video-react';\r\nimport Button from '@material-ui/core/Button';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Table from \"components/Table/Table.js\";\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {BlankArea, JumpButtonOnly} from \"CustomComponents/CustomComponents.js\"\r\n// import styles from \"assets/jss/material-dashboard-react/views/dashboardStyle.js\";\r\n//import socketIOClient from \"socket.io-client\";\r\nimport { DisplayPageHeader, DisplayVersion } from 'CustomComponents/CustomComponents.js';\r\nimport {currentAPLVersion, latestAPLVersion} from \"views/functions.js\";\r\nimport { blue, red } from '@material-ui/core/colors'; \r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n  },\r\n  card: {\r\n    backgroundColor: '#B3E5FC',\r\n  },\r\n  t20Card: {\r\n    backgroundColor: '#D3D3D3',\r\n  },\r\n  odiCard: {\r\n    backgroundColor: '#B3E5FC',\r\n  },\r\n  testCard: {\r\n    backgroundColor: '#FFC0CB',\r\n  },\r\n  note: {\r\n    fontWeight: theme.typography.fontWeightBold,\r\n    fontStyle: \"italic\",\r\n  },\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(20),\r\n    fontWeight: theme.typography.fontWeightBold,\r\n    color: blue[800],\r\n  },\r\n  bold: {\r\n    fontSize: theme.typography.pxToRem(18),\r\n    fontWeight: theme.typography.fontWeightBold,\r\n  },\r\n  media: {\r\n    height: 0,\r\n    //paddingTop: '56.25%', // 16:9\r\n    paddingTop: '100%', // 16:9\r\n  },\r\n  expand: {\r\n    transform: 'rotate(0deg)',\r\n    marginLeft: 'auto',\r\n    transition: theme.transitions.create('transform', {\r\n      duration: theme.transitions.duration.shortest,\r\n    }),\r\n  },\r\n  expandOpen: {\r\n    transform: 'rotate(180deg)',\r\n  },\r\n  avatar: {\r\n    backgroundColor: red[500],\r\n  },\r\n}));\r\n  \r\n\r\nexport default function PsPage() { \r\n  const classes = useStyles();\r\n   const [matchType, setMatchType] = useState(\"T20\");\r\n\r\n\r\n  useEffect(() => {  \r\n  }, []);\r\n\r\n\r\n  \r\n\r\n  function Note() {\r\n    return (\r\n    <Typography className={classes.note}>Note:</Typography>\r\n    )}\r\n\r\n  function DisplayBold(props) {\r\n  return (\r\n    <Typography className={classes.bold} paragraph>{props.message}</Typography>  \r\n  )}\r\n\r\n  function DisplayHeader(props) {\r\n  return(\r\n    <AccordionSummary expandIcon={<ExpandMoreIcon />} aria-controls=\"panel1a-content\" id=\"panel1a-header\">\r\n    <Typography className={classes.heading}>{props.header}</Typography>\r\n    </AccordionSummary>   \r\n  )}\r\n  \r\n  function DisplayPoint(props) {\r\n  return (\r\n  <div>\r\n  <Grid key={props.akey} container>\r\n  <Grid item xs={8} sm={8} md={8} lg={8} >\r\n  <Typography>{props.akey}</Typography>\r\n  {/* <Typography paragraph>{props.value}</Typography> */}\r\n  </Grid>\r\n  <Grid item xs={4} sm={4} md={4} lg={4} >\r\n  <Typography>{props.value}</Typography>\r\n  </Grid>\r\n  </Grid>\r\n  </div> \r\n  )}\r\n\r\n  function DisplayMatchType() {\r\n  //console.log(matchType);\r\n  return(\r\n    <Grid key=\"matchtype\" align=\"center\" container>\r\n    <Grid item xs={4} sm={4} md={4} lg={4} >\r\n    <Button key=\"mt_t20\" variant=\"contained\" color=\"primary\" size=\"small\"\r\n    className={classes.button} onClick={() => {setMatchType(\"T20\")}}>T20\r\n    </Button>\r\n    </Grid>\r\n    <Grid item xs={4} sm={4} md={4} lg={4} >\r\n    <Button key=\"mt_odi\" variant=\"contained\" color=\"primary\" size=\"small\"\r\n    className={classes.button} onClick={() => {setMatchType(\"ODI\")}}>ODI\r\n    </Button>\r\n    </Grid>\r\n    <Grid item xs={4} sm={4} md={4} lg={4} >\r\n    <Button key=\"mt_test\" variant=\"contained\" color=\"primary\" size=\"small\"\r\n    className={classes.button} onClick={() => {setMatchType(\"TEST\")}}>TEST\r\n    </Button>\r\n    </Grid>\r\n    </Grid>      \r\n  )};\r\n\r\n  function PS_Header(props) {\r\n  return(<h4 align=\"center\">{props.header}</h4>)\r\n  }\r\n\r\n  function T20_PointSystem() {\r\n  return (\r\n    <Card className={classes.t20Card}>\r\n    <CardContent>\r\n    <PS_Header header=\"T20 Point system\" />\r\n    <DisplayBold message=\"Batting Points:\" />\r\n    <DisplayPoint akey=\"● Run\" value=\"1 point\"/>\r\n    <DisplayPoint akey=\"● Boundary bonus\" value=\"1 point\" />\r\n    <DisplayPoint akey=\"● Six bonus\" value=\"2 point\" />\r\n    <DisplayPoint akey=\"● Half century bonus\" value=\"20 point\" />\r\n    <DisplayPoint akey=\"● Century bonus\" value=\"50 point\" />\r\n    <DisplayPoint akey=\"● Double century bonus\" value=\"100 point\" />\r\n    <DisplayPoint akey=\"● Duck Penalty\" value=\"-2 point\" />\r\n    <Note/>\r\n    <Typography paragraph>\r\n    If any player scores century in a match will only \r\n    get bonus point of century no extra \r\n    bonus point for half-century.\r\n    Same rule applies for Double century.\r\n    </Typography>\r\n    <DisplayBold message=\"Bowling Points:\"/>\r\n    <DisplayPoint akey=\"● Wicket (except runout)\" value=\"25 point\" />\r\n    <DisplayPoint akey=\"● 3 wicket bonus\" value=\"20 point\" />\r\n    <DisplayPoint akey=\"● 5 wicket bonus\" value=\"50 point\" />\r\n    <DisplayPoint akey=\"● Maiden Over bonus\" value=\"20 point\" />\r\n    <Note/>\r\n    <Typography paragraph>\r\n    If any player gets 5 wicket in a match only the bonus point of 5 wicket haul is awarded. No extra bonus points for 3 wicket haul. \r\n    </Typography>\r\n    <DisplayBold message=\"Fielding Points:\"/>\r\n    <DisplayPoint akey=\"● Catch\" value=\"4 point\" />\r\n    <DisplayPoint akey=\"● Run out\" value=\"4 point\" />\r\n    <DisplayPoint akey=\"● Stumping\" value=\"6 point\" />\r\n    <BlankArea/>\r\n    <DisplayBold message=\"Economy Points:\"/>\r\n    <DisplayPoint akey=\"● Runs/over <= 6.0\" value=\"2 point\" />\r\n    <DisplayPoint akey=\"● Runs/over >= 9.0\" value=\"-2 point\" />\r\n    <Note/>\r\n    <Typography paragraph>\r\n    Minimum 2 over need to be bowled by player to check economy.\r\n    </Typography>\r\n    <DisplayBold message=\"Performance Points:\"/>\r\n    <DisplayPoint akey=\"● Man of the Match \" value=\"20 point\" />\r\n    <DisplayPoint akey=\"● Tournament Max Runs\" value=\"100 point\" />\r\n    <DisplayPoint akey=\"● Tournament Max Wickets\" value=\"100 point\" />\r\n    <BlankArea/>\r\n    <DisplayBold message=\"Captain and ViceCaptain:\"/>\r\n    <DisplayPoint akey=\"● Captain\" value=\"2x point\" />\r\n    <DisplayPoint akey=\"● ViceCaptain\" value=\"1.5x point\" />\r\n    <Note/>\r\n    <Typography paragraph>\r\n    Only points of runs and wickets will considered for 2x for Captain and 1.5x for ViceCaptain.\r\n    </Typography>\r\n    </CardContent>\r\n    </Card>\r\n  )}\r\n\r\n  function ODI_PointSystem() {\r\n  return(\r\n    <Card className={classes.odiCard}>\r\n    <CardContent>\r\n    <PS_Header header=\"ODI Point system\" />\r\n    <DisplayBold message=\"Batting Points:\" />\r\n    <DisplayPoint akey=\"● Run\" value=\"1 point\"/>\r\n    <DisplayPoint akey=\"● Boundary bonus\" value=\"1 point\" />\r\n    <DisplayPoint akey=\"● Six bonus\" value=\"2 point\" />\r\n    <DisplayPoint akey=\"● Half century bonus\" value=\"20 point\" />\r\n    <DisplayPoint akey=\"● Century bonus\" value=\"50 point\" />\r\n    <DisplayPoint akey=\"● Double century bonus\" value=\"100 point\" />\r\n    <DisplayPoint akey=\"● Duck Penalty\" value=\"-2 point\" />\r\n    <Note/>\r\n    <Typography paragraph>\r\n    If any player scores century in a match will only \r\n    get bonus point of century no extra \r\n    bonus point for half-century.\r\n    Same rule applies for Double century.\r\n    </Typography>\r\n    <DisplayBold message=\"Bowling Points:\"/>\r\n    <DisplayPoint akey=\"● Wicket (except runout)\" value=\"25 point\" />\r\n    <DisplayPoint akey=\"● 4 wicket bonus\" value=\"20 point\" />\r\n    <DisplayPoint akey=\"● 5 wicket bonus\" value=\"50 point\" />\r\n    <DisplayPoint akey=\"● Maiden Over bonus\" value=\"10 point\" />\r\n    <Note/>\r\n    <Typography paragraph>\r\n    If any player gets 5 wicket in a match only the bonus point of 5 wicket haul is awarded. No extra bonus points for 4 wicket haul. \r\n    </Typography>\r\n    <DisplayBold message=\"Fielding Points:\"/>\r\n    <DisplayPoint akey=\"● Catch\" value=\"4 point\" />\r\n    <DisplayPoint akey=\"● Run out\" value=\"4 point\" />\r\n    <DisplayPoint akey=\"● Stumping\" value=\"6 point\" />\r\n    <BlankArea/>\r\n    <DisplayBold message=\"Economy Points:\"/>\r\n    <DisplayPoint akey=\"● Runs/over <= 4.0\" value=\"2 point\" />\r\n    <DisplayPoint akey=\"● Runs/over >= 7.0\" value=\"-2 point\" />\r\n    <Note/>\r\n    <Typography paragraph>\r\n    Minimum 2 over need to be bowled by player to check economy.\r\n    </Typography>\r\n    <DisplayBold message=\"Performance Points:\"/>\r\n    <DisplayPoint akey=\"● Man of the Match \" value=\"20 point\" />\r\n    <DisplayPoint akey=\"● Tournament Max Runs\" value=\"100 point\" />\r\n    <DisplayPoint akey=\"● Tournament Max Wickets\" value=\"100 point\" />\r\n    <BlankArea/>\r\n    <DisplayBold message=\"Captain and ViceCaptain:\"/>\r\n    <DisplayPoint akey=\"● Captain\" value=\"2x point\" />\r\n    <DisplayPoint akey=\"● ViceCaptain\" value=\"1.5x point\" />\r\n    <Note/>\r\n    <Typography paragraph>\r\n    Only points of runs and wickets will considered for 2x for Captain and 1.5x for ViceCaptain.\r\n    </Typography>\r\n    </CardContent>\r\n    </Card>\r\n  )}\r\n\r\n  function TEST_PointSystem() {\r\n    return(\r\n      <Card className={classes.testCard}>\r\n      <CardContent>\r\n      <PS_Header header=\"TEST Point system\" />\r\n      <DisplayBold message=\"Batting Points:\" />\r\n      <DisplayPoint akey=\"● Run\" value=\"1 point\"/>\r\n      <DisplayPoint akey=\"● Boundary bonus\" value=\"1 point\" />\r\n      <DisplayPoint akey=\"● Six bonus\" value=\"2 point\" />\r\n      <DisplayPoint akey=\"● Half century bonus\" value=\"10 point\" />\r\n      <DisplayPoint akey=\"● Century bonus\" value=\"50 point\" />\r\n      <DisplayPoint akey=\"● Double century bonus\" value=\"100 point\" />\r\n      <DisplayPoint akey=\"● Duck Penalty\" value=\"-2 point\" />\r\n      <Note/>\r\n      <Typography paragraph>\r\n      If any player scores century in a match will only \r\n      get bonus point of century no extra \r\n      bonus point for half-century.\r\n      Same rule applies for Double century.\r\n      </Typography>\r\n      <DisplayBold message=\"Bowling Points:\"/>\r\n      <DisplayPoint akey=\"● Wicket (except runout)\" value=\"25 point\" />\r\n      <DisplayPoint akey=\"● 4 wicket bonus\" value=\"20 point\" />\r\n      <DisplayPoint akey=\"● 5 wicket bonus\" value=\"50 point\" />\r\n      <Note/>\r\n      <Typography paragraph>\r\n      If any player gets 5 wicket in a match only the bonus point of 5 wicket haul is awarded. No extra bonus points for 4 wicket haul. \r\n      </Typography>\r\n      <DisplayBold message=\"Fielding Points:\"/>\r\n      <DisplayPoint akey=\"● Catch\" value=\"4 point\" />\r\n      <DisplayPoint akey=\"● Run out\" value=\"4 point\" />\r\n      <DisplayPoint akey=\"● Stumping\" value=\"6 point\" />\r\n      <BlankArea/>\r\n      <DisplayBold message=\"Performance Points:\"/>\r\n      <DisplayPoint akey=\"● Man of the Match \" value=\"20 point\" />\r\n      <DisplayPoint akey=\"● Tournament Max Runs\" value=\"100 point\" />\r\n      <DisplayPoint akey=\"● Tournament Max Wickets\" value=\"100 point\" />\r\n      <BlankArea/>\r\n      <DisplayBold message=\"Captain and ViceCaptain:\"/>\r\n      <DisplayPoint akey=\"● Captain\" value=\"2x point\" />\r\n      <DisplayPoint akey=\"● ViceCaptain\" value=\"1.5x point\" />\r\n      <Note/>\r\n      <Typography paragraph>\r\n      Only points of runs and wickets will considered for 2x for Captain and 1.5x for ViceCaptain.\r\n      </Typography>\r\n      </CardContent>\r\n      </Card>\r\n      )}\r\n  \r\n  function ShowPointSystem() {\r\n  //console.log(\"In Point System\");\r\n  if (matchType === \"TEST\") {\r\n    return (<div><TEST_PointSystem /></div>); \r\n  } else if (matchType === \"ODI\") {\r\n    return (<div><ODI_PointSystem /></div>); \r\n  } else if (matchType === \"T20\") {\r\n    return (<div><T20_PointSystem /></div>); \r\n  } else {\r\n    return (<h5>Unknown match type</h5>); \r\n  }}\r\n  \r\n  \r\n  return (\r\n    <div>\r\n    <DisplayMatchType />\r\n    <ShowPointSystem />\r\n    </div>\r\n  );\r\n}\r\n\r\n","import React, { useRef, useState } from \"react\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { blue, red } from '@material-ui/core/colors';\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\n// import PlayCircleFilledWhiteOutlinedIcon from '@material-ui/icons/PlayCircleFilledWhiteOutlined';\r\n// import PauseCircleOutlineOutlinedIcon from '@material-ui/icons/PauseCircleOutlineOutlined';\r\nimport PlayIcon from '@material-ui/icons/PlayCircleFilledWhiteOutlined';\r\nimport PauseIcon from '@material-ui/icons/PauseCircleOutlineOutlined';\r\nimport MuteIcon from '@material-ui/icons/VolumeOffOutlined';\r\nimport UnMuteIcon from '@material-ui/icons/VolumeMuteOutlined';\r\nimport { Typography } from \"@material-ui/core\";\r\nimport { NextWeekRounded } from \"@material-ui/icons\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  currentTime: {\r\n    color: 'blue',\r\n    marginLeft: '3px',\r\n    marginTop: '0px',\r\n    fontWeight: theme.typography.fontWeightBold,\r\n  },\r\n  duration: {\r\n    color: 'blue',\r\n    // marginLeft: '3px',\r\n    marginTop: '0px',\r\n    fontWeight: theme.typography.fontWeightBold,\r\n  },\r\n  range: {\r\n    backgroundColor: blue[700],\r\n  },\r\n  playIcon: {\r\n    color: 'primary',\r\n  }\r\n}));\r\n\r\nconst iconStyle = { color: \"blue\", paddingRight: \"5px\" };\r\nconst rangeStyle = { backgroundColor: \"blue\"};\r\n\r\nexport default function APLPlayer(props) {\r\n  const videoPlayer = useRef();\r\n  const classes = useStyles();\r\n\r\n  const [currentTime, setCurrentTime] = useState(0);\r\n  const [duration, setDuration] = useState(\"\");\r\n\r\n  const [seekValue, setSeekValue] = useState(0);\r\n  const [userPause, setPause] = useState(true);  \r\n  \r\n  const [mute, setMute] = useState(false);\r\n  const [volume, setVolume] = useState(1);\r\n\r\n  function handlePlay(newPause)  {\r\n    if (newPause) videoPlayer.current.pause();\r\n    else       videoPlayer.current.play();\r\n    setPause((newPause));\r\n  };\r\n\r\n  function handleMute(newMute) {\r\n    console.log(newMute);\r\n    videoPlayer.current.muted = newMute;\r\n    setMute(newMute);\r\n  }\r\n\r\n  const pause = () => {\r\n    videoPlayer.current.pause();\r\n    setPause(true);\r\n  };\r\n\r\n  const stop = () => {\r\n    videoPlayer.current.pause();\r\n    videoPlayer.current.currentTime = 0;\r\n    setPause(true);\r\n  };\r\n\r\n  const setSpeed = (speed) => {\r\n    videoPlayer.current.playbackRate = speed;\r\n  };\r\n\r\n  function timeString(timeInSeconds) { \r\n    let myStr = \"\";\r\n    let hour = Math.floor(timeInSeconds / 3600);\r\n    if (hour > 0) myStr = hour + \":\";\r\n    timeInSeconds = timeInSeconds % 3600;\r\n    \r\n    let minute = Math.floor(timeInSeconds / 60);\r\n    if (((hour !== 0) || (minute !== 0))) \r\n      myStr += (\"0\" + minute).slice(-2) + \":\"\r\n    timeInSeconds = timeInSeconds % 3600;\r\n  \r\n    myStr += (\"0\" + timeInSeconds.toFixed(2)).slice(-5);\r\n\r\n    return myStr;\r\n  }\r\n\r\n  const onPlaying = () => {\r\n    // console.log(videoPlayer.current.currentTime, videoPlayer.current.duration);\r\n    setCurrentTime(videoPlayer.current.currentTime);\r\n    // setCurrentTimeString(timeString(videoPlayer.current.currentTime));\r\n    setSeekValue(\r\n      (videoPlayer.current.currentTime / videoPlayer.current.duration) * 100\r\n    );\r\n    setDuration(videoPlayer.current.duration.toFixed(2));\r\n    if (videoPlayer.current.currentTime === videoPlayer.current.duration) {\r\n      setPause(true);\r\n      setSeekValue(0);\r\n      setCurrentTime(0);\r\n    }\r\n  }; \r\n\r\n\r\n  function PlayPauseButton() {\r\n    if (userPause)\r\n      return <PlayIcon style={iconStyle} onClick={() => { handlePlay(false) }} />\r\n    else\r\n      return <PauseIcon style={iconStyle} onClick={() => { handlePlay(true) }} />\r\n  }\r\n\r\n  function MuteButton() {\r\n    if (mute) \r\n      return <UnMuteIcon style={iconStyle} onClick={ () => { handleMute(false)} } />\r\n    else\r\n      return <MuteIcon style={iconStyle} onClick={ () => { handleMute(true)} } />\r\n  }\r\n\r\n  // let myVideo = `url(${process.env.PUBLIC_URL}/video/DEMO.MP4)`;\r\n  console.log(\"Play video\", props.video);\r\n  return (\r\n    <div className=\"App\">\r\n      <video\r\n        // autoPlay\r\n        width=\"320\"\r\n        height=\"240\"\r\n        ref={videoPlayer}\r\n        volume={volume}\r\n        onTimeUpdate={onPlaying} \r\n      >\r\n        <source                \r\n          // src=\"https://www.learningcontainer.com/wp-content/uploads/2020/05/sample-mp4-file.mp4\"\r\n          // src='https://www.youtube.com/watch?v=rnwlWn603g4'\r\n          src={props.video}\r\n          type=\"video/mp4\"\r\n        />\r\n        Your browser does not support the video tag.\r\n      </video>\r\n      <br />\r\n      <div>\r\n        <PlayPauseButton />\r\n        <MuteButton />\r\n        <label align=\"center\" className={classes.currentTime}>{currentTime.toFixed(2)}</label>\r\n        <input id=\"time\" \r\n          type=\"range\" min=\"0\" max=\"100\" step=\"1\"\r\n          // className={classes.range}\r\n          style={rangeStyle} \r\n          // color=\"primary\"\r\n          // color='#0000FF'\r\n          value={seekValue}\r\n          onChange={(e) => {\r\n            const seekto = videoPlayer.current.duration * (+e.target.value / 100);\r\n            videoPlayer.current.currentTime = seekto;\r\n            setSeekValue(e.target.value);\r\n            // setDuration(videoPlayer.current.duration.toFixed(2));\r\n          }}\r\n        />\r\n        <label align=\"center\" className={classes.duration}>{duration}</label>\r\n        {/* <button onClick={() => setSpeed(1)}>1x</button>\r\n        <button onClick={() => setSpeed(1.5)}>1.5x</button>\r\n        <button onClick={() => setSpeed(2)}>2x</button>  */}\r\n      </div>\r\n    </div>\r\n  );\r\n}"," import React, { useEffect, useState, useRef } from 'react';\r\nimport clsx from 'clsx';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport Avatar from '@material-ui/core/Avatar';\r\n// import { Player } from 'video-react';\r\nimport Button from '@material-ui/core/Button';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Table from \"components/Table/Table.js\";\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {BlankArea} from \"CustomComponents/CustomComponents.js\"\r\n// import styles from \"assets/jss/material-dashboard-react/views/dashboardStyle.js\";\r\n//import socketIOClient from \"socket.io-client\";\r\nimport { DisplayPageHeader, DisplayVersion } from 'CustomComponents/CustomComponents.js';\r\nimport {currentAPLVersion, latestAPLVersion} from \"views/functions.js\";\r\nimport { blue, red } from '@material-ui/core/colors';\r\nimport PsPage from \"views/MED/PSPage\";\r\n// import DisplayDemo from \"views/MED/DisplayDemo\"\r\nimport APLPlayer from './VideoPlayer'; \r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n  },\r\n  card: {\r\n    backgroundColor: '#B3E5FC',\r\n  },\r\n  t20Card: {\r\n    backgroundColor: '#D3D3D3',\r\n  },\r\n  odiCard: {\r\n    backgroundColor: '#B3E5FC',\r\n  },\r\n  testCard: {\r\n    backgroundColor: '#FFC0CB',\r\n  },\r\n  note: {\r\n    fontWeight: theme.typography.fontWeightBold,\r\n    fontStyle: \"italic\",\r\n  },\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(20),\r\n    fontWeight: theme.typography.fontWeightBold,\r\n    color: blue[800],\r\n  },\r\n  bold: {\r\n    fontSize: theme.typography.pxToRem(18),\r\n    fontWeight: theme.typography.fontWeightBold,\r\n  },\r\n  media: {\r\n    height: 0,\r\n    //paddingTop: '56.25%', // 16:9\r\n    paddingTop: '100%', // 16:9\r\n  },\r\n  expand: {\r\n    transform: 'rotate(0deg)',\r\n    marginLeft: 'auto',\r\n    transition: theme.transitions.create('transform', {\r\n      duration: theme.transitions.duration.shortest,\r\n    }),\r\n  },\r\n  expandOpen: {\r\n    transform: 'rotate(180deg)',\r\n  },\r\n  avatar: {\r\n    backgroundColor: red[500],\r\n  },\r\n}));\r\n  \r\n\r\nexport function PlayVideo() {\r\n\r\n}\r\nexport default function About() { \r\n  const classes = useStyles();\r\n  const videoPlayer = useRef();\r\n  // const [expanded, setExpanded] = React.useState(false);\r\n   const [demoType, setDemoType] = useState(\"new\");\r\n   const [currentVersion, setCurrentVersion] = useState(9.9);\r\n   const [latestVersion, setLatestVersion] = useState(8.8);\r\n\r\n  const handleExpandClick = () => {\r\n    setExpanded(!expanded);\r\n  };\r\n\r\n\r\n  useEffect(() => {  \r\n    const getVersion = async () => { \r\n      let v1 = await currentAPLVersion();\r\n      let v2 = await latestAPLVersion();\r\n      setCurrentVersion(v1);\r\n      setLatestVersion(v2);   \r\n    }\r\n    getVersion()\r\n  }, []);\r\n\r\n\r\n  const [expandedPanel, setExpandedPanel] = useState(false);\r\n  const handleAccordionChange = (panel) => (event, isExpanded) => {\r\n    // console.log({ event, isExpanded });\r\n    setExpandedPanel(isExpanded ? panel : false);\r\n  };\r\n  \r\n  function DisplayImage(props) {\r\n    let imageName = `${process.env.PUBLIC_URL}/about/${props.image}`\r\n    return (\r\n    <div>\r\n    <CardMedia className={classes.media} image={imageName} title={props.title} />\r\n    <BlankArea/>\r\n    </div>\r\n    )\r\n  }\r\n\r\n    function DisplayVideo(props) {\r\n      let imageName = `${process.env.PUBLIC_URL}/about/${props.video}`\r\n      console.log(imageName);\r\n      return (\r\n      <Player\r\n        playsInline\r\n        // poster=\"/assets/poster.png\"\r\n        src={imageName}\r\n      />\r\n      )\r\n    }\r\n  \r\n  function DIsplayGif(props) {\r\n    let logo=`${process.env.PUBLIC_URL}/about/${props.gif}`;\r\n    return(\r\n    <div align=\"center\">\r\n    <img align=\"center\" src={logo} alt=\"loading...\" />\r\n    </div>\r\n    )\r\n  };\r\n\r\n  function Note() {\r\n    return (\r\n    <Typography className={classes.note}>Note:</Typography>\r\n    )}\r\n\r\n  function DisplayBold(props) {\r\n  return (\r\n    <Typography className={classes.bold} paragraph>{props.message}</Typography>  \r\n  )}\r\n\r\n  function DisplayHeader(props) {\r\n  return(\r\n    <AccordionSummary expandIcon={<ExpandMoreIcon />} aria-controls=\"panel1a-content\" id=\"panel1a-header\">\r\n    <Typography className={classes.heading}>{props.header}</Typography>\r\n    </AccordionSummary>   \r\n  )}\r\n  \r\n  function DisplayPoint(props) {\r\n  return (\r\n  <div>\r\n  <Grid key={props.akey} container>\r\n  <Grid item xs={8} sm={8} md={8} lg={8} >\r\n  <Typography>{props.akey}</Typography>\r\n  {/* <Typography paragraph>{props.value}</Typography> */}\r\n  </Grid>\r\n  <Grid item xs={4} sm={4} md={4} lg={4} >\r\n  <Typography>{props.value}</Typography>\r\n  </Grid>\r\n  </Grid>\r\n  </div> \r\n  )}\r\n\r\n  \r\n  function PS_Header(props) {\r\n  return(<h4 align=\"center\">{props.header}</h4>)\r\n  }\r\n\r\n  \r\n  function AboutAPL() {\r\n  return (\r\n    <Card className={classes.card}>\r\n    <CardContent>\r\n    <DisplayImage image=\"APLLOGO1.JPG\" title=\"About Auction Premier League\" />\r\n    {/* <DisplayVideo video=\"JOINGROUP.MP4\" /> */}\r\n\r\n    <Typography paragraph>\r\n      Auction Premier League is one of its kind application which lets you create group, auction players to create your own franchise.\r\n      </Typography>\r\n    <Typography paragraph>\r\n      You can create your own group with your friends and family and each of you can own a franchise and have a league of your own just like major leagues.\r\n      </Typography>\r\n    <Typography paragraph>\r\n      During  tournaments every player of your team will fetch you points as he performs in the matches and  your standing on the scoreboard will change accordingly.\r\n      </Typography>\r\n    <Typography paragraph>\r\n      So why wait? Create your own franchise and make watching cricket more enjoying and interesting!!!\r\n      </Typography>\r\n    </CardContent>\r\n    </Card>\r\n  )}\r\n\r\n  function HowtoPlay() {\r\n    return (\r\n      <Card className={classes.card}>\r\n      <CardContent>\r\n      <Typography paragraph>\r\n      You need a Group to play along with friends and/or family.  One among you will create the Group and provide the GroupCode to others so that they can join the group using GroupCode.\r\n      </Typography>\r\n      <DisplayBold message=\"Create New Group\" />\r\n      {/* <DisplayImage image=\"FIRSTIMAGE1.JPG\"/> */}\r\n      <Typography paragraph>\r\n      Click on Group Icon and select “New Group”.\r\n      </Typography>\r\n      <DisplayImage image=\"CREATEGROUP.JPG\"/>\r\n      <Typography paragraph>\r\n      Provide your Group Name.\r\n      </Typography>\r\n      <Typography paragraph>\r\n      Select number of member allowed in the group. The minimum number of members can be between 2 and 15.\r\n      </Typography>\r\n      <Typography paragraph>\r\n      Select Group joining fee for each member. The minimum fee is 50.  User creating/joining group should be the fee amount in the wallet.\r\n      </Typography>\r\n      <Typography paragraph>\r\n      APL keeps on adding the new tournaments. You need to select the tournament for you group.\r\n      </Typography>\r\n      <Typography paragraph>\r\n      Finally click on “Create” to create the group. User who creates the group automatically becomes Administrator (or Owner) of that group.\r\n      </Typography>\r\n      <DisplayImage image=\"NEWGROUP2.JPG\"/>\r\n      <Typography paragraph>\r\n      Once group is successfully created, user can select the number of prizes (between 1 and 5).\r\n      </Typography>\r\n      <Typography paragraph>\r\n      APL provides unique Group Code which can be copied. This can be shared with your friends so that they can join the group.\r\n      </Typography>\r\n      <DisplayBold message=\"Join Group\" />\r\n      {/* <DisplayImage image=\"JOINGROUP.JPG\"/> */}\r\n      {/* <DIsplayGif gif=\"JOINGROUP1.GIF\" /> */}\r\n      <Typography paragraph>\r\n      One can join the group using Group Code (shared by your friend). The only requirement to join the group is Group Code and wallet balance.\r\n      </Typography>\r\n      <Typography paragraph>\r\n      Click on Group icon and select “Join Group”.\r\n      </Typography>\r\n      <Typography paragraph>\r\n      Enter Group Code and Click “Join Group”\r\n      </Typography>\r\n      <DisplayBold message=\"Multiple Groups\" />\r\n      <DisplayImage image=\"MYGROUP4.JPG\"/>\r\n      <Typography paragraph>\r\n      You can be member of many groups. Pages like Dashboard,  Auction,  Myteam,  Stats shows information of only 1 group which you set it as current group.\r\n      </Typography>\r\n      {/* <Typography paragraph>\r\n      You can also configure the group to be selected as current group on Login. This is be done by setting the group as default group (By selecting “Def”).\r\n      </Typography> */}\r\n      <DisplayBold message=\"Group Details\" />\r\n      <DisplayImage image=\"GROUPDETAILS2.JPG\"/>\r\n      <Typography paragraph>\r\n      If you want details of any group just click on Group icon and select “Group Details”. User can update their Franchise name.\r\n      </Typography>\r\n      <Typography paragraph>\r\n      Group Admin has the permission to update group details. This can be done clicking “Edit” Button.\r\n      </Typography>\r\n      <Typography paragraph>\r\n      Group Admin can also change the number of prizes in the range of 1 to 5.\r\n      </Typography>\r\n      <Typography paragraph>\r\n      Group code is avaiable for the user to copy and share it with friends / family to join the group.\r\n      </Typography>\r\n      <DisplayBold message=\"Auction\" />\r\n      <Typography paragraph>\r\n      Once all the members have joined the group, the next step is to purchase tournament players by Auction. All the members are provided 1000 points to purchase players. Note that Auction will not start till all the members have joined the group.\r\n      </Typography>\r\n      <Typography paragraph>\r\n      Click on “Auction”.\r\n      </Typography>\r\n      <Typography paragraph>\r\n      In this Group Admin will be able to view button “Start Auction”. Other  members will get message “Auction yet to start”.\r\n      </Typography>\r\n      <Typography paragraph>\r\n      Once auction has started, player’s details will be shown for auction. Members can bid using button for 5, 10, 15, 20, 25, 50, 70, 75, 100, and 200.\r\n      </Typography>\r\n      <Typography paragraph>\r\n      Once bid amount is not increasing, Admin can sell the player to highest bidder using “Sold” button. The highest bidder will own this player and the bid amount will be deducted from the points.\r\n      </Typography>\r\n      <Typography paragraph>\r\n      If no member is interested in buying the player, Admin can click on “Unsold” button to skip auction for this player.\r\n      </Typography>\r\n      <Typography paragraph>\r\n      Once auction is complete, Admin will click on “Stop Auction” button. After this, all group members will get message indicating end of Auction.\r\n      </Typography>\r\n      <Typography paragraph>\r\n      All the members can view the players purchased during auction by clicking on “My Team” tab.\r\n      </Typography>\r\n      <DisplayBold message=\"Select Captain and Vice Captain\" />\r\n      <Typography paragraph>\r\n      Click on Menu icon and select “Captain”.\r\n      </Typography>\r\n      <Typography paragraph>\r\n      Once all the members have created the team by purchasing players during Auction, user can select any player as Captain and Vice Captain.\r\n      </Typography>\r\n      </CardContent>\r\n      </Card>\r\n    )}\r\n  \r\n    // let myVideo = \"https://www.learningcontainer.com/wp-content/uploads/2020/05/sample-mp4-file.mp4\"\r\n    // let myVideo= \"https://www.youtube.com/watch?v=GwFsx5F3dGk\";\r\n    let myVideo = `${process.env.PUBLIC_URL}/video/AUCTION.MP4`;\r\n    \r\n    return (\r\n    <div className={classes.root}>\r\n      <DisplayPageHeader headerName=\"Help Desk\" groupName=\"\" tournament=\"\"/>\r\n      <BlankArea/>\r\n      {/* <DisplayVersion text=\"Current APL Version\" version={currentVersion}/>\r\n      <DisplayVersion text=\"Latest APL  Version\" version={latestVersion}/>\r\n      <BlankArea/> */}\r\n      <Accordion expanded={expandedPanel === \"demo\"} onChange={handleAccordionChange(\"demo\")}>\r\n        <DisplayHeader header=\"How to Play demo\"/>\r\n        <AccordionDetails>\r\n        {/* <DisplayDemo /> */}\r\n        <APLPlayer video={myVideo} />\r\n        {/* <DIsplayGif gif=\"SAMPLE.GIF\"/> */}\r\n        </AccordionDetails>\r\n      </Accordion>\r\n      <Accordion expanded={expandedPanel === \"about\"} onChange={handleAccordionChange(\"about\")}>\r\n        <DisplayHeader header=\"Auction Permier League\"/>\r\n        <AccordionDetails>\r\n        <AboutAPL />\r\n        </AccordionDetails>\r\n      </Accordion>\r\n      <Accordion expanded={expandedPanel === \"HowtoPlay\"} onChange={handleAccordionChange(\"HowtoPlay\")}>\r\n        <DisplayHeader header=\"How to Play\" />\r\n        <AccordionDetails>\r\n        <HowtoPlay />\r\n        </AccordionDetails>\r\n      </Accordion>\r\n      <Accordion expanded={expandedPanel === \"pointsystem\"} onChange={handleAccordionChange(\"pointsystem\")}>\r\n        <DisplayHeader header=\"Point System\"/>\r\n        <AccordionDetails>\r\n        {/* <DisplayMatchType /> */}\r\n        {/* <PointSystem /> */}\r\n        <PsPage />\r\n        </AccordionDetails>\r\n      </Accordion>\r\n    </div>\r\n  );\r\n}\r\n\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport axios from \"axios\";\r\nimport VsButton from \"CustomComponents/VsButton\";\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\nimport GridContainer from \"components/Grid/GridContainer.js\";\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport { spacing } from '@material-ui/system';\r\nimport globalStyles from \"assets/globalStyles\";\r\nimport { InputAdornment, makeStyles, Container, CssBaseline } from '@material-ui/core';\r\n// import { Switch, Route, Link } from 'react-router-dom';\r\n// import Table from \"components/Table/Table.js\";\r\n// import Table from '@material-ui/core/Table';\r\n// import TableBody from '@material-ui/core/TableBody';\r\n// import TableCell from '@material-ui/core/TableCell';\r\n// import TableContainer from '@material-ui/core/TableContainer';\r\n// import TableHead from '@material-ui/core/TableHead';\r\n// import TablePagination from '@material-ui/core/TablePagination';\r\n// import TableRow from '@material-ui/core/TableRow';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\n// import FormControlLabel from '@material-ui/core/FormControlLabel';\r\n// import Radio from '@material-ui/core/Radio';\r\nimport Box from '@material-ui/core/Box';\r\nimport { UserContext } from \"../../UserContext\";\r\nimport { DisplayPageHeader, BlankArea, JumpButton } from 'CustomComponents/CustomComponents.js';\r\nimport { encrypt, clearBackupData, hasGroup, upGradeRequired, downloadApk } from 'views/functions';\r\nimport { red, blue, deepOrange, grey } from '@material-ui/core/colors';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardIcon from \"components/Card/CardIcon.js\";\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from \"@material-ui/core/CardActions\";\r\nimport CardFooter from \"components/Card/CardFooter.js\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Button from '@material-ui/core/Button';\r\nimport {setTab} from \"CustomComponents/CricDreamTabs.js\"\r\nimport Divider from '@material-ui/core/Divider';\r\nimport ArrowLeftIcon from '@material-ui/icons/ArrowLeft';\r\nimport ArrowRightIcon from '@material-ui/icons/ArrowRight';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Modal from 'react-modal';\r\nimport modalStyles from 'assets/modalStyles';\r\n\r\n\r\n// import NEWTOURNAMENTIMAGE from `${process.env.PUBLIC_URL}/NEWTOURNAMENT.JPG`;\r\n\r\nconst cardStyles = {\r\n  cardImage: {\r\n\t\tpadding: \"1px 1px\", \r\n\t\tmargin: \"1px 1px\", \r\n  }\r\n};\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tboxColor: {\r\n\t\tbackgroundColor: grey[100],\r\n\t},\r\n\tcardImage: {\r\n\t\tpadding: \"1px 1px\", \r\n\t\tmargin: \"1px 1px\", \r\n  },\r\n\ttitle: {\r\n\t\tmargin: \"10px\", \r\n\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tcolor: 'blue',\r\n\t},\r\n\tmessage: {\r\n\t\talign: \"left\",\r\n\t\tmargin: \"10px\", \r\n\t\tfontSize: theme.typography.pxToRem(16),\r\n\t},\r\n\twelcome: {\r\n\t\tmargin: \"30px\", \r\n\t\tfontSize: theme.typography.pxToRem(32),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tcolor: deepOrange[900],\r\n\t},\r\n}));\r\n\r\n\r\n//const PATIENTMSG=\"The patient's anatomy always always should be respected, even if it is absolutely contrary - the decision is contrary to best medical advice and what the physician wahts\";\r\nconst PATIENTMSG=      \"The patient's anatomy always always should be respected by the Doctor, even if it is absolutely contrary.\";\r\nconst APPOINTMENTMSG = \"Events do not just happen, but arrive by appointment. Don't make a wish, make an appointment.\"\r\nconst VISITMSG =       \"Remember visit to Dentist is a two-way street, you are in clinic for your Dental health and so is the Doctor.\"\r\nconst REPORTMSG =      \"The medical report card helps give us a focus and it frames the dialogue for moving forward.\";\r\nconst MEDICINEMSG =    \"Wherever the art of Medicine is loved, there is also a love of Humanity. Love your medicine\";\r\n\r\nconst cardStyle = {padding: \"5px 10px\", margin: \"4px 4px\", backgroundColor: blue[100], color: 'black', fontSize:'14px', borderRadius:7, border: 2};\t\r\n\r\nconst cardData = [\r\n{image: \"APPOINTMENT.JPG\", \ttitle: \"Appointment\", \tmessage: APPOINTMENTMSG, \tsetpos: process.env.REACT_APP_APPT},\r\n{image: \"VISIT.JPG\",       \ttitle: \"Visit\",       \tmessage: VISITMSG,       \tsetpos: process.env.REACT_APP_VISIT},\r\n{image: \"PATIENT.JPG\",     \ttitle: \"Patient\",     \tmessage: PATIENTMSG,     \tsetpos: process.env.REACT_APP_PATIENT},\r\n{image: \"REPORT.JPG\",     \ttitle: \"Report\",     \t\tmessage: REPORTMSG,     \t\tsetpos: process.env.REACT_APP_REPORT},\r\n{image: \"MEDICINE.JPG\",     title: \"Medicine\",      message: MEDICINEMSG,      setpos: process.env.REACT_APP_MEDICINE},\r\n];\r\n\r\n\r\nexport default function Home() {\r\n    // const { setUser } = useContext(UserContext);\r\n    // window.onbeforeunload = () => setUser(\"\")\r\n\tconst classes = useStyles();\r\n\tconst gClasses = globalStyles();\r\n\tconst [custInfo, setCustInfo] = useState({});\r\n\r\n    useEffect(() => {\r\n\t\tconst getCustomerInfo = async () => {\t\t\r\n\t\t\ttry {\r\n\t\t\t\tlet tmp = JSON.parse(sessionStorage.getItem(\"customerData\"));\r\n\t\t\t\tsetCustInfo(tmp);\r\n\t\t\t\t//console.log(tmp)\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t}\r\n\t\t}\r\n\t\t//console.log(sessionStorage.getItem(\"cid\"));\r\n\t\tgetCustomerInfo();\r\n    }, [])\r\n\r\n \r\n\t\r\n\treturn (\r\n\t<div className={gClasses.webPage} align=\"center\" key=\"main\">\r\n\t<Container component=\"main\" maxWidth=\"lg\">\r\n\t<CssBaseline />\r\n\t{(sessionStorage.getItem(\"userType\") === \"Developer\") &&\r\n\t\t<Typography className={classes.welcome}>{\"Welcome Doctor Viraag\"}</Typography>\r\n\t}\r\n\t{(sessionStorage.getItem(\"userType\") !== \"Developer\") &&\r\n\t\t<Typography className={classes.welcome}>{custInfo.welcomeMessage}</Typography>\r\n\t}\r\n\t<Grid container key=\"ALLITEMS\" >\r\n\t\t<Grid item key={\"ITEM0\"} xs={false} sm={false} md={false} lg={1} />\r\n\t\t{cardData.map( (item, index) =>\r\n\t\t\t<Grid item key={\"ITEM\"+index} xs={12} sm={6} md={6} lg={2} >\r\n\t\t\t\t<Box className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} \r\n\t\t\t\tonClick={() => {setTab(item.setpos)}}\r\n\t\t\t\t>\r\n\t\t\t\t<img className={classes.cardImage} src={`${process.env.PUBLIC_URL}/image/${item.image}`} alt=\"ARUN\" />\r\n\t\t\t\t<Typography className={classes.title}>{item.title}</Typography>\r\n\t\t\t\t<div align=\"left\">\r\n\t\t\t\t<Typography className={classes.message}>{item.message}</Typography>\r\n\t\t\t\t</div>\r\n\t\t\t\t</Box>\r\n\t\t\t</Grid>\r\n\t\t)} \r\n\t<Grid item key={\"ITEM100\"} xs={false} sm={false} md={false} lg={1} />\r\n\t</Grid>\r\n\t</Container>\r\n\t</div>\r\n\t);\r\n}\r\n","import React, { useState ,useContext} from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\nimport red from '@material-ui/core/colors/red';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {ValidComp, BlankArea, CricDreamLogo} from \"CustomComponents/CustomComponents.js\"\r\nimport {encrypt} from \"views/functions.js\"\r\nimport { SettingsCellOutlined } from '@material-ui/icons';\r\nimport axios from \"axios\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  error:  {\r\n      // right: 0,\r\n      fontSize: '12px',\r\n      color: red[700],\r\n      // position: 'absolute',\r\n      alignItems: 'center',\r\n      marginTop: '0px',\r\n  },\r\n  textData: {\r\n    fontSize: '14px',\r\n    margin: theme.spacing(0),\r\n  },\r\n}));\r\n\r\n\r\nexport default function ContactUs() {\r\n  const classes = useStyles();\r\n  // const history = useHistory();\r\n  const [feedback, setFeedback] = useState(\"\");\r\n  const [feedbackCode, setFeedbackCode] = useState(\"\");\r\n  const [registerStatus, setRegisterStatus] = useState(0);\r\n\r\n  const handleSubmit = async() => {\r\n    let tmp1 = encrypt(feedback);\r\n    console.log(tmp1);\r\n\r\n    try {\r\n      let response = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/apl/feedback/${localStorage.getItem(\"uid\")}/${tmp1}`);\r\n      setFeedbackCode(response.data);\r\n      //console.log(response);\r\n      setRegisterStatus(200);\r\n    } catch (e) {\r\n      // console.log(response.status);\r\n      console.log(e);\r\n      setRegisterStatus(1001);\r\n    }\r\n\r\n    \r\n  }\r\n\r\n  \r\n  function ShowResisterStatus() {\r\n    let myMsg;\r\n    switch (registerStatus) {\r\n      case 0:\r\n        myMsg = ``;\r\n        break;\r\n      case 200:\r\n        myMsg = `Reference code ${feedbackCode}`;\r\n        break;\r\n      case 1001:\r\n        myMsg = `Error sending feedback`;\r\n        break;\r\n      default:\r\n        myMsg = \"Unknown Error\";\r\n        break;\r\n  }\r\n  return(\r\n    <div>\r\n      <Typography className={(registerStatus === 200) ? classes.root : classes.error}>{myMsg}</Typography>\r\n    </div>\r\n  )}\r\n\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n      {/* <CricDreamLogo /> */}\r\n      {/* <Avatar className={classes.avatar}>\r\n        <LockOutlinedIcon />\r\n      </Avatar> */}\r\n      <Typography component=\"h1\" variant=\"h5\">Contact Us</Typography>\r\n      <br/>\r\n      <p className={classes.textData}>Have any issue or suggestion</p>\r\n      <p className={classes.textData}>Kindly provide the details to Auction Permier League</p>\r\n      <ValidatorForm className={classes.form} onSubmit={handleSubmit}>\r\n      <TextValidator\r\n          variant=\"outlined\"\r\n          required\r\n          fullWidth\r\n          multiline      \r\n          label=\"Feedback\"\r\n          onChange={(event) => setFeedback(event.target.value)}\r\n          name=\"Feedback\"\r\n          type=\"Feedback\"\r\n          value={feedback}\r\n      />\r\n      <ShowResisterStatus/>\r\n      <BlankArea/>\r\n      <Button\r\n        type=\"submit\"\r\n        fullWidth\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        className={classes.submit}\r\n      >\r\n        Submit\r\n    </Button>\r\n    </ValidatorForm>\r\n    </div>\r\n    <ValidComp />    \r\n    </Container>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport clsx from 'clsx';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport { Player } from 'video-react';\r\nimport Button from '@material-ui/core/Button';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Table from \"components/Table/Table.js\";\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {BlankArea, JumpButtonOnly} from \"CustomComponents/CustomComponents.js\"\r\n// import styles from \"assets/jss/material-dashboard-react/views/dashboardStyle.js\";\r\n//import socketIOClient from \"socket.io-client\";\r\nimport { DisplayPageHeader, DisplayVersion } from 'CustomComponents/CustomComponents.js';\r\nimport {currentAPLVersion, latestAPLVersion} from \"views/functions.js\";\r\nimport { blue, red } from '@material-ui/core/colors';\r\nimport PsPage from 'views/MED/PSPage';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n  },\r\n  card: {\r\n    backgroundColor: '#B3E5FC',\r\n  },\r\n  t20Card: {\r\n    backgroundColor: '#D3D3D3',\r\n  },\r\n  odiCard: {\r\n    backgroundColor: '#B3E5FC',\r\n  },\r\n  testCard: {\r\n    backgroundColor: '#FFC0CB',\r\n  },\r\n  note: {\r\n    fontWeight: theme.typography.fontWeightBold,\r\n    fontStyle: \"italic\",\r\n  },\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(20),\r\n    fontWeight: theme.typography.fontWeightBold,\r\n    color: blue[800],\r\n  },\r\n  bold: {\r\n    fontSize: theme.typography.pxToRem(18),\r\n    fontWeight: theme.typography.fontWeightBold,\r\n  },\r\n  media: {\r\n    height: 0,\r\n    //paddingTop: '56.25%', // 16:9\r\n    paddingTop: '100%', // 16:9\r\n  },\r\n  expand: {\r\n    transform: 'rotate(0deg)',\r\n    marginLeft: 'auto',\r\n    transition: theme.transitions.create('transform', {\r\n      duration: theme.transitions.duration.shortest,\r\n    }),\r\n  },\r\n  expandOpen: {\r\n    transform: 'rotate(180deg)',\r\n  },\r\n  avatar: {\r\n    backgroundColor: red[500],\r\n  },\r\n}));\r\n  \r\n\r\nexport default function PointSystem() { \r\n  const classes = useStyles();\r\n  // const [expanded, setExpanded] = React.useState(false);\r\n  //  const [matchType, setMatchType] = useState(\"T20\");\r\n  //  const [currentVersion, setCurrentVersion] = useState(9.9);\r\n  //  const [latestVersion, setLatestVersion] = useState(8.8);\r\n\r\n\r\n  useEffect(() => {  \r\n  }, []);\r\n\r\n\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <DisplayPageHeader headerName=\"Point System\" groupName=\"\" tournament=\"\"/>\r\n      {/* <JumpButtonOnly page={process.env.REACT_APP_HOME} text=\"Home\" />\r\n      <BlankArea /> */}\r\n      <PsPage />\r\n    </div>\r\n  );\r\n}\r\n\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { InputAdornment, makeStyles, Container, CssBaseline } from '@material-ui/core';\r\nimport axios from \"axios\";\r\nimport Checkbox from '@material-ui/core//Checkbox';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport SwitchBtn from '@material-ui/core/Switch';\r\nimport { usePromiseTracker, trackPromise } from \"react-promise-tracker\";\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport VsButton from \"CustomComponents/VsButton\";\r\nimport VsCancel from \"CustomComponents/VsCancel\";\r\nimport { useLoading, Audio } from '@agney/react-loading';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport { useAlert } from 'react-alert';\r\n\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport Box from '@material-ui/core/Box';\r\nimport Modal from 'react-modal';\r\nimport { borders } from '@material-ui/system';\r\nimport {dynamicModal } from \"assets/dynamicModal\";\r\nimport cloneDeep from 'lodash/cloneDeep';\r\n\r\n// styles\r\nimport globalStyles from \"assets/globalStyles\";\r\nimport modalStyles from \"assets/modalStyles\";\r\n\r\n// icons\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport LocalHospitalIcon from '@material-ui/icons/LocalHospital';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport EventNoteIcon from '@material-ui/icons/EventNote';\r\nimport AddIcon from '@material-ui/icons/AddCircleOutline';\r\n\r\nimport Switch from \"@material-ui/core/Switch\";\r\n\r\n\r\nimport Link from '@material-ui/core/Link';\r\n\r\n// import Table from \"components/Table/Table.js\";\r\n// import FormControlLabel from '@material-ui/core/FormControlLabel';\r\n// import Radio from '@material-ui/core/Radio';\r\nimport Card from \"components/Card/Card.js\";\r\nimport CardBody from \"components/Card/CardBody.js\";\r\nimport Avatar from \"@material-ui/core/Avatar\"\r\n// import CardAvatar from \"components/Card/CardAvatar.js\";\r\n// import { useHistory } from \"react-router-dom\";\r\n// import { UserContext } from \"../../UserContext\";\r\n\r\nimport {DisplayYesNo, DisplayPageHeader, ValidComp, BlankArea,\r\nDisplayPatientDetails,\r\nDisplayDocumentList,\r\nDisplayImage, DisplayPDF,\r\nLoadingMessage,\r\nDisplayDocumentDetails,\r\n} from \"CustomComponents/CustomComponents.js\"\r\n\r\nimport {\r\nSupportedMimeTypes, SupportedExtensions,\r\nstr1by4, str1by2, str3by4,\r\nWEEKSTR, SHORTWEEKSTR, BLOCKNUMBER, MINUTEBLOCK,\r\nHOURSTR, MINUTESTR\r\n} from \"views/globals.js\";\r\n\r\n// icons\r\nimport FileCopyIcon from '@material-ui/icons/FileCopy';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\n//import DeleteIcon from '@material-ui/icons/Delete';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport DeleteIcon from '@material-ui/icons/Cancel';\r\nimport VisibilityIcon from '@material-ui/icons/Visibility';\r\n\r\n\r\n//colours \r\nimport { red, blue \r\n} from '@material-ui/core/colors';\r\n\r\nimport { callYesNo, \r\n\tdownloadVisit,\r\n\tencrypt, decrypt, \r\n\tvalidateInteger,\r\n\tupdatePatientByFilter,\r\n\tdispAge, dispEmail, dispMobile,\r\n\tgetPatientDocument,\r\n\tstringToBase64,\r\n} from \"views/functions.js\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tblueCheckBox: {\r\n\t\tcolor: 'blue',\r\n\t},\r\n\tblueCheckBoxLabel: {\r\n\t\tcolor: 'blue',\r\n\t\tfontSize: theme.typography.pxToRem(14),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t},\r\n\tselIndex: {\r\n\t\tcolor: 'blue',\r\n\t\tfontSize: theme.typography.pxToRem(18),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t},\r\n\tunselIndex: {\r\n\t\tfontSize: theme.typography.pxToRem(18),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t},\r\n\tslotTitle: {\r\n\t\tcolor: 'green',\r\n\t\tfontSize: theme.typography.pxToRem(28),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tpadding: \"10px 10px\", \r\n\t\tmargin: \"10px 10px\", \r\n\t},\r\n\r\n\tpatientName: {\r\n\t\tfontSize: theme.typography.pxToRem(16),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\t\r\n\t\tcolor: 'blue',\r\n\t},\r\n\tpatientInfo: {\r\n\t\tfontSize: theme.typography.pxToRem(14),\r\n\t},\r\n    root: {\r\n      width: '100%',\r\n    }, \r\n    info: {\r\n        color: blue[700],\r\n    },     \r\n    header: {\r\n\t\t\tcolor: '#D84315',\r\n    }, \r\n    error:  {\r\n      // right: 0,\r\n      fontSize: '12px',\r\n      color: red[700],\r\n      // position: 'absolute',\r\n      alignItems: 'center',\r\n      marginTop: '0px',\r\n\t\t},\r\n\t\teditdelete: {\r\n\t\t\tmarginLeft:  '50px',\r\n\t\t\tmarginRight: '50px',\r\n\t\t},\r\n\t\tNoMedicines: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: blue[700]\r\n\t\t},  \r\n\t\tradio: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: \"blue\",\r\n\t\t},\r\n\t\tmedicine: {\r\n\t\t\tfontSize: theme.typography.pxToRem(15),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: blue[700]\r\n\t\t},  \r\n\t\tmodalHeader: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: blue[700]\r\n\t\t},\r\n\t\tmessageText: {\r\n\t\t\tcolor: '#4CC417',\r\n\t\t\tfontSize: 12,\r\n\t\t\t// backgroundColor: green[700],\r\n    },\r\n    symbolText: {\r\n        color: '#4CC417',\r\n        // backgroundColor: green[700],\r\n    },\r\n    button: {\r\n\t\t\tmargin: theme.spacing(0, 1, 0),\r\n    },\r\n\t\ttitle: {\r\n\t\t\tfontSize: theme.typography.pxToRem(15),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: blue[700],\r\n\t\t},\r\n    heading: {\r\n\t\t\tfontSize: theme.typography.pxToRem(15),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t},\r\n\t\tnormalAccordian: {\r\n\t\t\tbackgroundColor: '#B2EBF2',\r\n\t\t\tfontSize: theme.typography.pxToRem(28),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t},\r\n\t\tselectedAccordian: {\r\n\t\t\tbackgroundColor: '#FFE0B2',\r\n\t\t\tfontSize: theme.typography.pxToRem(28),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t},\r\n    secondaryHeading: {\r\n      fontSize: theme.typography.pxToRem(15),\r\n      color: theme.palette.text.secondary,\r\n    },\r\n\t\tnoPadding: {\r\n\t\t\tpadding: '1px', \r\n\t\t}\r\n  }));\r\n\r\nconst addEditModal = dynamicModal('60%');\r\nconst yesNoModal = dynamicModal('60%');\r\n\r\nconst COUNTPERPAGE=10;\r\n\r\n\r\nlet test=[];\r\nlet medQty=[];\r\nconst timeArray=[1, 2, 3, 4, 5, 6, 7];\r\nconst unitArray=[\"Day\", \"Week\", \"Month\", \"Year\"];\r\n\r\nvar customerData;\r\nvar userCid;\r\nexport default function WorkingHours() {\r\n  \r\n  const classes = useStyles();\r\n\tconst gClasses = globalStyles();\r\n\tconst alert = useAlert();\r\n\t\r\n\tconst [defaultMorningSlots, setDefaultMorningSlots] = useState([]);\r\n\tconst [defaultAfternoonSlots, setDefaultAfternoonSlots] = useState([]);\r\n\tconst [defaultEveningSlots, setDefaultEveningSlots] = useState([]);\r\n\t\r\n\tconst [workingArray, setWorkingArray] = useState([])\r\n\tconst [currentIndex, setCurrentIndex] = useState(0);\r\n\tconst [morningCB, setMorningCB] = useState(false);\r\n\tconst [afternoonCB, setAfternoonCB] = useState(false);\r\n\tconst [eveningCB, setEveningCB] = useState(false);\r\n\t\r\n\tconst [modalIsOpen,setIsOpen] = useState(\"\");\r\n\tfunction openModal(fun) { setIsOpen(fun); }\r\n  function closeModal() { setIsOpen(\"\"); }\t\r\n  function afterOpenModal() {\r\n    // references are now sync'd and can be accessed.\r\n    //subtitle.style.color = '#f00';\r\n  }\r\n\t\r\n\t\r\n  useEffect(() => {\t\r\n\t\tuserCid = sessionStorage.getItem(\"cid\");\r\n\t\tlet w=[];\r\n\t\tfor(let i=0; i<700; ++i) {\r\n\t\t\tw.push(false);\r\n\t\t}\r\n\t\tcustomerData = JSON.parse(sessionStorage.getItem(\"customerData\"));\r\n\t\t//console.log(customerData.workingHours);\r\n\t\tfor(let i=0; i<customerData.workingHours.length; ++i) {\r\n\t\t\tw[customerData.workingHours[i]] = true;\r\n\t\t}\r\n\t\tsetWorkingArray(w);\r\n\t\t\r\n\t\tlet allSlotStr = process.env.REACT_APP_DEFAULTMORNINGSLOTS;\r\n\t\tlet allSlotSplit = allSlotStr.split(\",\");\r\n\t\t//console.log(allSlotSplit);\r\n\t\tlet allSlotArray = [];\r\n\t\tfor(let i=0; i<allSlotSplit.length; ++i) {\r\n\t\t\tallSlotArray.push(Number(allSlotSplit[i]));\r\n\t\t}\r\n\t\t//console.log(allSlotArray);\r\n\t\tsetDefaultMorningSlots(allSlotArray);\r\n\t\t\t\r\n\t\tallSlotStr = process.env.REACT_APP_DEFAULTAFTERNOONSLOTS;\r\n\t\tallSlotSplit = allSlotStr.split(\",\");\r\n\t\tallSlotArray = [];\r\n\t\tfor(let i=0; i<allSlotSplit.length; ++i) {\r\n\t\t\tallSlotArray.push(Number(allSlotSplit[i]));\r\n\t\t}\r\n\t\tsetDefaultAfternoonSlots(allSlotArray);\r\n\t\t\t\r\n\t\tallSlotStr = process.env.REACT_APP_DEFAULTEVENINGSLOTS;\r\n\t\tallSlotSplit = allSlotStr.split(\",\");\r\n\t\tallSlotArray = [];\r\n\t\tfor(let i=0; i<allSlotSplit.length; ++i) {\r\n\t\t\tallSlotArray.push(Number(allSlotSplit[i]));\r\n\t\t}\r\n\t\tsetDefaultEveningSlots(allSlotArray);\r\n\r\n  }, []);\r\n\r\n\r\n  const [expandedPanel, setExpandedPanel] = useState(false);\r\n  const handleAccordionChange = (panel) => (event, isExpanded) => {\r\n    // console.log({ event, isExpanded });\r\n    setExpandedPanel(isExpanded ? panel : false);\r\n  };\r\n  \r\n\tfunction toggleCheckbox(index) {\r\n\t\t//console.log(index);\r\n\t\tlet tmp = [].concat(workingArray);\r\n\t\ttmp[index] = !tmp[index]\r\n\t\tsetWorkingArray(tmp);\r\n\t}\r\n\t\r\n\tfunction toggleAllCheckbox(slotType, start, end) {\r\n\t\tlet current;\r\n\t\tswitch (slotType) {\r\n\t\t\tcase \"MORNING\": current = !morningCB; setMorningCB(!morningCB); break;\r\n\t\t\tcase \"AFTERNOON\": current = !afternoonCB; setAfternoonCB(!afternoonCB); break;\r\n\t\t\tcase \"EVENING\": current = !eveningCB; setEveningCB(!eveningCB); break;\r\n\t\t}\r\n\t\t//console.log(start, end);\r\n\t\tlet tmp = [].concat(workingArray);\r\n\t\tfor(let i=start; i<end; ++i) {\r\n\t\t\ttmp[i] = current;\r\n\t\t}\r\n\t\tsetWorkingArray(tmp);\r\n\t}\r\n\t\r\n\tfunction DisplayDayDetails(props) {\r\n\treturn (\r\n\t\t<div>\r\n\t\t<Grid maxWidth=\"100%\" className={gClasses.noPadding} key={\"DAYSLOT\"+props.day} container alignItems=\"center\" >\r\n\t\t{/* Morning Slots */}\r\n\t\t<Box maxWidth=\"100%\" className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t\t<Grid item xs={12} sm={12} md={12} lg={12} >\r\n\t\t\t<Typography>{\"Working slots of morning\"}</Typography>\r\n\t\t</Grid>\r\n\t\t</Box>\r\n\t\t{workingArray.slice(props.day*100 + BLOCKNUMBER.morningBlockStart,\r\n\t\t\tprops.day*100 + BLOCKNUMBER.morningBlockEnd\t+ 1).map( (w, index) => {\r\n\t\t\t\tlet hour = Math.floor((BLOCKNUMBER.morningBlockStart + index ) / 4);\r\n\t\t\t\tlet min = MINUTEBLOCK[(BLOCKNUMBER.morningBlockStart + index ) % 4];\r\n\t\t\treturn (\r\n\t\t\t<Box className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\t\t\t\r\n\t\t\t<Grid item xs={3} sm={3} md={3} lg={3} >\r\n\t\t\t<Typography>{HOURSTR[hour]+\":\"+MINUTESTR[min]+(w ? \" Y\" : \" N\")}</Typography>\t\r\n\t\t\t</Grid>\r\n\t\t\t</Box>\r\n\t\t\t)}\r\n\t\t)}\r\n\t\t{/* afternoon Slots */}\r\n\t\t<Box className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t\t<Grid item xs={12} sm={12} md={12} lg={12} >\r\n\t\t\t<Typography>{\"Working slots of afternoon\"}</Typography>\r\n\t\t</Grid>\r\n\t\t</Box>\r\n\t\t{workingArray.slice(props.day*100 + BLOCKNUMBER.afternoonBlockStart,\r\n\t\t\tprops.day*100 + BLOCKNUMBER.afternoonBlockEnd\t+ 1).map( (w, index) => {\r\n\t\t\t\tlet hour = Math.floor((BLOCKNUMBER.afternoonBlockStart + index ) / 4);\r\n\t\t\t\tlet min = MINUTEBLOCK[(BLOCKNUMBER.afternoonBlockStart + index ) % 4];\r\n\t\t\treturn (\r\n\t\t\t<Box className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t\t\t<Grid item xs={3} sm={3} md={3} lg={3} >\r\n\t\t\t\t<Typography>{\"Aft \"+HOURSTR[hour]+\":\"+MINUTESTR[min]+\"is\"+w}</Typography>\t\r\n\t\t\t</Grid>\r\n\t\t\t</Box>\r\n\t\t\t)}\r\n\t\t)}\r\n\t\t{/* evening Slots */}\r\n\t\t<Box className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t\t<Grid item xs={12} sm={12} md={12} lg={12} >\r\n\t\t\t<Typography>{\"Working slots of evening\"}</Typography>\r\n\t\t</Grid>\r\n\t\t</Box>\r\n\t\t{workingArray.slice(props.day*100 + BLOCKNUMBER.eveningBlockStart,\r\n\t\t\tprops.day*100 + BLOCKNUMBER.eveningBlockEnd\t+1).map( (w, index) => {\r\n\t\t\t\tlet hour = Math.floor((BLOCKNUMBER.eveningBlockStart + index )/ 4);\r\n\t\t\t\tlet min = MINUTEBLOCK[(BLOCKNUMBER.eveningBlockStart + index ) % 4];\r\n\t\t\treturn (\r\n\t\t\t<Box className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t\t\t<Grid item xs={3} sm={3} md={3} lg={3} >\r\n\t\t\t<Typography>{\"EVE \"+HOURSTR[hour]+\":\"+MINUTESTR[min]+\"is\"+w}</Typography>\t\r\n\t\t\t</Grid>\r\n\t\t\t</Box>\r\n\t\t\t)}\r\n\t\t)}\r\n\t</Grid>\r\n\t</div>\r\n\t)}\r\n\t\r\n\tfunction setDefaultSlots(slotType, startNum, endNum) {\r\n\t\tlet i, blockNumber;\r\n\t\t//console.log(defaultMorningSlots);\r\n\t\t//console.log(defaultAfternoonSlots);\r\n\t\t//console.log(defaultEveningSlots);\r\n\t\t//console.log(slotType);\r\n\t\tlet tmpArray = [].concat(workingArray);\r\n\t\tfor(i=startNum; i<=endNum; ++i) {\r\n\t\t\tblockNumber = i % 100;\r\n\t\t\tswitch (slotType) {\r\n\t\t\t\tcase \"MORNING\":\r\n\t\t\t\t\ttmpArray[i] = defaultMorningSlots.includes(blockNumber);\r\n\t\t\t\t\t//console.log(i,  tmpArray[i]);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"AFTERNOON\":\r\n\t\t\t\t\ttmpArray[i] = defaultAfternoonSlots.includes(blockNumber); \r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"EVENING\":\r\n\t\t\t\t\ttmpArray[i] = defaultEveningSlots.includes(blockNumber); \r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t//console.log(i,  tmpArray[i]);\r\n\t\tsetWorkingArray(tmpArray);\r\n\t}\r\n\t\r\n\tfunction DisplayMorningSlots() {\r\n\tlet startNum = currentIndex*100 + BLOCKNUMBER.morningBlockStart;\r\n\tlet endNum = currentIndex*100 + BLOCKNUMBER.morningBlockEnd + 1;\r\n\t//console.log(startNum, endNum);\r\n\treturn (\r\n\t<Box className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t<Grid className={classes.noPadding} key={\"MED\"+currentIndex} container alignItems=\"center\"  >\r\n\t<Grid item xs={12} sm={6} md={6} lg={6} >\r\n\t\t<div align=\"center\">\r\n\t\t<Typography className={classes.slotTitle}>{WEEKSTR[currentIndex]+\" Morning slots\"}</Typography>\r\n\t\t</div>\r\n\t</Grid>\r\n\t<Grid item xs={6} sm={3} md={3} lg={3} >\r\n\t\t{(sessionStorage.getItem(\"userType\") === \"Doctor\") &&\r\n\t\t\t<VsButton name=\"Set default Morning Slots\" onClick={() => {setDefaultSlots(\"MORNING\", startNum, endNum)}} />\r\n\t\t}\r\n\t</Grid>\r\n\t<Grid item xs={6} sm={3} md={3} lg={3} >\r\n\t{(sessionStorage.getItem(\"userType\") === \"Doctor\") &&\r\n\t <FormControlLabel \r\n\t\tcontrol={\r\n\t\t <Checkbox \r\n\t\t\tkey={\"MorningCB\"} \r\n\t\t\tchecked={morningCB} \r\n\t\t\tonClick={() => {toggleAllCheckbox(\"MORNING\", startNum, endNum)}}\r\n\t\t\tclassName={classes.blueCheckBox}\r\n\t\t\t/>\r\n\t\t} \r\n\t\t label={\r\n\t\t\t <Typography className={classes.blueCheckBoxLabel}>\r\n\t\t\t {\"Select all morning slots\"} \r\n\t\t\t </Typography>\r\n\t\t }\r\n\t\t/>\r\n\t}\r\n\t</Grid>\r\n\t{workingArray.slice(startNum, endNum).map( (m, index) =>\t{\r\n\t\tlet tmp = BLOCKNUMBER.morningBlockStart + index;\r\n\t\tlet hour = Math.floor(tmp / 4);\r\n\t\tlet minute = MINUTEBLOCK[tmp % 4];\r\n\t\treturn (\r\n\t\t\t<Grid item xs={3} sm={2} md={1} lg={1} >\t\r\n\t\t\t<Box className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t\t\t\t{(sessionStorage.getItem(\"userType\") === \"Doctor\") &&\r\n\t\t\t\t\t<FormControlLabel \r\n\t\t\t\t\tcontrol={\r\n\t\t\t\t\t <Checkbox \r\n\t\t\t\t\t\tkey={HOURSTR[hour]+\":\"+MINUTESTR[minute]} \r\n\t\t\t\t\t\tchecked={workingArray[startNum+index]} \r\n\t\t\t\t\t\tonClick={() => {toggleCheckbox(startNum+index)}}\r\n\t\t\t\t\t\tclassName={classes.blueCheckBox}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t} \r\n\t\t\t\t\tlabel={\r\n\t\t\t\t\t <Typography className={classes.blueCheckBoxLabel}>\r\n\t\t\t\t\t {HOURSTR[hour]+\":\"+MINUTESTR[minute]} \r\n\t\t\t\t\t </Typography>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t}\r\n\t\t\t\t{(sessionStorage.getItem(\"userType\") !== \"Doctor\") &&\r\n\t\t\t\t\t<FormControlLabel \r\n\t\t\t\t\tcontrol={\r\n\t\t\t\t\t <Checkbox \r\n\t\t\t\t\t\tkey={HOURSTR[hour]+\":\"+MINUTESTR[minute]} \r\n\t\t\t\t\t\tchecked={workingArray[startNum+index]} \r\n\t\t\t\t\t\tclassName={classes.blueCheckBox}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t} \r\n\t\t\t\t\tlabel={\r\n\t\t\t\t\t <Typography className={classes.blueCheckBoxLabel}>\r\n\t\t\t\t\t {HOURSTR[hour]+\":\"+MINUTESTR[minute]} \r\n\t\t\t\t\t </Typography>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t}\r\n\t\t\t</Box>\r\n\t\t\t</Grid>\r\n\t\t)}\r\n\t)}\r\n\t</Grid>\r\n\t</Box>\r\n\t)}\r\n\t\r\n\tfunction DisplayAfterNoonSlots() {\r\n\tlet startNum = currentIndex*100 + BLOCKNUMBER.afternoonBlockStart;\r\n\tlet endNum = currentIndex*100 + BLOCKNUMBER.afternoonBlockEnd + 1;\r\n\treturn (\r\n\t<Box className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t<Grid className={classes.noPadding} key={\"MED\"+currentIndex} container alignItems=\"center\"  >\r\n\t<Grid item xs={12} sm={6} md={6} lg={6} >\r\n\t\t<div align=\"center\">\r\n\t\t<Typography className={classes.slotTitle}>{WEEKSTR[currentIndex]+\" afternoon slots\"}</Typography>\r\n\t\t</div>\r\n\t</Grid>\r\n\t<Grid item xs={6} sm={3} md={3} lg={3} >\r\n\t\t{(sessionStorage.getItem(\"userType\") === \"Doctor\") &&\r\n\t\t\t<VsButton name=\"Set default Afternoon Slots\" onClick={() => {setDefaultSlots(\"AFTERNOON\", startNum, endNum)}} />\r\n\t\t}\r\n\t</Grid>\r\n\t<Grid item xs={6} sm={3} md={3} lg={3} >\r\n\t{(sessionStorage.getItem(\"userType\") === \"Doctor\") &&\r\n\t\t <FormControlLabel \r\n\t\t\tcontrol={\r\n\t\t\t <Checkbox \r\n\t\t\t\tkey={\"AfternoonCB\"} \r\n\t\t\t\tchecked={afternoonCB} \r\n\t\t\t\tonClick={() => {toggleAllCheckbox(\"AFTERNOON\", startNum, endNum)}}\r\n\t\t\t\tclassName={classes.blueCheckBox}\r\n\t\t\t\t/>\r\n\t\t\t} \r\n\t\t\t label={\r\n\t\t\t\t <Typography className={classes.blueCheckBoxLabel}>\r\n\t\t\t\t {\"Select all afternoon slots\"} \r\n\t\t\t\t </Typography>\r\n\t\t\t }\r\n\t\t/>\r\n\t}\r\n\t</Grid>\r\n\t{workingArray.slice(startNum, endNum).map( (m, index) =>\t{\r\n\t\tlet tmp = BLOCKNUMBER.afternoonBlockStart + index;\r\n\t\tlet hour = Math.floor(tmp / 4);\r\n\t\tlet minute = MINUTEBLOCK[tmp % 4];\r\n\t\treturn (\r\n\t\t\t<Grid item xs={3} sm={2} md={1} lg={1} >\t\r\n\t\t\t<Box className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t\t\t\t{(sessionStorage.getItem(\"userType\") === \"Doctor\") &&\r\n\t\t\t\t\t<FormControlLabel \r\n\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t <Checkbox \r\n\t\t\t\t\t\t\tkey={HOURSTR[hour]+\":\"+MINUTESTR[minute]} \r\n\t\t\t\t\t\t\tchecked={workingArray[startNum+index]} \r\n\t\t\t\t\t\t\tonClick={() => {toggleCheckbox(startNum+index)}}\r\n\t\t\t\t\t\t\tclassName={classes.blueCheckBox}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t} \r\n\t\t\t\t\t\t label={\r\n\t\t\t\t\t\t\t <Typography className={classes.blueCheckBoxLabel}>\r\n\t\t\t\t\t\t\t {HOURSTR[hour]+\":\"+MINUTESTR[minute]} \r\n\t\t\t\t\t\t\t </Typography>\r\n\t\t\t\t\t\t }\r\n\t\t\t\t\t/>\r\n\t\t\t\t}\r\n\t\t\t\t{(sessionStorage.getItem(\"userType\") !== \"Doctor\") &&\r\n\t\t\t\t\t<FormControlLabel \r\n\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t <Checkbox \r\n\t\t\t\t\t\t\tkey={HOURSTR[hour]+\":\"+MINUTESTR[minute]} \r\n\t\t\t\t\t\t\tchecked={workingArray[startNum+index]} \r\n\t\t\t\t\t\t\tclassName={classes.blueCheckBox}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t} \r\n\t\t\t\t\t\t label={\r\n\t\t\t\t\t\t\t <Typography className={classes.blueCheckBoxLabel}>\r\n\t\t\t\t\t\t\t {HOURSTR[hour]+\":\"+MINUTESTR[minute]} \r\n\t\t\t\t\t\t\t </Typography>\r\n\t\t\t\t\t\t }\r\n\t\t\t\t\t/>\r\n\t\t\t\t}\r\n\t\t\t</Box>\r\n\t\t\t</Grid>\r\n\t\t)}\r\n\t)}\r\n\t</Grid>\r\n\t</Box>\r\n\t)}\r\n\r\n\tfunction DisplayEveningSlots() {\r\n\tlet startNum = currentIndex*100 + BLOCKNUMBER.eveningBlockStart;\r\n\tlet endNum = currentIndex*100 + BLOCKNUMBER.eveningBlockEnd + 1;\r\n\t//console.log(startNum, endNum);\r\n\treturn (\r\n\t<Box className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t<Grid className={classes.noPadding} key={\"MED\"+currentIndex} container alignItems=\"center\"  >\r\n\t<Grid item xs={12} sm={6} md={6} lg={6} >\r\n\t\t<div align=\"center\">\r\n\t\t<Typography className={classes.slotTitle}>{WEEKSTR[currentIndex]+\" evening slots\"}</Typography>\r\n\t\t</div>\r\n\t</Grid>\r\n\t<Grid item xs={6} sm={3} md={3} lg={3} >\r\n\t\t{(sessionStorage.getItem(\"userType\") === \"Doctor\") &&\r\n\t\t\t<VsButton name=\"Set default Evening Slots\" onClick={() => {setDefaultSlots(\"EVENING\", startNum, endNum)}} />\r\n\t\t}\r\n\t</Grid>\r\n\t<Grid item xs={6} sm={3} md={3} lg={3} >\r\n\t{(sessionStorage.getItem(\"userType\") === \"Doctor\") &&\r\n\t <FormControlLabel \r\n\t\tcontrol={\r\n\t\t <Checkbox \r\n\t\t\tkey={\"evening\"} \r\n\t\t\tchecked={eveningCB} \r\n\t\t\tonClick={() => {toggleAllCheckbox(\"EVENING\", startNum, endNum)}}\r\n\t\t\tclassName={classes.blueCheckBox}\r\n\t\t\t/>\r\n\t\t} \r\n\t\t label={\r\n\t\t\t <Typography className={classes.blueCheckBoxLabel}>\r\n\t\t\t {\"Select all evening slots\"} \r\n\t\t\t </Typography>\r\n\t\t }\r\n\t/>\r\n\t}\r\n\t</Grid>\r\n\t{workingArray.slice(startNum, endNum).map( (m, index) =>\t{\r\n\t\tlet tmp = BLOCKNUMBER.eveningBlockStart + index;\r\n\t\tlet hour = Math.floor(tmp / 4);\r\n\t\tlet minute = MINUTEBLOCK[tmp % 4];\r\n\t\treturn (\r\n\t\t\t<Grid item xs={3} sm={2} md={1} lg={1} >\t\r\n\t\t\t<Box className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t\t\t\t{(sessionStorage.getItem(\"userType\") === \"Doctor\") &&\r\n\t\t\t\t\t<FormControlLabel \r\n\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t <Checkbox \r\n\t\t\t\t\t\t\tkey={HOURSTR[hour]+\":\"+MINUTESTR[minute]} \r\n\t\t\t\t\t\t\tchecked={workingArray[startNum+index]} \r\n\t\t\t\t\t\t\tonClick={() => {toggleCheckbox(startNum+index)}}\r\n\t\t\t\t\t\t\tclassName={classes.blueCheckBox}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t} \r\n\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t <Typography className={classes.blueCheckBoxLabel}>\r\n\t\t\t\t\t\t {HOURSTR[hour]+\":\"+MINUTESTR[minute]} \r\n\t\t\t\t\t\t </Typography>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t}\r\n\t\t\t\t{(sessionStorage.getItem(\"userType\") !== \"Doctor\") &&\r\n\t\t\t\t\t<FormControlLabel \r\n\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t <Checkbox \r\n\t\t\t\t\t\t\tkey={HOURSTR[hour]+\":\"+MINUTESTR[minute]} \r\n\t\t\t\t\t\t\tchecked={workingArray[startNum+index]} \r\n\t\t\t\t\t\t\tclassName={classes.blueCheckBox}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t} \r\n\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t <Typography className={classes.blueCheckBoxLabel}>\r\n\t\t\t\t\t\t {HOURSTR[hour]+\":\"+MINUTESTR[minute]} \r\n\t\t\t\t\t\t </Typography>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t}\r\n\t\t\t</Box>\r\n\t\t\t</Grid>\r\n\t\t)}\r\n\t)}\r\n\t</Grid>\r\n\t</Box>\r\n\t)}\r\n\r\n\tfunction DisplayDaySummary(props) {\r\n\treturn (\r\n\t<Grid key={\"MG\"+props.day} container justify=\"center\" alignItems=\"center\" >\r\n\t<Grid item xs={10} sm={10} md={10} lg={10} >\r\n\t\t<div align=\"left\">\r\n\t\t<Typography className={(expandedPanel !== \"DAY\"+props.day) ? classes.selectedAccordian : classes.normalAccordian}>\r\n\t\t{\"Working hours of \"+WEEKSTR[props.day]}\r\n\t\t</Typography>\r\n\t\t</div>\r\n\t</Grid>\r\n\t<Grid item xs={1} sm={1} md={1} lg={1} >\r\n\t</Grid>\r\n\t</Grid>\r\n\t)}\r\n\t\r\n\tfunction handleCategoryClick(day) {\r\n\t\tsetCurrentIndex(day);\r\n\t\tsetMorningCB(false);\r\n\t\tsetAfternoonCB(false);\r\n\t\tsetEveningCB(false);\r\n\t}\r\n\t\r\n\tfunction DisplayDaySelection() {\r\n\treturn (\r\n\t<Box className={gClasses.boxStyle} borderRadius={7} border={1} >\r\n\t<Grid className={gClasses.noPadding} key=\"DOCTYPE\" container alignItems=\"center\" >\r\n\t\t<Grid key=\"DOCTYPETITLE\" item xs={12} sm={12} md={12} lg={12} >\r\n\t\t\t<div align=\"center\">\r\n\t\t\t<Typography className={classes.slotTitle} >{\"Working Slots of Week day\"}</Typography>\r\n\t\t\t</div>\r\n\t\t</Grid>\t\t\r\n\t\t<Grid key={\"LEFT\"} item xs={false} sm={false} md={2} lg={2} />\r\n\t\t{[0,1,2,3,4,5,6].map( (index) => {\r\n\t\t\tlet myClass = (index === currentIndex) ? classes.selIndex : classes.unselIndex;\r\n\t\t\treturn (\r\n\t\t\t\t<Grid key={\"DOC\"+index} item xs={4} sm={3} md={1} lg={1} >\r\n\t\t\t\t\t<Typography className={myClass} \r\n\t\t\t\t\t\tonClick={() => {handleCategoryClick(index)}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t{SHORTWEEKSTR[index]}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Grid>\r\n\t\t\t)}\r\n\t\t)}\r\n\t</Grid>\r\n\t</Box>\r\n\t)}\r\n\t\r\n\tasync function updateWorkingHours() {\r\n\t\tlet workingslots = [];\r\n\t\tfor(let i=0; i<700; ++i) {\r\n\t\t\tif (workingArray[i]) workingslots.push(i);\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tlet tmp = JSON.stringify(workingslots);\r\n\t\t\tlet myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/customer/setworkinghours/${userCid}/${tmp}`;\r\n\t\t\tlet resp = await axios.get(myUrl);\r\n\t\t\t// success\r\n\t\t\talert.success(\"Successfully updated weekly working hours\");\r\n\t\t\tcustomerData = resp.data;\r\n\t\t\tsessionStorage.setItem(\"customerData\", JSON.stringify(customerData));\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\talert.error(\"Error update weekly working hours\");\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\treturn (\r\n\t<div className={gClasses.webPage} align=\"center\" key=\"main\">\r\n\t<DisplayPageHeader headerName=\"Configure weekly working slots\" groupName=\"\" tournament=\"\"/>\r\n\t<Container component=\"main\" maxWidth=\"lg\">\r\n\t<CssBaseline />\r\n\t{(sessionStorage.getItem(\"userType\") === \"Doctor\") &&\r\n\t\t<VsButton name=\"Update working hours\" align=\"right\" onClick={updateWorkingHours} />\r\n\t}\r\n\t<DisplayDaySelection />\r\n\t<DisplayMorningSlots />\r\n\t<DisplayAfterNoonSlots />\r\n\t<DisplayEveningSlots />\r\n\t</Container>\t\t\t\r\n  </div>\r\n  );    \r\n\r\n\r\n}\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport axios from \"axios\";\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { InputAdornment, makeStyles, Container, CssBaseline } from '@material-ui/core';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport SwitchBtn from '@material-ui/core/Switch';\r\nimport { usePromiseTracker, trackPromise } from \"react-promise-tracker\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport Box from '@material-ui/core/Box';\r\nimport Modal from 'react-modal';\r\nimport VsButton from \"CustomComponents/VsButton\";\r\nimport VsCancel from \"CustomComponents/VsCancel\"\r\nimport { borders } from '@material-ui/system';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport Datetime from \"react-datetime\";\r\nimport \"react-datetime/css/react-datetime.css\";\r\nimport moment from \"moment\";\r\nimport {setTab} from \"CustomComponents/CricDreamTabs.js\"\r\nimport Drawer from '@material-ui/core/Drawer';\r\n\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\nimport Avatar from \"@material-ui/core/Avatar\"\r\nimport { useAlert } from 'react-alert'\r\n//import validator from 'validator'\r\n\r\n// styles\r\nimport globalStyles from \"assets/globalStyles\";\r\nimport modalStyles from \"assets/modalStyles\";\r\nimport {dynamicModal } from \"assets/dynamicModal\";\r\n\r\n\r\nimport Switch from \"@material-ui/core/Switch\";\r\nimport Link from '@material-ui/core/Link';\r\n\r\n\r\nimport {DisplayPageHeader, ValidComp, BlankArea, DisplayYesNo,\r\nDisplayHolidayDetails,\r\n} from \"CustomComponents/CustomComponents.js\"\r\n\r\nimport { LeakRemoveTwoTone, LensTwoTone } from '@material-ui/icons';\r\n\r\nimport {\r\nWEEKSTR, MONTHSTR, SHORTMONTHSTR, \r\nHOURSTR, MINUTESTR,\r\nVISITTYPE,\r\nstr1by4, str1by2,  str3by4,\r\n} from 'views/globals';\r\n\r\n// icons\r\nimport FileCopyIcon from '@material-ui/icons/FileCopy';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\n//import DeleteIcon from '@material-ui/icons/Delete';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport DeleteIcon from '@material-ui/icons/Cancel';\r\nimport LocalHospitalIcon from '@material-ui/icons/LocalHospital';\r\nimport EventNoteIcon from '@material-ui/icons/EventNote';\r\nimport AddIcon from '@material-ui/icons/AddCircleOutline';\r\nimport LeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport RightIcon from '@material-ui/icons/ChevronRight';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\n\r\n//colours \r\nimport { \r\nred, blue, grey, yellow, orange, pink, green, brown, deepOrange, lightGreen, blueGrey, lime,\r\n} from '@material-ui/core/colors';\r\n\r\nimport { \r\n\tisMobile, callYesNo,\r\n\tdisablePastDt, disableFutureDt, disableAllDt,\r\n\tvalidateInteger,\r\n\tencrypt, decrypt, \r\n\tleft, right,\r\n\tintString,\r\n\tupdatePatientByFilter,\r\n\tdispAge, dispEmail, dispMobile,\r\n\tordinalSuffix,\r\n\tcompareDate, makeTimeString,\r\n\tgetAllPatients,\r\n\tvsDialog,\r\n} from \"views/functions.js\";\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\t\r\n\troot: {\r\n\t\twidth: '100%',\r\n\t}, \r\n\tselIndex: {\r\n\t\tcolor: 'blue',\r\n\t\tfontSize: theme.typography.pxToRem(14),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t},\r\n\tslotTitle: {\r\n\t\tcolor: 'green',\r\n\t\tfontSize: theme.typography.pxToRem(28),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tpadding: \"10px 10px\", \r\n\t\tmargin: \"10px 10px\", \r\n\t},\r\n\tunselIndex: {\r\n\t\tfontSize: theme.typography.pxToRem(14),\r\n\t},\r\n\tfreeSlot: {\r\n\t\tpadding: \"5px 10px\", \r\n\t\tmargin: \"4px 2px\", \r\n\t\tborderColor: 'blue',\r\n\t\t//backgroundColor: blue[300] \r\n\t},\r\n\tusedSlot: {\r\n\t\tpadding: \"5px 10px\", \r\n\t\tmargin: \"4px 2px\", \r\n\t\tborderColor: 'blue',\r\n\t\tbackgroundColor: grey[500],\r\n\t},\r\n\tslotboxStyle: {\r\n\t\tborderColor: 'blue', \r\n\t\tborderRadius: 7, \r\n\t\tborder: 1,\r\n\t},\r\n\tdateTime: {\r\n\t\tcolor: 'blue',\r\n\t\tfontSize: theme.typography.pxToRem(28),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tbackgroundColor: pink[100],\r\n\t\talign: 'center',\r\n\t\twidth: (isMobile()) ? '60%' : '20%',\r\n\t}, \r\n\tdateTimeNormal: {\r\n\t\tcolor: 'blue',\r\n\t\tfontSize: theme.typography.pxToRem(14),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t//backgroundColor: pink[100],\r\n\t\talign: 'center',\r\n\t\t//width: (isMobile()) ? '60%' : '20%',\r\n\t}, \r\n\tdateTimeBlock: {\r\n\t\tcolor: 'blue',\r\n\t\t//fontSize: theme.typography.pxToRem(28),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t//backgroundColor: pink[100],\r\n\t\twidth: '40%'\r\n\t}, \r\n\tinfo: {\r\n\t\t\tcolor: blue[700],\r\n\t}, \r\n\tfilterRadio: {\r\n\t\t\tfontSize: theme.typography.pxToRem(14),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: '#000000',\t\r\n\t},\r\n\tswitchText: {\r\n\t\tfontSize: theme.typography.pxToRem(14),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t}, \r\n\t\torange: {\r\n\t\t\tbackgroundColor: orange[300],\r\n\t\t\tcolor: '#000000',\r\n\t\t},\r\n    header: {\r\n\t\t\tcolor: '#D84315',\r\n    }, \r\n    error:  {\r\n      // right: 0,\r\n      fontSize: '12px',\r\n      color: red[700],\r\n      // position: 'absolute',\r\n      alignItems: 'center',\r\n      marginTop: '0px',\r\n\t\t},\r\n\t\teditdelete: {\r\n\t\t\tmarginLeft:  '50px',\r\n\t\t\tmarginRight: '50px',\r\n\t\t},\r\n\t\tNoMedicines: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: blue[700]\r\n\t\t},  \r\n\t\tradio: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: \"blue\",\r\n\t\t},\r\n\t\tmedicine: {\r\n\t\t\tfontSize: theme.typography.pxToRem(15),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: blue[700]\r\n\t\t},  \r\n\t\tmodalHeader: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: blue[700]\r\n\t\t},\r\n\t\tmessageText: {\r\n\t\t\tcolor: '#4CC417',\r\n\t\t\tfontSize: 12,\r\n\t\t\t// backgroundColor: green[700],\r\n    },\r\n    symbolText: {\r\n        color: '#4CC417',\r\n        // backgroundColor: green[700],\r\n    },\r\n    button: {\r\n\t\t\tmargin: theme.spacing(0, 1, 0),\r\n    },\r\n\t\ttitle: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: blue[700],\r\n\t\t},\r\n    heading: {\r\n\t\t\tfontSize: theme.typography.pxToRem(15),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t},\r\n\t\taccordianSummary: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\t//backgroundColor: pink[100],\r\n\t\t},\r\n\t\tzeroAppt: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tbackgroundColor: pink[100],\r\n\t\t},\r\n\t\tnormalAccordian: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tbackgroundColor: pink[100],\r\n\t\t},\r\n\t\tselectedAccordian: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tbackgroundColor: yellow[100],\r\n\t\t},\r\n    secondaryHeading: {\r\n      fontSize: theme.typography.pxToRem(15),\r\n      color: theme.palette.text.secondary,\r\n    },\r\n\t\tnoPadding: {\r\n\t\t\tpadding: \"none\", \r\n\t\t},\r\n\tapptName: {\r\n\t\tfontSize: theme.typography.pxToRem(15),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tcolor: blue[700]\r\n\t},  \r\n\tnewAppt: {\r\n\t\tbackgroundColor: pink[100],\r\n\t},\r\n\tallAppt: {\r\n\t\tbackgroundColor: blue[100],\r\n\t},\r\n\tselect: {\r\n\t\tpadding: \"none\", \r\n\t\tbackgroundColor: '#B3E5FC',\r\n\t\tmargin: \"none\",\r\n\t},\r\n\ttable: {\r\n    //minWidth: 750,\r\n  },\r\n  td : {\r\n    border: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n  },\r\n\ttdPending : {\r\n    border: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tborderWidth: 1,\r\n\t\tbackgroundColor: blue[100],\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n  },\r\n\ttdCancel : {\r\n\t\tbackgroundColor: pink[100],\r\n    border: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n  },\r\n\ttdVisit : {\r\n\t\tbackgroundColor: lime[300],\r\n    border: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n  },\r\n\tth: { \r\n\t\tborder: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tfontSize: theme.typography.pxToRem(13),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t//backgroundColor: '#FFA726',\r\n\t\tbackgroundColor: deepOrange[200],\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n\t},\r\n\twd: {\r\n\t\tborder: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tbackgroundColor: '#E0E0E0',\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n\t},\r\n\twe: {\r\n\t\tborder: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tbackgroundColor: '#F8BBD0',\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n\t},\r\n\ttoday: {\r\n\t\tborder: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tbackgroundColor: green[300],\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n\t},\r\n\tnoday: {\r\n\t\tborder: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tbackgroundColor: blueGrey[300],\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n\t},\r\n\tho: {\r\n\t\tborder: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tbackgroundColor: yellow[400],\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n\t},\r\n}));\r\n\r\nconst MINLEFT={month: 8, year: 2021};\r\n\r\nvar userCid;\r\nvar customerData;\r\n\r\nexport default function Holiday() {\r\n  const classes = useStyles();\r\n\tconst gClasses = globalStyles();\r\n\tconst alert = useAlert();\r\n\t//gClasses.drawerPaper.width = 300;\r\n\t\r\n\tconst [year, setYear] = useState(new Date().getFullYear());\r\n\tconst [month, setMonth] = useState(new Date().getMonth());\t\r\n\tconst [holidayArray, setHolidayArray] = useState([]);\r\n\tconst [isDrawerOpened, setIsDrawerOpened] = useState(\"\");\r\n\tconst [holidayDate, setHolidayDate] = useState(new Date())\r\n\tconst [holidayDesc, setHolidayDesc] = useState(\"\");\r\n\t\r\n\r\n  useEffect(() => {\t\r\n\t\tcustomerData = JSON.parse(sessionStorage.getItem(\"customerData\"));\r\n\t\tuserCid = sessionStorage.getItem(\"cid\");\r\n\t\t\r\n\t\tconst makeSlots  = async () => {\r\n\t\t\t// check all holidays\t\t\t\r\n\t\t}\r\n\t\tgetHolidays(month, year);\r\n\t\tmakeSlots();\r\n  }, []);\r\n\r\n\tasync function getHolidays(mmm, yyy) {\r\n\t\ttry {\r\n\t\t\tlet myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/holiday/monthly/${userCid}/${yyy}/${mmm}`;\r\n\t\t\tvar resp = await axios.get(myUrl);\r\n\t\t\t//console.log(resp.data);\r\n\t\t\tsetHolidayArray(resp.data);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\tsetHolidayArray([]);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tfunction changMonth(idx) {\r\n\t\tlet myYear = year;\r\n\t\tlet myMonth = month\r\n\t\tif (idx > 0) {\r\n\t\t\t ++myMonth;\r\n\t\t\tif (myMonth === 12) {\r\n\t\t\t\t++myYear;\r\n\t\t\t\tmyMonth = 0;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t--myMonth;\r\n\t\t\tif (myMonth < 0) {\r\n\t\t\t\t--myYear;\r\n\t\t\t\tmyMonth = 11;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif ((myMonth === MINLEFT.month) && (myYear === MINLEFT.year))\r\n\t\t\treturn;\r\n\t\tsetMonth(myMonth);\r\n\t\tsetYear(myYear);\r\n\t\tgetHolidays(myMonth, myYear);\r\n\t}\r\n\t\r\n\tfunction DisplayMonthSelection() {\r\n\treturn (\r\n\t<Box className={gClasses.boxStyle} borderRadius={7} border={1} >\r\n\t<Grid className={gClasses.noPadding} key=\"DOCTYPE\" container alignItems=\"center\" >\t\r\n\t\t<Grid key=\"LEFT\" item xs={2} sm={2} md={2} lg={2} >\r\n\t\t\t<IconButton color={'primary'} onClick={() => {changMonth(-1)}}  >\r\n\t\t\t\t\t<LeftIcon />\r\n\t\t\t\t</IconButton>\r\n\t\t</Grid>\r\n\t\t<Grid key={\"MONTH\"} item xs={8} sm={8} md={8} lg={8} >\r\n\t\t\t<Typography className={classes.slotTitle} >\r\n\t\t\t\t{\"Holidays of \"+MONTHSTR[month]+\" \"+year}\r\n\t\t\t</Typography>\r\n\t\t</Grid>\r\n\t\t<Grid key=\"RIGHT\" item xs={2} sm={2} md={2} lg={2} >\r\n\t\t\t<IconButton color={'primary'} onClick={() => {changMonth(1)}}  >\r\n\t\t\t\t\t<RightIcon />\r\n\t\t\t\t</IconButton>\r\n\t\t</Grid>\r\n\t</Grid>\r\n\t</Box>\r\n\t)}\r\n\r\n\tfunction handleCancelHoliday(hol) {\r\n\t\tvsDialog(\"Delete Holiday\", `Are you sure you want to delete holiday ${hol.date}/${hol.month}/${hol.year}?`,\t\r\n\t\t\t{label: \"Yes\", onClick: () => handleCancelHolidayConfirm(hol) },\r\n\t\t\t{label: \"No\" }\r\n\t\t);\t\r\n\t}\r\n\t\r\n\tasync function handleCancelHolidayConfirm(hol) {\r\n\t\ttry {\r\n\t\t\tlet myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/holiday/delete/${userCid}/${hol.year}/${hol.month}/${hol.date}`;\r\n\t\t\tvar resp = await axios.get(myUrl);\r\n\t\t\t// success\r\n\t\t\tlet tmp = holidayArray.filter(x => x.year !== hol.year ||\r\n\t\t\t\tx.month !== hol.month || x.date !== hol.date);\r\n\t\t\t//console.log(tmp);\r\n\t\t\tsetHolidayArray(tmp);\r\n\t\t\t//alert.success(\"Successfully deleted holiday \"+hol.date+\"/\"+(hol.month+1)+\"/\"+hol.year);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\talert.success(\"\tError deleting holiday \"+hol.date+\"/\"+(hol.month+1)+\"/\"+hol.year);\r\n\t\t}\r\n\t\t\t\r\n\t}\r\n\t\r\n\tfunction DisplayMonthlyHolidays() {\r\n\treturn (\r\n\t<Grid className={gClasses.noPadding} key=\"Appt\" container alignItems=\"center\" >\r\n\t{holidayArray.map( (a, index) => \r\n\t\t<Grid key={\"HOL\"+index} item xs={12} sm={6} md={3} lg={3} >\r\n\t\t{(sessionStorage.getItem(\"userType\") === \"Doctor\") &&\r\n\t\t\t<DisplayHolidayDetails \r\n\t\t\t\tholiday={a} \r\n\t\t\t\tbutton1={\r\n\t\t\t\t\t<IconButton color={'secondary'} size=\"small\" onClick={() => { handleCancelHoliday(a)}}  >\r\n\t\t\t\t\t\t<CancelIcon />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t}\r\n\t\t{(sessionStorage.getItem(\"userType\") !== \"Doctor\") &&\r\n\t\t\t<DisplayHolidayDetails \r\n\t\t\t\tholiday={a} \r\n\t\t\t/>\r\n\t\t}\r\n\t\t</Grid>\r\n\t)}\r\n\t</Grid>\t\r\n\t)}\r\n\t\r\n\tfunction newHoliday() {\r\n\t\tsetHolidayDate(new Date(year, month, 1));\r\n\t\tsetHolidayDesc(\"\")\r\n\t\tsetIsDrawerOpened(\"NEWHOLIDAY\");\r\n\t}\r\n\r\n\tfunction handleDate(d) {\r\n\t\t//console.log(d);\r\n\t\tsetHolidayDate(d.toDate());\r\n\t}\r\n\t\r\n\tasync function addNewSubmit() {\r\n\t\tconsole.log(\"Command to add new date\");\r\n\t\tlet myDate=holidayDate.getDate();\r\n\t\tlet myMonth=holidayDate.getMonth();\r\n\t\tlet myYear=holidayDate.getFullYear();\r\n\t\ttry {\r\n\t\t\tlet myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/holiday/set/${userCid}/${myYear}/${myMonth}/${myDate}/${holidayDesc}`;\r\n\t\t\tvar resp = await axios.get(myUrl);\r\n\t\t\t// success\r\n\t\t\tsetIsDrawerOpened(\"\");\r\n\r\n\t\t\tif ((myYear === year) && (myMonth === month)) {\r\n\t\t\t\tlet tmpArray = holidayArray.filter(x => x.date !== myDate || x.month !== myMonth || x.year !== myYear);\r\n\t\t\t\ttmpArray = [resp.data].concat(tmpArray);\r\n\t\t\t\ttmpArray.sort((a, b) => { \r\n\t\t\t\t\treturn (((a.year*100+a.month)*100 + a.date)) - ((b.year*100 + b.month)*100+b.date)\r\n\t\t\t\t});\r\n\t\t\t\tsetHolidayArray(tmpArray);\r\n\t\t\t}\r\n\t\t\talert.success(\"Successfully added holiday \"+myDate+\"/\"+(myMonth+1)+\"/\"+myYear);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\taler.error(\"Selected date is already set as holiday\");\r\n\t\t}\r\n\t}\r\n\t\r\n\treturn (\r\n\t<div className={gClasses.webPage} align=\"center\" key=\"main\">\r\n\t<DisplayPageHeader headerName=\"Configure Holidays\" groupName=\"\" tournament=\"\"/>\r\n\t<Container component=\"main\" maxWidth=\"lg\">\r\n\t<CssBaseline />\r\n\t</Container>\r\n\t{(sessionStorage.getItem(\"userType\") === \"Doctor\") &&\r\n\t\t<VsButton name=\"Add new holiday\" align=\"right\" onClick={newHoliday} />\r\n\t}\r\n\t<DisplayMonthSelection />\t\r\n\t<DisplayMonthlyHolidays />\r\n\t<Drawer\r\n\t\topen={isDrawerOpened !== \"\"}\r\n\t\tanchor=\"right\"\r\n\t\tvariant=\"temporary\"\r\n\t\tclasses={{\r\n\t\t\tpaper: gClasses.drawerPaper,\r\n\t\t}}\r\n\t>\r\n\t<Box className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t<VsCancel align=\"right\" onClick={() => {setIsDrawerOpened(\"\")}} />\r\n\t<ValidatorForm align=\"center\" className={gClasses.form} onSubmit={addNewSubmit} >\r\n\t<Typography align=\"center\" className={classes.modalHeader}>\r\n\t\t{\"New Holiday\"}\r\n\t</Typography>\r\n\t<BlankArea />\r\n\t<Datetime \r\n\t\tclassName={classes.dateTimeBlock}\r\n\t\tinputProps={{className: classes.dateTimeNormal}}\r\n\t\ttimeFormat={false} \r\n\t\tinitialValue={holidayDate}\r\n\t\tdateFormat=\"DD/MM/yyyy\"\r\n\t\tisValidDate={disablePastDt}\r\n\t\tonClose={handleDate}\r\n\t\tcloseOnSelect={true}\r\n\t/>\r\n\t<BlankArea />\r\n\t<TextValidator required fullWidth color=\"primary\"\r\n\t\tid=\"newName\" label=\"Description\" name=\"newName\"\r\n\t\tvalue={holidayDesc}\r\n\t\tonChange={(event) => setHolidayDesc(event.target.value)}\r\n\t/>\r\n\t<BlankArea />\r\n\t<VsButton type=\"submit\" name= {\"Add\"} />\r\n\t</ValidatorForm>\r\n\t</Box>\r\n\t</Drawer>\r\n  </div>\r\n  );    \r\n}","import React, { useEffect, useState, useContext } from 'react';\r\nimport axios from \"axios\";\r\nimport _ from \"lodash\";\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { InputAdornment, makeStyles, Container, CssBaseline } from '@material-ui/core';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport SwitchBtn from '@material-ui/core/Switch';\r\nimport { usePromiseTracker, trackPromise } from \"react-promise-tracker\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport Box from '@material-ui/core/Box';\r\nimport Modal from 'react-modal';\r\nimport VsButton from \"CustomComponents/VsButton\";\r\nimport VsCancel from \"CustomComponents/VsCancel\"\r\nimport { borders } from '@material-ui/system';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport Datetime from \"react-datetime\";\r\nimport \"react-datetime/css/react-datetime.css\";\r\nimport moment from \"moment\";\r\nimport {setTab} from \"CustomComponents/CricDreamTabs.js\"\r\nimport Drawer from '@material-ui/core/Drawer';\r\n\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\nimport Avatar from \"@material-ui/core/Avatar\"\r\nimport { useAlert } from 'react-alert'\r\n//import validator from 'validator'\r\n\r\n// styles\r\nimport globalStyles from \"assets/globalStyles\";\r\nimport modalStyles from \"assets/modalStyles\";\r\nimport {dynamicModal } from \"assets/dynamicModal\";\r\n\r\n\r\nimport Switch from \"@material-ui/core/Switch\";\r\nimport Link from '@material-ui/core/Link';\r\n\r\n\r\nimport {DisplayPageHeader, ValidComp, BlankArea, DisplayYesNo,\r\nDisplayUserDetails, \r\n} from \"CustomComponents/CustomComponents.js\"\r\n\r\nimport { LeakRemoveTwoTone, LensTwoTone } from '@material-ui/icons';\r\n\r\nimport {\r\nWEEKSTR, MONTHSTR, SHORTMONTHSTR, \r\nHOURSTR, MINUTESTR,\r\nVISITTYPE,\r\nstr1by4, str1by2,  str3by4,\r\n} from 'views/globals';\r\n\r\n// icons\r\nimport FileCopyIcon from '@material-ui/icons/FileCopy';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\n//import DeleteIcon from '@material-ui/icons/Delete';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport DeleteIcon from '@material-ui/icons/Cancel';\r\nimport LocalHospitalIcon from '@material-ui/icons/LocalHospital';\r\nimport EventNoteIcon from '@material-ui/icons/EventNote';\r\nimport AddIcon from '@material-ui/icons/AddCircleOutline';\r\nimport LeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport RightIcon from '@material-ui/icons/ChevronRight';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\n\r\n//colours \r\nimport { \r\nred, blue, grey, yellow, orange, pink, green, brown, deepOrange, lightGreen, blueGrey, lime,\r\n} from '@material-ui/core/colors';\r\n\r\nimport { \r\n\tisMobile, callYesNo,\r\n\tdisablePastDt, disableFutureDt, disableAllDt,\r\n\tvalidateInteger,\r\n\tencrypt, decrypt, \r\n\tleft, right,\r\n\tintString,\r\n\tupdatePatientByFilter,\r\n\tdispAge, dispEmail, dispMobile,\r\n\tordinalSuffix,\r\n\tcompareDate, makeTimeString,\r\n\tgetAllPatients,\r\n\tvsDialog,\r\n} from \"views/functions.js\";\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\t\r\n\troot: {\r\n\t\twidth: '100%',\r\n\t}, \r\n\tselIndex: {\r\n\t\tcolor: 'blue',\r\n\t\tfontSize: theme.typography.pxToRem(14),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t},\r\n\tslotTitle: {\r\n\t\tcolor: 'green',\r\n\t\tfontSize: theme.typography.pxToRem(28),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tpadding: \"10px 10px\", \r\n\t\tmargin: \"10px 10px\", \r\n\t},\r\n\tunselIndex: {\r\n\t\tfontSize: theme.typography.pxToRem(14),\r\n\t},\r\n\tfreeSlot: {\r\n\t\tpadding: \"5px 10px\", \r\n\t\tmargin: \"4px 2px\", \r\n\t\tborderColor: 'blue',\r\n\t\t//backgroundColor: blue[300] \r\n\t},\r\n\tusedSlot: {\r\n\t\tpadding: \"5px 10px\", \r\n\t\tmargin: \"4px 2px\", \r\n\t\tborderColor: 'blue',\r\n\t\tbackgroundColor: grey[500],\r\n\t},\r\n\tslotboxStyle: {\r\n\t\tborderColor: 'blue', \r\n\t\tborderRadius: 7, \r\n\t\tborder: 1,\r\n\t},\r\n\tdateTime: {\r\n\t\tcolor: 'blue',\r\n\t\tfontSize: theme.typography.pxToRem(28),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tbackgroundColor: pink[100],\r\n\t\talign: 'center',\r\n\t\twidth: (isMobile()) ? '60%' : '20%',\r\n\t}, \r\n\tdateTimeNormal: {\r\n\t\tcolor: 'blue',\r\n\t\tfontSize: theme.typography.pxToRem(14),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t//backgroundColor: pink[100],\r\n\t\talign: 'center',\r\n\t\t//width: (isMobile()) ? '60%' : '20%',\r\n\t}, \r\n\tdateTimeBlock: {\r\n\t\tcolor: 'blue',\r\n\t\t//fontSize: theme.typography.pxToRem(28),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t//backgroundColor: pink[100],\r\n\t\twidth: '40%'\r\n\t}, \r\n\tinfo: {\r\n\t\t\tcolor: blue[700],\r\n\t}, \r\n\tfilterRadio: {\r\n\t\t\tfontSize: theme.typography.pxToRem(14),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: '#000000',\t\r\n\t},\r\n\tswitchText: {\r\n\t\tfontSize: theme.typography.pxToRem(14),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t}, \r\n\t\torange: {\r\n\t\t\tbackgroundColor: orange[300],\r\n\t\t\tcolor: '#000000',\r\n\t\t},\r\n    header: {\r\n\t\t\tcolor: '#D84315',\r\n    }, \r\n    error:  {\r\n      // right: 0,\r\n      fontSize: '12px',\r\n      color: red[700],\r\n      // position: 'absolute',\r\n      alignItems: 'center',\r\n      marginTop: '0px',\r\n\t\t},\r\n\t\teditdelete: {\r\n\t\t\tmarginLeft:  '50px',\r\n\t\t\tmarginRight: '50px',\r\n\t\t},\r\n\t\tNoMedicines: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: blue[700]\r\n\t\t},  \r\n\t\tradio: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: \"blue\",\r\n\t\t},\r\n\t\tmedicine: {\r\n\t\t\tfontSize: theme.typography.pxToRem(15),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: blue[700]\r\n\t\t},  \r\n\t\tmodalHeader: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: blue[700]\r\n\t\t},\r\n\t\tmessageText: {\r\n\t\t\tcolor: '#4CC417',\r\n\t\t\tfontSize: 12,\r\n\t\t\t// backgroundColor: green[700],\r\n    },\r\n    symbolText: {\r\n        color: '#4CC417',\r\n        // backgroundColor: green[700],\r\n    },\r\n    button: {\r\n\t\t\tmargin: theme.spacing(0, 1, 0),\r\n    },\r\n\t\ttitle: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: blue[700],\r\n\t\t},\r\n    heading: {\r\n\t\t\tfontSize: theme.typography.pxToRem(15),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t},\r\n\t\taccordianSummary: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\t//backgroundColor: pink[100],\r\n\t\t},\r\n\t\tzeroAppt: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tbackgroundColor: pink[100],\r\n\t\t},\r\n\t\tnormalAccordian: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tbackgroundColor: pink[100],\r\n\t\t},\r\n\t\tselectedAccordian: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tbackgroundColor: yellow[100],\r\n\t\t},\r\n    secondaryHeading: {\r\n      fontSize: theme.typography.pxToRem(15),\r\n      color: theme.palette.text.secondary,\r\n    },\r\n\t\tnoPadding: {\r\n\t\t\tpadding: \"none\", \r\n\t\t},\r\n\tapptName: {\r\n\t\tfontSize: theme.typography.pxToRem(15),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tcolor: blue[700]\r\n\t},  \r\n\tnewAppt: {\r\n\t\tbackgroundColor: pink[100],\r\n\t},\r\n\tallAppt: {\r\n\t\tbackgroundColor: blue[100],\r\n\t},\r\n\tselect: {\r\n\t\tpadding: \"none\", \r\n\t\tbackgroundColor: '#B3E5FC',\r\n\t\tmargin: \"none\",\r\n\t},\r\n\ttable: {\r\n    //minWidth: 750,\r\n  },\r\n  td : {\r\n    border: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n  },\r\n\ttdPending : {\r\n    border: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tborderWidth: 1,\r\n\t\tbackgroundColor: blue[100],\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n  },\r\n\ttdCancel : {\r\n\t\tbackgroundColor: pink[100],\r\n    border: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n  },\r\n\ttdVisit : {\r\n\t\tbackgroundColor: lime[300],\r\n    border: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n  },\r\n\tth: { \r\n\t\tborder: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tfontSize: theme.typography.pxToRem(13),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t//backgroundColor: '#FFA726',\r\n\t\tbackgroundColor: deepOrange[200],\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n\t},\r\n\twd: {\r\n\t\tborder: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tbackgroundColor: '#E0E0E0',\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n\t},\r\n\twe: {\r\n\t\tborder: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tbackgroundColor: '#F8BBD0',\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n\t},\r\n\ttoday: {\r\n\t\tborder: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tbackgroundColor: green[300],\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n\t},\r\n\tnoday: {\r\n\t\tborder: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tbackgroundColor: blueGrey[300],\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n\t},\r\n\tho: {\r\n\t\tborder: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tbackgroundColor: yellow[400],\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n\t},\r\n}));\r\n\r\nconst MINLEFT={month: 8, year: 2021};\r\n\r\nvar userCid;\r\nvar customerData;\r\n\r\nexport default function Assistant() {\r\n  const classes = useStyles();\r\n\tconst gClasses = globalStyles();\r\n\tconst alert = useAlert();\r\n\t//gClasses.drawerPaper.width = 300;\r\n\t\r\n\tconst [userArray, setUserArray] = useState([]);\r\n\tconst [isDrawerOpened, setIsDrawerOpened] = useState(\"\");\r\n\t\r\n\tconst [uid, setUid] = useState(0);\r\n\tconst [userName, setUserName] = useState(\"\");\r\n\tconst [userMobile, setUserMobile] = useState(0);\r\n\tconst [userEmail, setUserEmail] = useState(\"\");\r\n\r\n  useEffect(() => {\t\r\n\t\tcustomerData = JSON.parse(sessionStorage.getItem(\"customerData\"));\r\n\t\tuserCid = sessionStorage.getItem(\"cid\");\r\n\t\t\r\n\t\tconst makeSlots  = async () => {\r\n\t\t\t// check all holidays\t\t\t\r\n\t\t}\r\n\t\tgetUsers();\r\n  }, []);\r\n\r\n\tasync function getUsers() {\r\n\t\ttry {\r\n\t\t\tlet myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/user/getAssistant/${userCid}`;\r\n\t\t\tvar resp = await axios.get(myUrl);\r\n\t\t\t//console.log(resp.data);\r\n\t\t\tsetUserArray(resp.data);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\tsetUserArray([]);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tasync function handleCancel(usr) {\r\n\t\tvsDialog('Delete user',`Are you sure you want to delete user ${usr.displayName}?`,\r\n\t\t\t{label: \"Yes\", onClick: () => handleCancelConfirm(usr) },\r\n\t\t\t{label: \"NO\" }\r\n\t\t);\t\r\n\t}\r\n\t\r\n\tasync function handleCancelConfirm(usr) {\t\t\r\n\t\ttry {\r\n\t\t\tlet myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/user/deleteassistant/${userCid}/${usr.uid}`;\r\n\t\t\tvar resp = await axios.get(myUrl);\r\n\t\t\t// success\r\n\t\t\tlet tmp = userArray.filter(x => x.uid !== usr.uid);\r\n\t\t\t//console.log(tmp);\r\n\t\t\tsetUserArray(tmp);\r\n\t\t\talert.success(\"Successfully deleted user \"+usr.displayName);;\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\talert.success(\"Error deleting user \"+usr.displayName);\r\n\t\t}\r\n\t\t\t\r\n\t}\r\n\t\r\n\tfunction handleAdd() {\r\n\t\tsetUserName(\"\");\r\n\t\tsetUserMobile(0);\r\n\t\tsetUserEmail(\"\");\r\n\t\tsetIsDrawerOpened(\"ADD\");\r\n\t}\r\n\t\r\n\tasync function handleAddEditSubmit() {\r\n\t\tif (isDrawerOpened === \"ADD\") {\r\n\t\t\ttry {\r\n\t\t\t\tlet tmp = encrypt(userEmail);\r\n\t\t\t\tlet myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/user/addAssistant/${userCid}/${userName}/${tmp}/${userMobile}`;\r\n\t\t\t\tvar resp = await axios.get(myUrl);\r\n\t\t\t\tconsole.log(resp.data); \t\r\n\t\t\t\tlet tmpArray = [resp.data].concat(userArray);\r\n\t\t\t\ttmpArray = _.sortBy(tmpArray, 'displayName');\r\n\t\t\t\tsetUserArray(tmpArray);\r\n\t\t\t\talert.success(`Successfully added user ${resp.data.displayName}`);\r\n\t\t\t\tsetIsDrawerOpened(\"\");\r\n\t\t\t}\r\n\t\t\tcatch (e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t\talert.error(\"Error adding user \"+userName);\r\n\t\t\t}\r\n\t\t} else if (isDrawerOpened === \"EDIT\") {\r\n\t\t\ttry {\r\n\t\t\t\tlet tmp = encrypt(userEmail);\r\n\t\t\t\tlet myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/user/updateAssistant/${userCid}/${uid}/${userName}/${tmp}/${userMobile}`;\r\n\t\t\t\tvar resp = await axios.get(myUrl);\r\n\t\t\t\tconsole.log(resp.data); \t\r\n\t\t\t\tlet tmpArray = userArray.filter(x => x.uid !== resp.data.uid);\r\n\t\t\t\ttmpArray.push(resp.data)\r\n\t\t\t\ttmpArray = _.sortBy(tmpArray, 'displayName');\r\n\t\t\t\tsetUserArray(tmpArray);\r\n\t\t\t\talert.success(`Successfully updated user ${resp.data.displayName}`);\r\n\t\t\t\tsetIsDrawerOpened(\"\");\r\n\t\t\t}\r\n\t\t\tcatch (e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t\talert.error(\"Error adding user \"+userName);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction handleEdit(usr) {\r\n\t\tsetUid(usr.uid);\r\n\t\tsetUserName(usr.displayName);\r\n\t\tsetUserMobile(usr.mobile);\r\n\t\tsetUserEmail(decrypt(usr.email));\r\n\t\tsetIsDrawerOpened(\"EDIT\");\r\n\t}\r\n\t\r\n\t\r\n\tfunction DisplayUsers() {\r\n\treturn (\r\n\t<Grid className={gClasses.noPadding} key=\"Appt\" container alignItems=\"center\" >\r\n\t{userArray.map( (a, index) => \r\n\t\t<Grid key={\"HOL\"+index} item xs={12} sm={6} md={3} lg={3} >\r\n\t\t{(sessionStorage.getItem(\"userType\") === \"Doctor\") &&\r\n\t\t\t<DisplayUserDetails \r\n\t\t\t\tuser={a} \r\n\t\t\t\tbutton1={\r\n\t\t\t\t\t<IconButton color={'primary'} size=\"small\" onClick={() => { handleEdit(a)}}  >\r\n\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t}\r\n\t\t\t\tbutton2={\r\n\t\t\t\t\t<IconButton color={'secondary'} size=\"small\" onClick={() => { handleCancel(a)}}  >\r\n\t\t\t\t\t\t<CancelIcon />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t}\r\n\t\t{(sessionStorage.getItem(\"userType\") !== \"Doctor\") &&\r\n\t\t\t<DisplayUserDetails \r\n\t\t\t\tuser={a} \r\n\t\t\t/>\r\n\t\t}\r\n\t\t</Grid>\r\n\t)}\r\n\t</Grid>\t\r\n\t)}\r\n\t\r\n\t\r\n\r\n\treturn (\r\n\t<div className={gClasses.webPage} align=\"center\" key=\"main\">\r\n\t<DisplayPageHeader headerName=\"Configure Users\" groupName=\"\" tournament=\"\"/>\r\n\t<Container component=\"main\" maxWidth=\"lg\">\r\n\t<CssBaseline />\r\n\t</Container>\r\n\t{(sessionStorage.getItem(\"userType\") === \"Doctor\") &&\r\n\t\t<VsButton name=\"Add new user\" align=\"right\" onClick={handleAdd} />\r\n\t}\r\n\t<DisplayUsers />\r\n\t<Drawer\r\n\t\topen={isDrawerOpened !== \"\"}\r\n\t\tanchor=\"right\"\r\n\t\tvariant=\"temporary\"\r\n\t\tclasses={{\r\n\t\t\tpaper: gClasses.drawerPaper,\r\n\t\t}}\r\n\t>\r\n\t<Box className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t<VsCancel align=\"right\" onClick={() => {setIsDrawerOpened(\"\")}} />\r\n\t<ValidatorForm align=\"center\" className={gClasses.form} onSubmit={handleAddEditSubmit}>\r\n\t\t<Typography align=\"center\" className={classes.modalHeader}>\r\n\t\t{(isDrawerOpened === \"ADD\") ? \"New User\" : \"Edit User\"}\r\n\t\t</Typography>\r\n\t\t<TextValidator fullWidth  required type=\"text\" className={gClasses.vgSpacing}\r\n\t\t\tlabel=\"User Name\" \r\n\t\t\tvalue={userName}\r\n\t\t\tonChange={() => { setUserName(event.target.value) }}\r\n\t\t\tvalidators={[\"noSpecialCharacters\"]}\r\n\t\t\terrorMessages={['Special characters not permitted']}\r\n\t\t/>\r\n\t\t<TextValidator fullWidth  required type=\"email\" className={gClasses.vgSpacing}\r\n\t\t\tlabel=\"User Email\" \r\n\t\t\tvalue={userEmail}\r\n\t\t\tonChange={() => { setUserEmail(event.target.value) }}\r\n\t\t/>\r\n\t\t<TextValidator fullWidth  required type=\"number\" className={gClasses.vgSpacing}\r\n\t\t\tlabel=\"User Mobile\" \r\n\t\t\tvalue={userMobile}\r\n\t\t\tonChange={() => { setUserMobile(event.target.value) }}\r\n\t\t\tvalidators={[\"minNumber:1111111111)\", \"maxNumber:9999999999)\"]}\r\n\t\t\t\terrorMessages={['Invalid mobile number', 'Invalid mobile number']}\r\n\t\t/>\r\n\t\t<VsButton type=\"submit\" name={(isDrawerOpened === \"ADD\") ? \"Add\" : \"Update\"} />\r\n\t\t<ValidComp />\r\n\t</ValidatorForm>\r\n\t</Box>\r\n\t</Drawer>\r\n  </div>\r\n  );    \r\n}","import React, { useEffect } from 'react';\r\n//import { createBrowserHistory } from \"history\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useParams } from 'react-router-dom'\r\nimport axios from \"axios\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport GroupIcon from '@material-ui/icons/Group';\r\nimport Button from '@material-ui/core/Button';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormGroup from '@material-ui/core/FormGroup';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Menu from '@material-ui/core/Menu'; \r\nimport {red, blue, green, deepOrange, white} from '@material-ui/core/colors';\r\nimport Divider from '@material-ui/core/Divider';\r\n\r\nimport Visit from \"views/Visit/Visit\"\r\nimport Appointment from \"views/Appointment/Appointment\"\r\nimport Patient from \"views/Patient/Patient.js\" \r\nimport NextVisit from \"views/NextVisit/NextVisit\";\r\nimport Report from \"views/Report/Report.js\" \r\nimport Wallet from \"views/Wallet/Wallet.js\"\r\n\r\nimport Customer from \"views/SuperUser/Customer\";\r\nimport Sample from \"views/SuperUser/Sample.js\"\r\n\r\n\r\n//import PlayerInfo from \"views/MED/PlayerInfo\";\r\n// import Profile from \"views/Profile/Profile.js\"\r\nimport Profile from \"views/Profile/UserProfile\"\r\nimport ChangePassword from \"views/Login/ChangePassword.js\"\r\nimport About from \"views/MED/About.js\"; \r\nimport Home from \"views/MED/Home.js\";\r\nimport ContactUs from \"views/MED/ContactUs.js\";\r\nimport PointSystem from \"views/MED/PointSystem.js\";\r\n\r\nimport WorkingHours from \"views/Settings/WorkingHours\";\r\nimport Holiday from \"views/Settings/Holiday\";\r\nimport Assistant from \"views/Settings/Assistant\";\r\n//import Medicine from \"views/Settings/Medicine.js\" \r\n\r\n\r\nimport Modal from 'react-modal';\r\n// import download from 'js-file-downloader';\r\nimport { BlankArea } from './CustomComponents';\r\nimport {cdRefresh, specialSetPos, upGradeRequired, isMobile,\r\n  downloadApk, clearBackupData,\r\n  checkIdle, setIdle,\r\n  internalToText, textToInternal,\r\n\thandleLogout,\r\n} from \"views/functions.js\"\r\nimport { LocalSee } from '@material-ui/icons';\r\n\r\n\r\nconst customStyles = {\r\n  content : {\r\n    top                   : '50%',\r\n    left                  : '50%',\r\n    right                 : 'auto',\r\n    bottom                : 'auto',\r\n    marginRight           : '-50%',\r\n    transform             : 'translate(-50%, -50%)',\r\n    backgroundColor       : '#000000',\r\n    color                 : '#FFFFFF',\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n\tdoctor: {\r\n\t\tfontSize: theme.typography.pxToRem(28),\r\n    fontWeight: theme.typography.fontWeightBold,\r\n    color: 'white',\r\n\t\tbackgroundColor: green[800],\r\n\t},\r\n\tuserName: {\r\n\t\tfontSize: theme.typography.pxToRem(24),\r\n    fontWeight: theme.typography.fontWeightBold,\r\n    color: 'white',\r\n\t\tmarginLeft: theme.spacing(50),\r\n\t},\r\n\tankit: {\r\n\t\tfontSize: theme.typography.pxToRem(22),\r\n    fontWeight: theme.typography.fontWeightBold,\r\n\t},\r\n  noSpacing: { \r\n    marginTop: theme.spacing(0),\r\n    marginBottom: theme.spacing(0),\r\n    marginLeft: theme.spacing(0),\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  menuButton: {\r\n    // marginRight: theme.spacing(2),\r\n    marginLeft: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  icon : {\r\n    color: '#FFFFFF',\r\n    marginRight: theme.spacing(0),\r\n    marginLeft: theme.spacing(0),\r\n  },\r\n  statButton: {\r\n    //marginRight: theme.spacing(2),\r\n    marginLeft: theme.spacing(2),\r\n  },\r\n  teamButton: {\r\n    marginRight: theme.spacing(0),\r\n    marginLeft: theme.spacing(0),\r\n  },\r\n  visitButton: {\r\n    // marginRight: theme.spacing(2),\r\n    marginLeft: theme.spacing(2),\r\n  },\r\n  new: {\r\n    fontSize: theme.typography.pxToRem(20),\r\n    fontWeight: theme.typography.fontWeightBold,\r\n    color: '#FFFFFF'\r\n  },\r\n  whatIsNew: {\r\n    backgroundColor: '#B3E5FC',\r\n    color: '#000000',\r\n    fontWeight: theme.typography.fontWeightBold,\r\n  },\r\n\tdivider: {\r\n\t\tbackgroundColor: 'blue',\r\n\t},\r\n  title: {\r\n    flexGrow: 1,\r\n\t\tcolor: 'blue',\r\n\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t//paddingTop: theme.spacing(4),\r\n    //paddingBottom: theme.spacing(4),\r\n\t\tpaddingLeft: theme.spacing(4),\r\n\t\tpaddingRight: theme.spacing(4),\r\n  },\r\n\tmenuStyle: {\r\n\t\tpaddingLeft: theme.spacing(2),\r\n\t\tfontSize: theme.typography.pxToRem(16),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\t\r\n\t},\r\n  avatar: {\r\n    margin: theme.spacing(0),\r\n    // backgroundColor: theme.palette.secondary.main,\r\n    // width: theme.spacing(10),\r\n    // height: theme.spacing(10),\r\n  \r\n  },\r\n  avatar1: {\r\n    margin: theme.spacing(0),\r\n    backgroundColor: deepOrange[500],\r\n    color: theme.palette.getContrastText(deepOrange[500]), \r\n\t\t//paddingLeft: theme.spacing(10),\r\n    // width: theme.spacing(10),\r\n    // height: theme.spacing(10),\r\n\t\tmarginLeft: theme.spacing(6),\r\n  },\r\n}));\r\n\r\nexport function setTab(num) {\r\n  \r\n  //myTabPosition = num;\r\n  //console.log(`Menu pos ${num}`);\r\n  localStorage.setItem(\"menuValue\", num);\r\n  cdRefresh();\r\n}\r\n\r\nexport function CricDreamTabs() {\r\n  const history = useHistory();\r\n  const classes = useStyles();\r\n  // for menu \r\n  const [auth, setAuth] = React.useState(true);\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const open = Boolean(anchorEl);\r\n  // for group menu\r\n  const [grpAuth, setGrpAuth] = React.useState(true);\r\n  const [grpAnchorEl, setGrpAnchorEl] = React.useState(null);\r\n  const grpOpen = Boolean(grpAnchorEl);\r\n  const [arunGroup, setArunGroup] = React.useState(false);\r\n\t// check if mobile\r\n\tconst [itIsMobile, SetItIsMobile] = React.useState(isMobile());\r\n\t\r\n  const [value, setValue] = React.useState(0);\r\n  const [upgrade, setUpgrade] = React.useState(false);\r\n  const [modalIsOpen,setIsOpen] = React.useState(true);\r\n  const [userGroup, setUserGroup] = React.useState([]);\r\n  const [latestApk, setLatestApk] = React.useState(null);\r\n\r\n  //console.log(location.pathname);\r\n\r\n  useEffect(() => {       \r\n    const checkVersion = async () => {\r\n      //console.log(\"about to call upgrade\");\r\n      let upg = await upGradeRequired();\r\n      // console.log(upg);\r\n      if (upg.latest) setLatestApk(upg.latest);\r\n\r\n      setUpgrade(upg.status);\r\n      if (upg.status) setIsOpen(true);\r\n    }\r\n\t\t\r\n    function setMenuValue() {\r\n      setValue(parseInt(localStorage.getItem(\"menuValue\")));\r\n      setIdle(false);\r\n    }\r\n    setMenuValue();\r\n}, []);\r\n\r\n\r\n  //console.log(`in Tab function  ${localStorage.getItem(\"menuValue\")}`);\r\n\r\n  const handleChange = (event) => {\r\n    setAuth(event.target.checked);\r\n  };\r\n\r\n  const handleMenu = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  function handleGrpMenu(event) {\r\n    setGrpAnchorEl(event.currentTarget);\r\n    //console.log(event.currentTarget);\r\n\t\tsetArunGroup(true);\r\n  };\r\n\r\n  async function handleGroupSelect(index) {\r\n    setArunGroup(false);\r\n    let gRec = userGroup[index];\r\n    try {\r\n      await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/group/setdefaultgroup/${localStorage.getItem(\"uid\")}/${gRec.gid}`);\r\n      localStorage.setItem(\"gid\", gRec.gid);\r\n      localStorage.setItem(\"groupName\", gRec.groupName);\r\n      localStorage.setItem(\"tournament\", gRec.tournament);\r\n      localStorage.setItem(\"admin\", gRec.admin);\r\n      clearBackupData();\r\n      cdRefresh();\r\n    } catch (e) {\r\n      console.log(e);\r\n      console.log(\"error setting default group\");\r\n    }\r\n  }\r\n  \r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const handleGrpClose = () => {\r\n    setGrpAnchorEl(null);\r\n    setArunGroup(false);\r\n  };\r\n\r\n  function setMenuValue(num) {\r\n    setValue(num);\r\n    handleClose();\r\n    localStorage.setItem(\"menuValue\", num);\r\n  }\r\n\r\n\r\n\tconst handleHome = () => { setMenuValue(1);  }\r\n  const handleAppointment = () => { setMenuValue(2);  }\r\n  const handleVisit = () => { setMenuValue(3);  }\r\n\r\n  const handlePatient = () => { handleClose(); setMenuValue(901);}\r\n\tconst handleNextVisit = () => { handleClose(); setMenuValue(904);}\r\n\tconst handleReport = () => { handleClose(); setMenuValue(905);}\r\n\t\r\n  const handleProfile = () => { handleClose(); handleGrpClose(); setMenuValue(101);}\r\n\tconst handleWallet = () => { handleClose(); handleGrpClose(); setMenuValue(102);}\r\n\tconst handleChangePassword = () => { handleClose(); handleGrpClose(); setMenuValue(103);}\r\n\tconst handleContactUs = () => { handleClose(); setMenuValue(202);}\r\n\t\r\n\tconst handleSample = () => { handleClose(); setMenuValue(801);}\r\n\tconst handleCustomer = () => { handleClose(); setMenuValue(802);}\r\n\t\r\n\tconst handleWorkingHours = () => { handleClose(); setMenuValue(701);}\r\n\tconst handleHoliday = () => { handleClose(); setMenuValue(702);}\r\n\tconst handleAssistant = () => { handleClose(); setMenuValue(703);}\r\n\t//const handleMedicine = () => { handleClose(); setMenuValue(704);}\r\n  \r\n\r\n  function DisplayCdItems() {\r\n\t\t//console.log(\"CD Value\", value);\r\n    switch(value) {\r\n      case 1: \r\n\t\t\t\tif (process.env.REACT_APP_SHOWHOMEPAGE === 'true')\r\n\t\t\t\t\treturn <Home />;\r\n\t\t\t\telse \r\n\t\t\t\t\treturn <Patient />\r\n      case 2: return <Appointment/>;\r\n      case 3: return <Visit/>; \r\n\t\t\t\r\n      case 101: return <Profile />;\r\n      case 102: return <Wallet />;\r\n\t\t\tcase 103: return <ChangePassword />;\r\n\t\t\t\r\n\t\t\tcase 801: return <Sample />\r\n\t\t\tcase 802: return <Customer />\r\n\r\n      case 901: return <Patient />;\r\n\t\t\t//case 903: return <Sample />\r\n\t\t\tcase 904: return <NextVisit />\r\n\t\t\tcase 905: return <Report />\r\n\r\n\t\t\tcase 701: return <WorkingHours />\r\n\t\t\tcase 702: return <Holiday />\r\n\t\t\tcase 703: return <Assistant />\r\n      //case 704: return <Medicine />;\r\n\r\n      default: return  null;\r\n    }\r\n  }\r\n\r\n  async function handleUpgrade() {\r\n    //console.log(\"upgrade requested\");\r\n    closeModal();\r\n    await downloadApk();\r\n    console.log(\"APK has to be downloaded\");\r\n  }\r\n\r\n  function openModal() { setIsOpen(true); }\r\n \r\n  function afterOpenModal() {\r\n    // references are now sync'd and can be accessed.\r\n    //subtitle.style.color = '#f00';\r\n  }\r\n \r\n  function closeModal(){ setIsOpen(false); }\r\n\r\n  function DisplayUpgrade() {\r\n    //console.log(`Upgrate: ${upgrade} Menu Item:   ${value}`)\r\n    // console.log(\"Current\",process.env.REACT_APP_VERSION);\r\n    if (upgrade)\r\n      return(\r\n        <Modal\r\n        isOpen={modalIsOpen}\r\n        onAfterOpen={afterOpenModal}\r\n        onRequestClose={closeModal}\r\n        style={customStyles}\r\n        contentLabel=\"Example Modal\"\r\n        ariaHideApp={false}\r\n      >\r\n        <Typography className={classes.new} align=\"center\">\r\n          Latest Version {latestApk.version}\r\n        </Typography>\r\n        <BlankArea/>\r\n        <Typography className={classes.new} align=\"center\">\r\n          What is new\r\n        </Typography>\r\n        <TextField variant=\"outlined\" multiline fullWidth disabled\r\n          id=\"producttext\"\r\n          // label=\"What is new\" \r\n          className={classes.whatIsNew}\r\n          defaultValue={latestApk.text} \r\n        />\r\n        <BlankArea />\r\n        <Button align=\"center\" key=\"upgrade\" variant=\"contained\" color=\"primary\" size=\"medium\"\r\n        className={classes.visitButton} onClick={handleUpgrade}>Update Now\r\n        </Button>\r\n      </Modal>\r\n      )\r\n    else\r\n      return(null);\r\n  }\r\n\r\n  function DisplayGroupMenu() {\r\n   //console.log(\"Group length\");\r\n\treturn (\r\n\t<div align=\"center\" key=\"usergroups\">\r\n\t\t<Typography className={classes.title}>{sessionStorage.getItem(\"userName\")}</Typography>\r\n\t\t<Divider className={classes.divider} />\r\n\t\t<MenuItem onClick={handleProfile}>\r\n\t\t<Typography className={classes.menuStyle}>Profile</Typography>\r\n\t\t</MenuItem>\r\n\t\t<MenuItem onClick={handleChangePassword}>\r\n\t\t<Typography className={classes.menuStyle}>Change Password</Typography>\r\n\t\t</MenuItem>\r\n\t\t{(window.sessionStorage.getItem(\"userType\") === \"Doctor\") &&\r\n\t\t\t<MenuItem onClick={handleWallet}>\r\n\t\t\t<Typography className={classes.menuStyle}>Wallet</Typography>\r\n\t\t\t</MenuItem>\r\n\t\t}\r\n\t\t<Divider className={classes.divider} />\r\n\t\t<MenuItem onClick={() => {handleClose(); handleLogout(); }}>\r\n\t\t<Typography className={classes.menuStyle}>Logout</Typography>\r\n\t\t</MenuItem>\r\n\t</div>\r\n\t)}\r\n    \r\n  let mylogo = `${process.env.PUBLIC_URL}/favicon.ico`;\r\n  let groupCharacter=\"G\";\r\n  let currencyChar = '₹';\r\n  let myName = localStorage.getItem(\"userName\");\r\n\t\r\n\t//console.log(\"menuValue\", localStorage.getItem(\"menuValue\"));\r\n\t//console.log(\"value\", value);\r\n\t//console.log(\"Is it Mobile\", isMobile());\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"static\">\r\n        <Toolbar className={classes.noSpacing}>\r\n          {auth && (\r\n            <div>\r\n              <IconButton\r\n                aria-label=\"account of current user\"\r\n                aria-controls=\"menu-appbar\"\r\n                aria-haspopup=\"true\"\r\n                onClick={handleMenu}\r\n                color=\"inherit\"\r\n              >\r\n                <MenuIcon className={classes.icon}/>\r\n              </IconButton>\r\n              <Menu\r\n                id=\"menu-appbar\"\r\n                anchorEl={anchorEl}\r\n                anchorOrigin={{\r\n                  vertical: 'top',\r\n                  horizontal: 'left',\r\n                }}\r\n                // keepMounted\r\n                transformOrigin={{\r\n                  vertical: 'top',\r\n                  horizontal: 'right',\r\n                }}\r\n                open={open}\r\n                onClose={handleClose}\r\n              >\r\n\t\t\t\t\t\t\t\t<Typography className={classes.title}>{sessionStorage.getItem(\"userName\")}</Typography>\r\n\t\t\t\t\t\t\t\t<Divider className={classes.divider} />\r\n                <MenuItem onClick={handleProfile}>\r\n\t\t\t\t\t\t\t\t\t<Typography className={classes.menuStyle}>Profile</Typography>\r\n\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t<MenuItem onClick={handleChangePassword}>\r\n\t\t\t\t\t\t\t\t\t<Typography className={classes.menuStyle}>Change Password</Typography>\r\n\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t{(window.sessionStorage.getItem(\"userType\") === \"Doctor\") &&\r\n\t\t\t\t\t\t\t\t\t<MenuItem onClick={handleWallet}>\r\n\t\t\t\t\t\t\t\t\t<Typography className={classes.menuStyle}>Wallet</Typography>\r\n\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t}\r\n                <Divider className={classes.divider}/>\r\n\t\t\t\t\t\t\t\t{(itIsMobile) &&\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<MenuItem onClick={handleAppointment}>\r\n\t\t\t\t\t\t\t\t\t<Typography className={classes.menuStyle}>Appointment</Typography>\r\n\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t<MenuItem onClick={handlePatient}>\r\n\t\t\t\t\t\t\t\t\t<Typography className={classes.menuStyle}>Patient</Typography>\r\n\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t<Divider className={classes.divider} />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t<div align=\"center\">\r\n\t\t\t\t\t\t\t\t<Typography className={classes.title}>Settings</Typography>\r\n\t\t\t\t\t\t\t\t<MenuItem onClick={handleWorkingHours}>\r\n\t\t\t\t\t\t\t\t<Typography className={classes.menuStyle}>Working Hours</Typography>\r\n\t\t\t\t\t\t\t\t</MenuItem>\t\r\n\t\t\t\t\t\t\t\t<MenuItem onClick={handleHoliday}>\r\n\t\t\t\t\t\t\t\t<Typography className={classes.menuStyle}>Holidays</Typography>\r\n\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t<MenuItem onClick={handleAssistant}>\r\n\t\t\t\t\t\t\t\t<Typography className={classes.menuStyle}>User</Typography>\r\n\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{(window.sessionStorage.getItem(\"userType\") === \"Developer\") &&\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<Divider className={classes.divider}/>\r\n\t\t\t\t\t\t\t\t\t<MenuItem onClick={handleSample}>\r\n\t\t\t\t\t\t\t\t\t<Typography className={classes.menuStyle}>Sample</Typography>\r\n\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t<MenuItem onClick={handleCustomer}>\r\n\t\t\t\t\t\t\t\t\t<Typography className={classes.menuStyle}>Customer</Typography>\r\n\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t}\r\n                {/*<MenuItem onClick={handleContactUs}>Contact Us</MenuItem>*/}\r\n\t\t\t\t\t\t\t\t<Divider className={classes.divider}/>\r\n\t\t\t\t\t\t\t\t<MenuItem onClick={() => {handleClose(); handleLogout(); }}>\r\n\t\t\t\t\t\t\t\t\t<Typography className={classes.menuStyle}>Logout</Typography>\r\n\t\t\t\t\t\t\t\t</MenuItem>\r\n              </Menu>\r\n            </div>\r\n          )}\r\n          {/* <IconButton edge=\"start\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\">\r\n            <MenuIcon />\r\n          </IconButton> */}\r\n\t\t\t\t\t<Typography onClick={handleHome}>\r\n\t\t\t\t\t\t<span className={classes.doctor}>+</span>\r\n\t\t\t\t\t\t<span className={classes.ankit}> Doctor Viraag</span>\r\n\t\t\t\t\t</Typography>\r\n          {/*<IconButton\r\n            aria-label=\"account of current user\"\r\n            aria-controls=\"menu-appbar\"\r\n            aria-haspopup=\"true\"\r\n            onClick={handleHome}\r\n            color=\"inherit\"\r\n          >\r\n            <HomeIcon className={classes.icon}/>\r\n          </IconButton>*/}\r\n\t\t\t\t\t{(itIsMobile === false) &&\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Button color=\"inherit\" className={classes.statButton} onClick={handleAppointment}>Appt</Button>\r\n\t\t\t\t\t\t<Button color=\"inherit\" className={classes.visitButton} onClick={handlePatient}>Patient</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{(false) &&\r\n\t\t\t\t\t<div align=\"right\">\r\n\t\t\t\t\t<Avatar \r\n            aria-label=\"account of current user\"\r\n            aria-controls=\"user-appbar\"\r\n            aria-haspopup=\"true\"\r\n            color=\"inherit\"\r\n            variant=\"circular\" \r\n\t\t\t\t\t\tonClick={handleGrpMenu}\r\n\t\t\t\t\t\tclassName={classes.avatar1}>{sessionStorage.getItem(\"userName\").substr(0,1)}\r\n          </Avatar>\r\n\t\t\t\t\t<Menu\r\n            id=\"group-appbar\"\r\n            anchorEl={grpAnchorEl}\r\n            anchorOrigin={{\r\n              vertical: 'top',\r\n              horizontal: 'right',\r\n            }}\r\n            // keepMounted\r\n            transformOrigin={{\r\n              vertical: 'top',\r\n              horizontal: 'right',\r\n            }}\r\n            open={arunGroup}\r\n            onClose={handleGrpClose}\r\n          >\r\n            <DisplayGroupMenu />\r\n          </Menu>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{/*<Typography onClick={handleHome}>\r\n\t\t\t\t\t\t<span className={classes.userName}>{sessionStorage.getItem(\"userName\")}</span>\r\n\t\t\t\t\t</Typography>*/}\r\n\t\t\t </Toolbar>\r\n      </AppBar>\r\n      <DisplayCdItems/>\r\n      {/* <DisplayUpgrade/> */}\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\n\r\n\r\n\r\n//colours \r\nimport {  blue, yellow } from '@material-ui/core/colors';\r\n\r\n\r\nfunction disabled() {\r\n\t//alert(\"disabled\");\r\n}\r\n\r\n//var liStyle = {padding: \"5px 10px\", margin: \"4px 2px\", color: 'black', fontSize:'16px', borderRadius: 7, border: 2};\r\n\r\nexport default function VsButton(props) {\r\nvar bSTyle = {padding: \"5px 10px\", margin: \"4px 2px\", color: 'white', fontSize:'14px', borderRadius:7, border: 2};\r\n\r\nbSTyle.backgroundColor = (props.color) ? props.color: 'blue';\r\nlet handler=disabled;\r\nif (props.disabled) {\r\n\t// job done\r\n\tbSTyle.backgroundColor = '#424242';\r\n\tbSTyle.color = 'black';\r\n} else {\r\n\tif (props.onClick)\r\n\t\thandler=props.onClick\r\n}\r\n\r\nif (props.align == null)\r\n\treturn(<button style={bSTyle} onClick={handler} >{props.name}</button>);\r\nelse\r\n\treturn (\r\n\t<div align={props.align}>\r\n\t\t<button style={bSTyle} onClick={handler} >{props.name}</button>\r\n\t</div>\r\n\t)\r\n}\r\n\r\n","import {\r\n  blackColor,\r\n  whiteColor,\r\n  hexToRgb\r\n} from \"assets/jss/material-dashboard-react.js\";\r\n\r\nconst cardStyle = {\r\n  card: {\r\n    border: \"0\",\r\n    marginBottom: \"30px\",\r\n    marginTop: \"30px\",\r\n    borderRadius: \"6px\",\r\n    color: \"rgba(\" + hexToRgb(blackColor) + \", 0.87)\",\r\n    background: whiteColor,\r\n    width: \"100%\",\r\n    boxShadow: \"0 1px 4px 0 rgba(\" + hexToRgb(blackColor) + \", 0.14)\",\r\n    position: \"relative\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    minWidth: \"0\",\r\n    wordWrap: \"break-word\",\r\n    fontSize: \".875rem\"\r\n  },\r\n  cardPlain: {\r\n    background: \"transparent\",\r\n    boxShadow: \"none\"\r\n  },\r\n  cardProfile: {\r\n    marginTop: \"30px\",\r\n    textAlign: \"center\"\r\n  },\r\n  cardChart: {\r\n    \"& p\": {\r\n      marginTop: \"0px\",\r\n      paddingTop: \"0px\"\r\n    }\r\n  }\r\n};\r\n\r\nexport default cardStyle;\r\n","import React from \"react\";\r\n// nodejs library that concatenates classes\r\nimport classNames from \"classnames\";\r\n// nodejs library to set properties for components\r\nimport PropTypes from \"prop-types\";\r\n// @material-ui/core components\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n// @material-ui/icons\r\n\r\n// core components\r\nimport styles from \"assets/jss/material-dashboard-react/components/cardStyle.js\";\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\nexport default function Card(props) {\r\n  const classes = useStyles();\r\n  const { className, children, plain, profile, chart, ...rest } = props;\r\n  const cardClasses = classNames({\r\n    [classes.card]: true,\r\n    [classes.cardPlain]: plain,\r\n    [classes.cardProfile]: profile,\r\n    [classes.cardChart]: chart,\r\n    [className]: className !== undefined\r\n  });\r\n  return (\r\n    <div className={cardClasses} {...rest}>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nCard.propTypes = {\r\n  className: PropTypes.string,\r\n  plain: PropTypes.bool,\r\n  profile: PropTypes.bool,\r\n  chart: PropTypes.bool,\r\n  children: PropTypes.node\r\n};\r\n","const cardBodyStyle = {\r\n  cardBody: {\r\n    padding: \"0.9375rem 20px\",\r\n    flex: \"1 1 auto\",\r\n    WebkitBoxFlex: \"1\",\r\n    position: \"relative\"\r\n  },\r\n  cardBodyPlain: {\r\n    paddingLeft: \"5px\",\r\n    paddingRight: \"5px\"\r\n  },\r\n  cardBodyProfile: {\r\n    marginTop: \"15px\"\r\n  }\r\n};\r\n\r\nexport default cardBodyStyle;\r\n","import React from \"react\";\r\n// nodejs library that concatenates classes\r\nimport classNames from \"classnames\";\r\n// nodejs library to set properties for components\r\nimport PropTypes from \"prop-types\";\r\n// @material-ui/core components\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n// @material-ui/icons\r\n\r\n// core components\r\nimport styles from \"assets/jss/material-dashboard-react/components/cardBodyStyle.js\";\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\nexport default function CardBody(props) {\r\n  const classes = useStyles();\r\n  const { className, children, plain, profile, ...rest } = props;\r\n  const cardBodyClasses = classNames({\r\n    [classes.cardBody]: true,\r\n    [classes.cardBodyPlain]: plain,\r\n    [classes.cardBodyProfile]: profile,\r\n    [className]: className !== undefined\r\n  });\r\n  return (\r\n    <div className={cardBodyClasses} {...rest}>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nCardBody.propTypes = {\r\n  className: PropTypes.string,\r\n  plain: PropTypes.bool,\r\n  profile: PropTypes.bool,\r\n  children: PropTypes.node\r\n};\r\n","import { createContext } from \"react\";\r\n\r\nexport const UserContext = createContext(null);","import {\r\n  successColor,\r\n  whiteColor,\r\n  grayColor,\r\n  hexToRgb\r\n} from \"assets/jss/material-dashboard-react.js\";\r\nimport { red, blue, green, deepOrange, deepPurple, yellow } from '@material-ui/core/colors';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\n\r\nconst globalStyles = makeStyles((theme) => ({\r\n\tindexSelection: {\r\n\t\tcolor: 'green',\r\n\t\tfontSize: theme.typography.pxToRem(28),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tpadding: \"2px 2px\", \r\n\t\tmargin: \"2px 2px\", \r\n\t},\r\n\tfilterRadio: {\r\n\t\tfontSize: theme.typography.pxToRem(14),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tcolor: '#000000',\t\r\n\t},\r\n\tslotTitle: {\r\n\t\tcolor: 'green',\r\n\t\tfontSize: theme.typography.pxToRem(28),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tpadding: \"10px 10px\", \r\n\t\tmargin: \"10px 10px\", \r\n\t},\r\n\tselectedTooth: {\r\n\t\tbackgroundColor: green[900],\r\n\t\tcolor: 'white',\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tmargin: \"3px\",\r\n\t},\r\n\tnormalTooth: {\r\n\t\t//backgroundColor: 'lightGreen',\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tmargin: \"3px\",\r\n\t},\r\n\ttoothNumber: {\r\n\t\tborderColour: 'black',\r\n\t\tborderWidth: \"1px\",\r\n\t\tborderRadius: \"0px\",\r\n\t\tborderType: \"solid\",\r\n\t\tinnerPadding: \"0px\",\r\n\t\t//padding: \"10px\",\r\n\t\t//margin: \"10px\",\r\n\t},\r\n\ttooth: {\r\n\t\t//backgroundColor: 'lightGreen',\r\n\t\tfontSize: theme.typography.pxToRem(12),\r\n\t\t//fontWeight: theme.typography.fontWeightBold,\r\n\t},\r\n\ttoothType: {\r\n\t\tcolor: 'blue',\r\n\t\tfontSize: theme.typography.pxToRem(18),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tmargin: \"5px\",\r\n\t},\r\n\tblueCheckBox: {\r\n\t\tcolor: 'blue',\r\n\t},\r\n\tblueCheckBoxLabel: {\r\n\t\tcolor: 'blue',\r\n\t\tfontSize: theme.typography.pxToRem(14),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t},\r\n\tfunctionSelected: {\r\n\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tcolor: \"blue\",\r\n\t},\r\n\tfunctionUnselected: {\r\n\t\tfontSize: theme.typography.pxToRem(16),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t},\r\n\tgreen: {\r\n\t\tcolor: green[900],\r\n\t},\r\n\tdeepOrange: {\r\n\t\tcolor: deepOrange[900],\r\n\t},\r\n\tblue: {\r\n\t\tcolor: 'blue',\r\n\t},\r\n\tbgRed: {\r\n\t\tbackgroundColor: 'red',\r\n\t},\r\n\tbgBlue: {\r\n\t\tbackgroundColor: 'blue',\r\n\t},\r\n\tdivider: {\r\n\t\tbackgroundColor: 'blue',\r\n\t\tpaddingTop: '5px',\r\n\t\tpaddingLeft: '5px',\r\n\t},\r\n  root: {\r\n    width: '100%',\r\n    backgroundColor: '#FAF5E9',\r\n  },\r\n\tdrawerPaper: {\r\n    //position: 'relative',\r\n    whiteSpace: 'nowrap',\r\n    width: 300,\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n    //background: '#535454',\r\n    //color: '#fff',\r\n  },\r\n\ttitle: {\r\n\t\tfontSize: theme.typography.pxToRem(18),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\t\r\n\t\tcolor: 'blue',\r\n\t},\r\n\tvgSpacing: {\r\n\t\tpadding: \"10px 10px\", \r\n\t\tmargin: \"10px 10px\", \r\n\t},\r\n\tboxStyle: {\r\n\t\tpadding: \"5px 10px\", \r\n\t\tmargin: \"4px 2px\", \r\n\t\t\r\n\t\t//backgroundColor: blue[300] \r\n\t},\r\n\tselect: {\r\n\t\tpadding: \"none\", \r\n\t\tbackgroundColor: '#B3E5FC',\r\n\t\tmargin: \"none\",\r\n\t},\r\n\tpatientName: {\r\n\t\tfontSize: theme.typography.pxToRem(18),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\t\r\n\t\tcolor: 'blue',\r\n\t},\r\n\tpatientInfo: {\r\n\t\t//marginLeft: theme.spacing(3),\r\n\t\tfontSize: theme.typography.pxToRem(14),\r\n\t},\r\n\tpatientInfo2: {\r\n\t\tfontSize: theme.typography.pxToRem(14),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t},\r\n\tpatientInfo2Green: {\r\n\t\tfontSize: theme.typography.pxToRem(16),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tcolor: 'green',\r\n\t},\r\n\tpatientInfo2Blue: {\r\n\t\tfontSize: theme.typography.pxToRem(16),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tcolor: 'blue',\r\n\t},\r\n\tpatientInfo999: {\r\n\t\tfontSize: theme.typography.pxToRem(14),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tmarginRight: theme.spacing(5),\r\n\t},\r\n\tselectForm: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n\tselectLabel: {\r\n\t\tcolor: yellow[700],\r\n\t},\r\n\tlink: {\r\n\t\tbackgroundColor: 'transparent',\r\n\t},\r\n\twebPage: {\r\n\t\twidth: '100%',\r\n\t\theight: '100%',\r\n\t\tbackgroundColor: 'white',\r\n\t},\r\n\tsignInWelcome: {\r\n\t\talign: \"center\",\r\n\t\t//position: \"fixed\",\r\n\t\t//top: \"40%\",\r\n\t\t//left: \"35%\",\r\n\t\tcolor: blue[700],\r\n\t\tbackgroundColor: yellow[100],\r\n\t\tfontSize: theme.typography.pxToRem(28),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tborder: 5,\r\n\t\tborderRadius: 7,\r\n\t\tborderWidth: 2,\r\n\t\tmargin: 5,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n\t},\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  page: {\r\n  },\r\n\tyesNoTitle: {\r\n    fontSize: theme.typography.pxToRem(16),\r\n    fontWeight: theme.typography.fontWeightBold,\r\n\t\tcolor: blue[700],\r\n  },\r\n\tyesNoNormalMessage: {\r\n    fontSize: theme.typography.pxToRem(12),\r\n    fontWeight: theme.typography.fontWeightBold,\r\n  },\r\n\tyesNoErrorMessage: {\r\n    fontSize: theme.typography.pxToRem(16),\r\n    fontWeight: theme.typography.fontWeightBold,\r\n\t\tcolor: red[700],\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    // backgroundColor: '#FAF5E9',\r\n  },\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    flexBasis: '33.33%',\r\n    flexShrink: 0,\r\n  },\r\n  secondaryHeading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    color: theme.palette.text.secondary,\r\n  },\r\n  message18: {\r\n    fontSize: theme.typography.pxToRem(18),\r\n    fontWeight: theme.typography.fontWeightBold,\r\n    // color: yellow[900]\r\n  },\r\n  message16: {\r\n    fontSize: theme.typography.pxToRem(16),\r\n    fontWeight: theme.typography.fontWeightBold,\r\n    // color: yellow[900]\r\n  },\r\n  message14: {\r\n    fontSize: theme.typography.pxToRem(14),\r\n    fontWeight: theme.typography.fontWeightBold,\r\n    // color: yellow[900]\r\n  },\r\n  message12: {\r\n    fontSize: theme.typography.pxToRem(12),\r\n    fontWeight: theme.typography.fontWeightBold,\r\n    // color: yellow[900]\r\n  },\r\n  message10: {\r\n    fontSize: theme.typography.pxToRem(10),\r\n    fontWeight: theme.typography.fontWeightBold,\r\n    // color: yellow[900]\r\n  },\r\n  button: {\r\n    margin: theme.spacing(0, 1, 0),\r\n  },\r\n  error:  {\r\n    fontSize: '12px',\r\n    color: red[700],\r\n    alignItems: 'center',\r\n    marginTop: '0px',\r\n    fontWeight: theme.typography.fontWeightBold,\r\n  },\r\n  nonerror:  {\r\n    fontSize: '12px',\r\n    color: blue[700],\r\n    alignItems: 'center',\r\n    marginTop: '0px',\r\n    fontWeight: theme.typography.fontWeightBold,\r\n  },\r\n  th: { \r\n    spacing: 0,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n    backgroundColor: '#EEEEEE',\r\n    color: deepOrange[700],\r\n    fontWeight: theme.typography.fontWeightBold,\r\n  },\r\n  td : {\r\n    spacing: 0,\r\n    // border: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n    height: 10,\r\n  },\r\n  upArrowCardCategory: {\r\n    width: \"16px\",\r\n    height: \"16px\"\r\n  },\r\n  stats: {\r\n    color: grayColor[0],\r\n    display: \"inline-flex\",\r\n    fontSize: \"12px\",\r\n    lineHeight: \"22px\",\r\n    \"& svg\": {\r\n      top: \"4px\",\r\n      width: \"10px\",\r\n      height: \"10px\",\r\n      position: \"relative\",\r\n      marginRight: \"3px\",\r\n      marginLeft: \"3px\"\r\n    },\r\n    \"& .fab,& .fas,& .far,& .fal,& .material-icons\": {\r\n      top: \"4px\",\r\n      fontSize: \"16px\",\r\n      position: \"relative\",\r\n      marginRight: \"3px\",\r\n      marginLeft: \"3px\"\r\n    }\r\n  },\r\n  cardCategory: {\r\n    color: grayColor[0],\r\n    margin: \"0\",\r\n    fontSize: \"14px\",\r\n    marginTop: \"0\",\r\n    paddingTop: \"10px\",\r\n    marginBottom: \"0\"\r\n  },\r\n  cardCategoryWhite: {\r\n    color: \"rgba(\" + hexToRgb(whiteColor) + \",.62)\",\r\n    margin: \"0\",\r\n    fontSize: \"14px\",\r\n    marginTop: \"0\",\r\n    marginBottom: \"0\"\r\n  },\r\n  cardTitle: {\r\n    color: grayColor[2],\r\n    marginTop: \"0px\",\r\n    minHeight: \"auto\",\r\n    fontWeight: \"300\",\r\n    fontFamily: \"'Roboto', 'Helvetica', 'Arial', sans-serif\",\r\n    marginBottom: \"3px\",\r\n    textDecoration: \"none\",\r\n    \"& small\": {\r\n      color: grayColor[1],\r\n      fontWeight: \"400\",\r\n      lineHeight: \"1\"\r\n    }\r\n  },\r\n  cardTitleWhite: {\r\n    color: whiteColor,\r\n    marginTop: \"0px\",\r\n    minHeight: \"auto\",\r\n    fontWeight: \"300\",\r\n    fontFamily: \"'Roboto', 'Helvetica', 'Arial', sans-serif\",\r\n    marginBottom: \"3px\",\r\n    textDecoration: \"none\",\r\n    \"& small\": {\r\n      color: grayColor[1],\r\n      fontWeight: \"400\",\r\n      lineHeight: \"1\"\r\n    }\r\n  },\r\n  modalContainer: {\r\n    content: \"\",\r\n    opacity: 0.8,\r\n    // background: rgb(26, 31, 41) url(\"your picture\") no-repeat fixed top;\r\n    // background-blend-mode: luminosity;\r\n    /* also change the blend mode to what suits you, from darken, to other \r\n    many options as you deem fit*/\r\n    // background-size: cover;\r\n    // top: 0;\r\n    // left: 0;\r\n    // right: 0;\r\n    // bottom: 0;\r\n    // position: absolute;\r\n    // z-index: -1;\r\n    // height: 500px;\r\n  },\r\n  modalTitle: {\r\n    color: blue[700],\r\n    fontSize: theme.typography.pxToRem(20),\r\n    fontWeight: theme.typography.fontWeightBold,\r\n  },\r\n  modalMessage: {\r\n    //color: blue[700],\r\n    fontSize: theme.typography.pxToRem(14),\r\n    //fontWeight: theme.typography.fontWeightBold,\r\n  },\r\n  modalbutton: {\r\n    margin: theme.spacing(2, 2, 2),\r\n  },\r\n  jumpButton: {\r\n    // margin: theme.spacing(0, 1, 0),\r\n    marginTop: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n    backgroundColor: '#FFFFFF',\r\n    color: '#1A237E',\r\n    fontWeight: theme.typography.fontWeightBold,\r\n    fontSize: '16px',\r\n    width: theme.spacing(20),\r\n  },\r\n  jumpButtonFull: {\r\n    // margin: theme.spacing(0, 1, 0),\r\n    marginTop: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n    backgroundColor: '#FFFFFF',\r\n    color: '#1A237E',\r\n    fontWeight: theme.typography.fontWeightBold,\r\n    fontSize: '16px',\r\n    width: theme.spacing(40),\r\n  },\r\n  noSpace: {\r\n    // margin: theme.spacing(0, 1, 0),\r\n    marginTop: theme.spacing(0),\r\n    marginRight: theme.spacing(0),\r\n    marginBottom: theme.spacing(0),\r\n    marginLeft: theme.spacing(0),\r\n  },\r\n  show: {\r\n    display: 'block',\r\n  },\r\n  hide: {\r\n    display: 'none',\r\n  },\r\n}));\r\n\r\nexport default globalStyles;\r\n","import React,{useState, useEffect } from 'react';\r\nimport { InputAdornment, makeStyles, Container, CssBaseline } from '@material-ui/core';\r\nimport axios from 'axios';\r\nimport VsButton from \"CustomComponents/VsButton\"; \r\nimport VsCancel from \"CustomComponents/VsCancel\";\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Box from '@material-ui/core/Box';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Link from '@material-ui/core/Link';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\nimport Modal from 'react-modal'; \r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport { useAlert } from 'react-alert'\r\nimport StepProgressBar from 'react-step-progress';\r\n\r\n// icons\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport LocalHospitalIcon from '@material-ui/icons/LocalHospital';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport EventNoteIcon from '@material-ui/icons/EventNote';\r\nimport VisibilityIcon from '@material-ui/icons/Visibility';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport NoteAddIcon from '@material-ui/icons/NoteAdd';\r\n\r\n// styles\r\nimport globalStyles from \"assets/globalStyles\";\r\nimport modalStyles from \"assets/modalStyles\";\r\nimport {dynamicModal } from \"assets/dynamicModal\";\r\n\r\nimport {DisplayPageHeader, ValidComp, BlankArea, DisplayYesNo,\r\n\tDisplayPatientDetails,\r\n\tDisplayDocumentList,\r\n\tDisplayImage,\r\n\tDisplayPDF,\r\n\tLoadingMessage,\r\n\tDisplayDocumentDetails,\r\n} from \"CustomComponents/CustomComponents.js\"\r\n\r\nimport { \r\nred, blue, yellow, orange, pink, green, brown, deepOrange, lightGreen,\r\n} from '@material-ui/core/colors';\r\n\r\nimport { \r\n\tisMobile, callYesNo,\r\n\tdisablePastDt, disableFutureDt, disableAllDt,\r\n\tvalidateInteger,\r\n\tencrypt, decrypt, \r\n\tleft, right,\r\n\tintString,\r\n\tupdatePatientByFilter,\r\n\tdispAge, dispEmail, dispMobile,\r\n\tordinalSuffix,\r\n\tgetOnlyDate, getDateTime,\r\n\tgetPatientDocument,\r\n\tvsDialog,\r\n} from \"views/functions.js\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\twidth: '100%',\r\n\t}, \r\n\tdateTime: {\r\n\t\tcolor: 'blue',\r\n\t\tfontSize: theme.typography.pxToRem(28),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tbackgroundColor: pink[100],\r\n\t\talign: 'center',\r\n\t\twidth: (isMobile()) ? '60%' : '20%',\r\n\t}, \r\n\tdateTimeNormal: {\r\n\t\tcolor: 'blue',\r\n\t\tfontSize: theme.typography.pxToRem(14),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t//backgroundColor: pink[100],\r\n\t\talign: 'center',\r\n\t\t//width: (isMobile()) ? '60%' : '20%',\r\n\t}, \r\n\tdateTimeBlock: {\r\n\t\tcolor: 'blue',\r\n\t\t//fontSize: theme.typography.pxToRem(28),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t//backgroundColor: pink[100],\r\n\t}, \r\n\tinfo: {\r\n\t\t\tcolor: blue[700],\r\n\t}, \r\n\tfilterRadio: {\r\n\t\t\tfontSize: theme.typography.pxToRem(14),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: '#000000',\t\r\n\t},\r\n\tswitchText: {\r\n\t\tfontSize: theme.typography.pxToRem(14),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t}, \r\n\t\torange: {\r\n\t\t\tbackgroundColor: orange[300],\r\n\t\t\tcolor: '#000000',\r\n\t\t},\r\n    header: {\r\n\t\t\tcolor: '#D84315',\r\n    }, \r\n    error:  {\r\n      // right: 0,\r\n      fontSize: '12px',\r\n      color: red[700],\r\n      // position: 'absolute',\r\n      alignItems: 'center',\r\n      marginTop: '0px',\r\n\t\t},\r\n\t\teditdelete: {\r\n\t\t\tmarginLeft:  '50px',\r\n\t\t\tmarginRight: '50px',\r\n\t\t},\r\n\t\tNoMedicines: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: blue[700]\r\n\t\t},  \r\n\t\tradio: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: \"blue\",\r\n\t\t},\r\n\t\tmedicine: {\r\n\t\t\tfontSize: theme.typography.pxToRem(15),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: blue[700]\r\n\t\t},  \r\n\t\tmodalHeader: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: blue[700]\r\n\t\t},\r\n\t\tmessageText: {\r\n\t\t\tcolor: '#4CC417',\r\n\t\t\tfontSize: 12,\r\n\t\t\t// backgroundColor: green[700],\r\n    },\r\n    symbolText: {\r\n        color: '#4CC417',\r\n        // backgroundColor: green[700],\r\n    },\r\n    button: {\r\n\t\t\tmargin: theme.spacing(0, 1, 0),\r\n    },\r\n\t\ttitle: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: blue[700],\r\n\t\t},\r\n    heading: {\r\n\t\t\tfontSize: theme.typography.pxToRem(15),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t},\r\n\t\taccordianSummary: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\t//backgroundColor: pink[100],\r\n\t\t},\r\n\t\tzeroAppt: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tbackgroundColor: pink[100],\r\n\t\t},\r\n\t\tnormalAccordian: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tbackgroundColor: pink[100],\r\n\t\t},\r\n\t\tselectedAccordian: {\r\n\t\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tbackgroundColor: yellow[100],\r\n\t\t},\r\n    secondaryHeading: {\r\n      fontSize: theme.typography.pxToRem(15),\r\n      color: theme.palette.text.secondary,\r\n    },\r\n\t\tnoPadding: {\r\n\t\t\tpadding: \"none\", \r\n\t\t},\r\n\tapptName: {\r\n\t\tfontSize: theme.typography.pxToRem(15),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tcolor: blue[700]\r\n\t},  \r\n\tnewAppt: {\r\n\t\tbackgroundColor: pink[100],\r\n\t},\r\n\tallAppt: {\r\n\t\tbackgroundColor: blue[100],\r\n\t},\r\n\tselect: {\r\n\t\tpadding: \"none\", \r\n\t\tbackgroundColor: '#B3E5FC',\r\n\t\tmargin: \"none\",\r\n\t},\r\n\ttable: {\r\n    //minWidth: 750,\r\n  },\r\n  td : {\r\n    border: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n  },\r\n\ttdPending : {\r\n    border: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tborderWidth: 1,\r\n\t\tbackgroundColor: blue[100],\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n  },\r\n\ttdCancel : {\r\n\t\tbackgroundColor: pink[100],\r\n    border: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n  },\r\n\ttdVisit : {\r\n\t\tbackgroundColor: lightGreen[300],\r\n    border: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n  },\r\n\tth: { \r\n\t\tborder: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tfontSize: theme.typography.pxToRem(13),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t//backgroundColor: '#FFA726',\r\n\t\tbackgroundColor: deepOrange[200],\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n\t},\r\n\twd: {\r\n\t\tborder: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tbackgroundColor: '#E0E0E0',\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n\t},\r\n\twe: {\r\n\t\tborder: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tbackgroundColor: '#F8BBD0',\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n\t},\r\n\ttoday: {\r\n\t\tborder: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tbackgroundColor: green[300],\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n\t},\r\n\tnoday: {\r\n\t\tborder: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tbackgroundColor: '#FFFFFF',\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n\t},\r\n\tho: {\r\n\t\tborder: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tbackgroundColor: yellow[400],\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n\t},\r\n}));\r\n\r\nconst SupportedMimeTypes = [\r\n\"image/png\",  \"image/jpeg\", \"application/pdf\"\r\n]\r\n\r\nconst SupportedExtensions = [\r\n\"PNG\",  \"JPG\", \"PDF\"\r\n];\r\n\r\nlet searchText = \"\";\r\nfunction setSearchText(sss) { searchText = sss;}\r\n\r\nlet userCid;\r\n \r\nexport default function Document(props) {\r\n\tconst classes = useStyles();\r\n\tconst gClasses = globalStyles();\r\n\tconst alert = useAlert();\r\n\t\r\n\tconst [stepNo, setStepNo] = useState(0);\r\n\tconst [showProgress, setShowProgress] = useState(false);\r\n\t\r\n\tconst [isDrawerOpened, setIsDrawerOpened] = useState(\"\");\r\n\tconst [selectPatient, setSelectPatient] = useState(false);\r\n  const [patientArray, setPatientArray] = useState([])\r\n\tconst [patientMasterArray, setPatientMasterArray] = useState([])\r\n\tconst [currentPatient, setCurrentPatient] = useState(\"\");\r\n\tconst [currentPatientData, setCurrentPatientData] = useState({});\r\n\tconst [isAddEdit, setIsAddEdit] = useState(false);\r\n\tconst [newDocument, setNewDocument] = useState(false);\r\n\t\r\n\tconst [startLoading, setStartLoading] = useState(false);\r\n\tconst [emurName, setEmurName] = useState(\"\");\r\n\tconst [modalRegister, setModalRegister] = useState(0);\r\n\r\n\tconst [dlMime, setDlMime] = useState(\"\");\r\n\tconst [dlFile, setDlFile] = useState(\"\");\r\n\tconst [isPdf, setIsPdf] = useState(false);\r\n\tconst [dlSrc, setDlSrc] = useState(\"\");\r\n\tconst [dlDoc, setDlDoc] = useState({});\r\n\t\r\n\tconst [viewImage, setViewImage] = useState(false);\r\n\t\r\n\tconst [registerStatus, setRegisterStatus] = useState(0);\r\n\tconst [state, setState] = useState({\r\n\tselectedFile: null // Initially, no file is selected \r\n\t})\r\n  const [documentArray, setDocumentArray] = useState([]);\r\n\t\r\n\tconst [title, setTitle] = useState(\"\")\r\n\tconst [name, setName] = useState(\"\");\r\n\tconst [desc, setDesc] = useState(\"\");\r\n\tconst [radioDocumentType, setRadioDocumentType] = useState(\"JPG\");\r\n\t\r\n\tconst [modalIsOpen,setIsOpen] = useState(\"\");\r\n\tfunction openModal(fun) { setIsOpen(fun); }\r\n  function closeModal() { setIsOpen(\"\"); }\t\r\n  function afterOpenModal() {\r\n    // references are now sync'd and can be accessed.\r\n    //subtitle.style.color = '#f00';\r\n  }\r\n\t\r\n\t\r\n  useEffect(() => {\t\t\r\n\t\tconst checkPatient = async () => {\t\t\r\n\t\t\tlet ppp = await getAllPatients();\r\n\t\t\tsetPatientMasterArray(ppp);\r\n\t\t\ttry {\r\n\t\t\t\tconsole.log(\"About to parse share data\");\r\n\t\t\t\tlet patRec = props.patient;\t\t//JSON.parse(sessionStorage.getItem(\"shareData\"));\r\n\t\t\t\t// has come from patient page\r\n\t\t\t\tconsole.log(patRec);\r\n\t\t\t\tsetSearchText(patRec.displayName);\r\n\t\t\t\tsetPatientArray([patRec]);\r\n\t\t\t\tlet ddd = await getPatientDocument(userCid, patRec.pid);\r\n\t\t\t\tsetDocumentArray(ddd);\r\n\t\t\t\tsetCurrentPatientData(patRec);\r\n\t\t\t\tsetCurrentPatient(patRec.displayName);\r\n\t\t\t} catch {\r\n\t\t\t\tsetPatientArray(ppp);\r\n\t\t\t}\r\n\t\t\tsessionStorage.setItem(\"shareData\", \"\");\r\n\t\t\t\r\n\t\t}\r\n\t\tuserCid = sessionStorage.getItem(\"cid\");\r\n\t\tcheckPatient();\r\n\t\t//getDocumentList()\r\n  }, []);\r\n\r\n\tasync  function getAllPatients() {\r\n\t\tif (process.env.REACT_APP_DIRECTREPORT !== 'true')\r\n\t\t\t\treturn [];\r\n\t\t\t\r\n\t\ttry {\r\n\t\t\tlet myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/patient/list/${userCid}`;\r\n\t\t\tlet resp = await axios.get(myUrl);\r\n\t\t\treturn resp.data;\r\n\t\t} catch (e) {\r\n\t\t\treturn [];\r\n\t\t}\t\r\n\t}\r\n\t\t\r\n\tfunction ShowResisterStatus() {\r\n\t\tlet myMsg = \"\";\r\n\t\tswitch (registerStatus) {\r\n\t\t\tcase 0:  break;\r\n\t\t\tcase 100: myMsg = \"Success\"; break;\r\n\t\t\tcase 101: myMsg = \"Report not selected\"; break;\r\n\t\t\tcase 102: myMsg = \"Only Report of type JPG/PNG/PDF supported\"; break;\r\n\t\t\tcase 103: myMsg = \"Duplicate Report Title\"; break;\r\n\t\t\tcase 104: myMsg = \"Error loading document\"; break;\r\n\t\t\tcase 105: myMsg = \"Report file size permitted only up to 1MB\"; break;\r\n\t\t\tdefault:  myMsg = \"Unknown error\"; break;\r\n\t\t}\r\n\t\treturn (\r\n\t\t<div>\r\n\t\t\t<Typography className={((registerStatus % 100) != 0) ? gClasses.error : gClasses.nonerror}>{myMsg}</Typography>\r\n\t\t</div>\r\n\t\t);\r\n\t}\r\n\t\r\n\t\r\n\tasync function handleFileView(d) {\r\n\t\tlet pdfReport;\r\n\t\tsetStartLoading(true);\r\n\t\ttry {\r\n\t\t\tlet myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/image/downloadimage/${userCid}/${d.pid}/${d.title}`\r\n\t\t\tlet resp = await axios.get(myUrl);\r\n\t\t\tsetIsDrawerOpened((d.type === \"PDF\") ? \"PDF\" : \"IMG\");\r\n\t\t\tif (d.type === \"PDF\") {\r\n\t\t\t\t// pdf file\r\n\t\t\t\t// file={`data:application/pdf;base64,${this.state.base64}`}\r\n\t\t\t\tconst b64 = Buffer.from(resp.data.data).toString('base64');\r\n\t\t\t\t//console.log(b64)\r\n\t\t\t\tsetDlFile(b64);\r\n\t\t\t\tpdfReport = true;\r\n\t\t\t} else {\r\n\t\t\t\t//image file\r\n\t\t\t\tconst b64 = Buffer.from(resp.data.data).toString('base64');\r\n\t\t\t\t//console.log(b64);\r\n\t\t\t\tsetDlFile(b64);\r\n\t\t\t\tpdfReport = false\r\n\t\t\t} \r\n\t\t\tsetDlDoc(d);\r\n\t\t\tlet idx = SupportedExtensions.indexOf(d.type);\r\n\t\t\tsetDlMime(SupportedMimeTypes[idx]);\r\n\t\t\tsetViewImage(true);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t}\r\n\t\tsetStartLoading(false);\t\t\t\r\n\t}\r\n\t\r\n\tasync function deleteDoc(d) {\r\n\t\tvsDialog(\"Delete Report\", `Are you sure you want to delete report ${d.title}?`,\r\n\t\t\t{label: \"Yes\", onClick: () => deleteDocConfirm(d) },\r\n\t\t\t{label: \"No\" }\r\n\t\t);\r\n\t}\r\n\t\r\n\t\tasync function deleteDocConfirm(d) {\r\n\t\ttry {\r\n\t\t\tlet myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/image/delete/${userCid}/${currentPatientData.pid}/${d.title}`\r\n\t\t\tlet resp = await axios.get(myUrl);\r\n\t\t\tlet tmpArray = documentArray.filter(x => x.title !== d.title);\r\n\t\t\tsetDocumentArray(tmpArray);\r\n\t\t\talert.success(\"Removed document \"+d.title);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\talert.error(\"Error removing document \"+d.title);\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction reloadDoc(a) {\r\n\t\tsetRegisterStatus(0); \r\n\t\tsetEdit(true); \r\n\t\tsetTitle(a.title); \r\n\t\tsetDesc(a.desc); \r\n\t\tsetState({selectedFile: null}); \r\n\t\tsetNewDocument(true);\r\n\t}\r\n\t\r\n\r\n\t// On file select (from the pop up)\r\n\tfunction onFileChange(event) {\r\n\t\tif ((event.target.files[0].size / (1024*1024)) > 1) {\r\n\t\t\tconsole.log(event.target.files[0].size / (1024*1024));\r\n\t\t\tsetRegisterStatus(105);\r\n\t\t} else {\r\n\t\t\tsetRegisterStatus(0);\r\n\t\t\tsetState({ selectedFile: event.target.files[0] });\r\n\t\t\tconsole.log(event.target.files[0]);\r\n\t\t}\r\n\t};\r\n    \r\n  \r\n  async function  addNewDocumentSubmit()  {\r\n\t\t// validate file is selected\r\n\t\tif (!state.selectedFile) {\r\n\t\t\tsetRegisterStatus(101);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\t// if new doc thena validate title is not duplicate\r\n\t\tif (!edit) {\r\n\t\t\tlet tmp = documentArray.filter(x => x.title.toLowerCase() === title.toLowerCase())\r\n\t\t\tif (tmp.length > 0) {\r\n\t\t\t\tsetRegisterStatus(103);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t// check for supported file types\r\n\t\tif (!SupportedMimeTypes.includes(state.selectedFile.type)) {\r\n\t\t\tsetRegisterStatus(102);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n    // All okay. now prepare to send \r\n\t\t// Update the formData object\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append(\"file\", state.selectedFile, state.selectedFile.name);\r\n\r\n\t\t// Request made to the back end api\r\n\t\t// Send formData object\r\n\t\ttry {\r\n\t\t\tlet myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/image/uploadimage/${userCid}/${currentPatientData.pid}/${currentPatientData.displayName}/${state.selectedFile.name}/${title}/${desc}`\r\n\t\t\tlet resp = await axios.post(myUrl, formData);\r\n\t\t\tconsole.log(resp.data);\r\n\t\t\tsetNewDocument(false);\t\t// done\r\n\t\t\tlet ddd = await getPatientDocument(userCid, currentPatientData.pid);\r\n\t\t\tsetDocumentArray(ddd);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\tsetRegisterStatus(104);\r\n\t\t}\r\n\t};\r\n  \r\n\t\r\n\tasync function addNewPatient() {\r\n\t\ttry {\r\n\t\t\tlet myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/patient/new/${userCid}/${emurName}`;\r\n\t\t\tlet resp = await axios.get(myUrl);\r\n\t\t\tcloseModal();\r\n\t\t\tsetPatientArray([resp.data]);\r\n\t\t} catch(e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\tsetModalRegister(401);\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction ModalResisterStatus() {\r\n    // console.log(`Status is ${modalRegister}`);\r\n\t\tlet regerr = true;\r\n    let myMsg;\r\n    switch (modalRegister) {\r\n      case 0:\r\n        myMsg = \"\";\r\n\t\t\t\tregerr = false;\r\n        break;\r\n      case 100:\r\n        myMsg = \"Medicine successfully updated\";\r\n\t\t\t\tregerr = false;\r\n        break;\r\n      case 101:\r\n        myMsg = `All the doses cannot be 0`;\r\n        break;\r\n      case 102:\r\n        myMsg = `No Medicine selected`;\r\n        break;\r\n      case 200:\r\n        myMsg = \"Note successfully updated\";\r\n\t\t\t\tregerr = false;\r\n        break;\r\n      case 201:\r\n        myMsg = `All notes cannot be 0`;\r\n        break;\r\n      case 202:\r\n        myMsg = `Notes cannot be blank`;\r\n        break;\r\n      case 300:\r\n        myMsg = \"Remark successfully updated\";\r\n\t\t\t\tregerr = false;\r\n        break;\r\n      case 301:\r\n        myMsg = `All notes cannot be 0`;\r\n        break;\r\n      case 302:\r\n        myMsg = `Remark cannot be blank`;\r\n        break;\r\n\t\t\tcase 401:\r\n        myMsg = `Patient name already in database`;\r\n        break;\r\n      default:\r\n          myMsg = \"Unknown Error\";\r\n          break;\r\n    }\r\n    return(\r\n      <div>\r\n        <Typography className={(regerr) ? gClasses.error : gClasses.nonerror}>{myMsg}</Typography>\r\n      </div>\r\n    )\r\n  }\r\n\t\r\n\tfunction DisplayNewPatient() {\r\n\treturn (\t\r\n\t<Container component=\"main\" maxWidth=\"md\">\r\n\t\t<VsCancel align=\"right\" onClick={closeModal} />\r\n\t\t<Typography align=\"center\" className={classes.modalHeader}>\"Input new Patient Name\"</Typography>\r\n\t\t<BlankArea />\r\n\t\t\t<ValidatorForm align=\"center\" className={gClasses.form} onSubmit={addNewPatient} >\r\n\t\t\t<Grid key=\"NewPatirnt\" container justify=\"center\" alignItems=\"center\" >\r\n\t\t\t\t<Grid item xs={10} sm={10} md={10} lg={10} >\r\n\t\t\t\t\t<TextValidator variant=\"outlined\" required fullWidth color=\"primary\"\r\n\t\t\t\t\t\tid=\"emurName\" label=\"New Patient Name\" name=\"emurName\"\r\n\t\t\t\t\t\tonChange={(event) => setEmurName(event.target.value)}\r\n\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\tvalue={emurName}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={2} sm={2} md={2} lg={2} >\r\n\t\t\t\t\t<VsButton name=\"New Patient\" />\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t\t</ValidatorForm>\r\n\t\t\t<ModalResisterStatus />\r\n\t</Container>\r\n\t)}\r\n\t\r\n\tfunction setFilter(myArray, filterStr) {\r\n\t\tfilterStr = filterStr.trim().toLowerCase();\r\n\t\tlet tmpArray;\r\n\t\tif (filterStr !== \"\") {\r\n\t\tif (validateInteger(filterStr)) {\r\n\t\t\t// it is integer. Thus has to be Id\r\n\t\t\ttmpArray = myArray.filter(x => x.pidStr.includes(filterStr));\r\n\t\t} else {\r\n\t\t\ttmpArray = myArray.filter(x => x.displayName.toLowerCase().includes(filterStr));\r\n\t\t}\r\n\t\t} else {\r\n\t\t\ttmpArray = myArray;\r\n\t\t}\r\n\t\tsetPatientArray(tmpArray);\r\n\t}\r\n\t\r\n\tfunction filterPatients(filterStr) {\r\n\t\tsetSearchText(filterStr);\r\n\t\tsetFilter(patientMasterArray, filterStr);\r\n\t}\r\n\r\n\r\n\tasync function handleSelectPatient(rec) {\r\n\t\tsetSelectPatient(false);\r\n\t\tsetCurrentPatient(rec.displayName);\r\n\t\tsetCurrentPatientData(rec);\r\n\t\tlet ddd = await getPatientDocument(userCid, rec.pid);\r\n\t\tsetDocumentArray(ddd);\r\n\t}\r\n\t\r\n\tfunction DisplayAllPatients() {\r\n\treturn (\r\n\t<Grid className={gClasses.noPadding} key=\"AllPatients\" container alignItems=\"center\" >\r\n\t{patientArray.map( (m, index) => \r\n\t\t<Grid key={\"PAT\"+m.pid} item xs={12} sm={6} md={3} lg={3} >\r\n\t\t<DisplayPatientDetails \r\n\t\t\tpatient={m} \r\n\t\t\tbutton1={\r\n\t\t\t\t<IconButton className={gClasses.deepOrange} size=\"small\" onClick={() => { handleSelectPatient(m)}}  >\r\n\t\t\t\t\t<NoteAddIcon />\r\n\t\t\t\t</IconButton>\r\n\t\t\t}\r\n\t\t/>\r\n\t\t</Grid>\r\n\t)}\r\n\t</Grid>\t\r\n\t)}\r\n\t\r\n\tfunction addDoc() {\r\n\t\tsetRegisterStatus(0); \r\n\t\tsetTitle(\"\"); \r\n\t\tsetDesc(\"\"); \r\n\t\tsetState({selectedFile: null});\r\n\t\tsetIsDrawerOpened(\"ADD\");  \r\n\t}\r\n\t\r\n\tfunction editDoc(a) {\r\n\t\tsetRegisterStatus(0); \r\n\t\tsetTitle(a.title); \r\n\t\tsetDesc(a.desc); \r\n\t\tsetState({selectedFile: null}); \r\n\t\tsetIsDrawerOpened(\"EDIT\");  \r\n\t}\r\n\t\r\n\tasync function  addUpdateDocumentSubmit()  {\r\n\t\tif (!state.selectedFile) {\r\n\t\t\tsetRegisterStatus(101);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\t// if new doc then validate title is not duplicate\r\n\t\tif (isDrawerOpened === \"ADD\") {\r\n\t\t\tlet tmp = documentArray.filter(x => x.title.toLowerCase() === title.toLowerCase())\r\n\t\t\tif (tmp.length > 0) {\r\n\t\t\t\talert.error(\"Report title cannot be blank\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t// check for supported file types\r\n\t\tif (!SupportedMimeTypes.includes(state.selectedFile.type)) {\r\n\t\t\talert.error(\"Report type \"+state.selectedFile.type+\" not support\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n    // All okay. now prepare to send \r\n\t\t// Update the formData object\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append(\"file\", state.selectedFile, state.selectedFile.name);\r\n\r\n\t\t// Request made to the back end api\r\n\t\t// Send formData object\r\n\t\ttry {\r\n\t\t\tlet myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/image/uploadimage/${userCid}/${currentPatientData.pid}/${currentPatientData.displayName}/${state.selectedFile.name}/${title}/${desc}`\r\n\t\t\tlet resp = await axios.post(myUrl, formData);\r\n\t\t\tconsole.log(resp.data);\r\n\t\t\tsetIsDrawerOpened(\"\");\t\t// done\r\n\t\t\tlet ddd = await getPatientDocument(userCid, currentPatientData.pid);\r\n\t\t\tsetDocumentArray(ddd);\r\n\t\t\talert.success(\"Report \"+title+\" successfully added\")\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\talert.success(\"Error adding report \"+title);\r\n\t\t}\r\n\t};\r\n  \r\n\tfunction DisplayAllReports() {\r\n\treturn (\r\n\t<Box className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t\t<VsButton align=\"right\" name=\"Add new Medical Report\" onClick={addDoc} />\r\n\t\t{(documentArray.length === 0) &&\r\n\t\t\t<Grid className={gClasses.noPadding} key=\"AllPatients\" container align=\"center\">\r\n\t\t\t\t<Grid key={\"VISIST\"} item xs={12} sm={12} md={12} lg={12} >\r\n\t\t\t\t\t<Typography className={gClasses.slotTitle} >\r\n\t\t\t\t\t\t{\"No Reports available\"}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\t\r\n\t\t}\r\n\t\t{(startLoading) &&\r\n\t\t\t\t\t<Typography className={gClasses.title}>Loading report...</Typography>\r\n\t\t}\r\n\t\t{(documentArray.length > 0) &&\r\n\t\t\t<Grid className={gClasses.noPadding} key=\"AllDOCS\" container alignItems=\"center\" >\r\n\t\t\t{documentArray.map( (d, index) => \r\n\t\t\t\t<Grid key={\"DOC\"+index} item xs={12} sm={6} md={3} lg={3} >\r\n\t\t\t\t<DisplayDocumentDetails\r\n\t\t\t\t\tdocument={d} \r\n\t\t\t\t\tbutton1={\r\n\t\t\t\t\t\t<IconButton color=\"primary\" size=\"small\" onClick={() => {handleFileView(d)}} >\r\n\t\t\t\t\t\t\t<VisibilityIcon\t />\r\n\t\t\t\t\t\t</IconButton>\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbutton2={\r\n\t\t\t\t\t\t<IconButton color=\"primary\" size=\"small\" onClick={() => {editDoc(d)}}  >\r\n\t\t\t\t\t\t\t<EditIcon  />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbutton3={\r\n\t\t\t\t\t\t<IconButton color=\"secondary\" size=\"small\" onClick={() => {deleteDoc(d)}}  >\r\n\t\t\t\t\t\t\t<CancelIcon  />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t)}\r\n\t\t\t</Grid>\r\n\t\t}\r\n\t</Box>\r\n\t)}\r\n\t\r\n\tfunction step1Validator() { return stepNo >= 1};\r\n\tfunction step2Validator() { return stepNo >= 2};\r\n\tfunction step3Validator() { return stepNo >= 3};\r\n\tfunction step4Validator() { return stepNo >= 4};\r\n\tconst step1Content = <h1>Request to server</h1>;\r\n\tconst step2Content = <h1>Geneate visit document</h1>;\r\n\tconst step3Content = <h1>Download visit document</h1>;\r\n\t\r\n\treturn (\r\n\t<div className={gClasses.webPage} align=\"center\" key=\"main\">\r\n\t\t{/* <DisplayPageHeader headerName=\"Medical Reports Directory\" groupName=\"\" tournament=\"\"/> */}\r\n\t<CssBaseline />\r\n\t\t{((currentPatient === \"\") && (process.env.REACT_APP_DIRECTREPORT === 'true')) &&\r\n\t\t\t<div>\r\n\t\t\t<Grid className={gClasses.vgSpacing} key=\"PatientFilter\" container alignItems=\"center\" >\r\n\t\t\t<Grid key={\"F1\"} item xs={false} sm={false} md={2} lg={2} />\r\n\t\t\t<Grid key={\"F2\"} item xs={12} sm={12} md={4} lg={4} >\r\n\t\t\t\t<TextField id=\"filter\"  padding={5} fullWidth label=\"Search Patient by name or Id\" \r\n\t\t\t\t\tdefaultValue={searchText}\r\n\t\t\t\t\tonChange={(event) => filterPatients(event.target.value)}\r\n\t\t\t\t\tInputProps={{endAdornment: (<InputAdornment position=\"end\"><SearchIcon/></InputAdornment>)}}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t\t{/*<Grid key={\"F4\"} item xs={8} sm={8} md={3} lg={3} >\r\n\t\t\t\t<Typography>Click button to add new patient</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid key={\"F5\"} item xs={4} sm={4} md={1} lg={1} >\r\n\t\t\t\t<VsButton name=\"New Patient\" /> \r\n\t\t\t</Grid>*/}\r\n\t\t\t<Grid key={\"F6\"} item xs={false} sm={false} md={2} lg={2} />\r\n\t\t\t</Grid>\r\n\t\t\t<DisplayAllPatients />\r\n\t\t\t</div>\r\n\t\t}\r\n\t\t{((currentPatient !== \"\") && (process.env.REACT_APP_DIRECTREPORT === 'true')) &&\r\n\t\t\t<VsButton align=\"right\" name=\"Select Patient\" onClick={() => { setCurrentPatient(\"\")}} />\t\r\n\t\t}\r\n\t\t{(currentPatient !== \"\") &&\r\n\t\t\t<div>\r\n\t\t\t<DisplayAllReports />\r\n\t\t\t</div>\r\n\t\t}\r\n\t\t<Drawer className={classes.drawer}\r\n\t\t\tanchor=\"right\"\r\n\t\t\tvariant=\"temporary\"\r\n\t\t\topen={isDrawerOpened !== \"\"}\r\n\t\t>\r\n\t\t<Box className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t\t\t<VsCancel align=\"right\" onClick={() => {setIsDrawerOpened(\"\")}} />\r\n\t\t\t{(startLoading) && <LoadingMessage />}\r\n\t\t\t{((!startLoading) && (isDrawerOpened === \"PDF\")) &&\r\n\t\t\t\t<DisplayPDF \r\n\t\t\t\t\ttitle={dlDoc.title} file={dlFile}\r\n\t\t\t\t\thandleCancel={() => setViewImage(false)}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t\t{((!startLoading) && (isDrawerOpened === \"IMG\")) &&\r\n\t\t\t\t<DisplayImage \r\n\t\t\t\t\ttitle={dlDoc.title} mime={dlMime} file={dlFile}\r\n\t\t\t\t\thandleCancel={() => setViewImage(false)}\r\n\t\t\t\t/> \r\n\t\t\t}\r\n\t\t\t{((isDrawerOpened === \"ADD\") || (isDrawerOpened === \"EDIT\")) &&   \r\n\t\t\t\t<ValidatorForm className={gClasses.form} onSubmit={addUpdateDocumentSubmit}>\r\n\t\t\t\t\t<Typography className={classes.title}>\r\n\t\t\t\t\t\t{(isDrawerOpened === \"ADD\") ? \"New Medical Report\" : \"Update Medical Report\"}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<TextValidator fullWidth  className={gClasses.vgSpacing}\r\n\t\t\t\t\t\tid=\"newDocument\" label=\"Title\" type=\"text\"\r\n\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\tdisabled={isDrawerOpened === \"EDIT\"}\r\n\t\t\t\t\t\tonChange={() => { setTitle(event.target.value) }}\r\n\t\t\t\t\t\tvalidators={['required', 'noSpecialCharacters']}\r\n\t\t\t\t\t\terrorMessages={['Report title to be provided', 'Special characters not permitted', ]}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextValidator fullWidth  className={gClasses.vgSpacing}\r\n\t\t\t\t\t\tid=\"descDocument\" label=\"Description\" type=\"text\"\r\n\t\t\t\t\t\tvalue={desc} \r\n\t\t\t\t\t\tonChange={() => { setDesc(event.target.value) }}\r\n\t\t\t\t\t\tvalidators={['required', 'noSpecialCharacters']}\r\n\t\t\t\t\t\terrorMessages={['Report description to be provided', 'Special characters not permitted', ]}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<input className={gClasses.vgSpacing} type=\"file\" id=\"newFile\" onChange={onFileChange} />\r\n\t\t\t\t\t<ShowResisterStatus/>\r\n\t\t\t\t\t<BlankArea />\r\n\t\t\t\t\t<VsButton align=\"center\" \r\n\t\t\t\t\t\tname={(isDrawerOpened === \"ADD\") ? \"Add\" : \"Update\"} \r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ValidComp />  \t\t\t\r\n\t\t\t\t</ValidatorForm>\r\n\t\t\t}\r\n\t\t</Box>\r\n\t\t</Drawer>\r\n  </div>\r\n  );    \r\n}\r\n ","/*!\r\n\r\n =========================================================\r\n * Material Dashboard React - v1.9.0 based on Material Dashboard - v1.2.0\r\n =========================================================\r\n\r\n * Product Page: http://www.creative-tim.com/product/material-dashboard-react\r\n * Copyright 2020 Creative Tim (http://www.creative-tim.com)\r\n * Licensed under MIT (https://github.com/creativetimofficial/material-dashboard-react/blob/master/LICENSE.md)\r\n\r\n =========================================================\r\n\r\n * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n\r\n */\r\n\r\n// ##############################\r\n// // // Function that converts from hex color to rgb color\r\n// // // Example: input = #9c27b0 => output = 156, 39, 176\r\n// // // Example: input = 9c27b0 => output = 156, 39, 176\r\n// // // Example: input = #999 => output = 153, 153, 153\r\n// // // Example: input = 999 => output = 153, 153, 153\r\n// #############################\r\nconst hexToRgb = input => {\r\n  input = input + \"\";\r\n  input = input.replace(\"#\", \"\");\r\n  let hexRegex = /[0-9A-Fa-f]/g;\r\n  if (!hexRegex.test(input) || (input.length !== 3 && input.length !== 6)) {\r\n    throw new Error(\"input is not a valid hex color.\");\r\n  }\r\n  if (input.length === 3) {\r\n    let first = input[0];\r\n    let second = input[1];\r\n    let last = input[2];\r\n    input = first + first + second + second + last + last;\r\n  }\r\n  input = input.toUpperCase();\r\n  let first = input[0] + input[1];\r\n  let second = input[2] + input[3];\r\n  let last = input[4] + input[5];\r\n  return (\r\n    parseInt(first, 16) +\r\n    \", \" +\r\n    parseInt(second, 16) +\r\n    \", \" +\r\n    parseInt(last, 16)\r\n  );\r\n};\r\n\r\n// ##############################\r\n// // // Variables - Styles that are used on more than one component\r\n// #############################\r\n\r\nconst drawerWidth = 260;\r\n\r\nconst transition = {\r\n  transition: \"all 0.33s cubic-bezier(0.685, 0.0473, 0.346, 1)\"\r\n};\r\n\r\nconst container = {\r\n  paddingRight: \"15px\",\r\n  paddingLeft: \"15px\",\r\n  marginRight: \"auto\",\r\n  marginLeft: \"auto\"\r\n};\r\n\r\nconst defaultFont = {\r\n  fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\r\n  fontWeight: \"300\",\r\n  lineHeight: \"1.5em\"\r\n};\r\n\r\nconst primaryColor = [\"#9c27b0\", \"#ab47bc\", \"#8e24aa\", \"#af2cc5\"];\r\nconst warningColor = [\"#ff9800\", \"#ffa726\", \"#fb8c00\", \"#ffa21a\"];\r\nconst dangerColor = [\"#f44336\", \"#ef5350\", \"#e53935\", \"#f55a4e\"];\r\nconst successColor = [\"#4caf50\", \"#66bb6a\", \"#43a047\", \"#5cb860\"];\r\nconst infoColor = [\"#00acc1\", \"#26c6da\", \"#00acc1\", \"#00d3ee\"];\r\nconst roseColor = [\"#e91e63\", \"#ec407a\", \"#d81b60\", \"#eb3573\"];\r\nconst grayColor = [\r\n  \"#999\",\r\n  \"#777\",\r\n  \"#3C4858\",\r\n  \"#AAAAAA\",\r\n  \"#D2D2D2\",\r\n  \"#DDD\",\r\n  \"#b4b4b4\",\r\n  \"#555555\",\r\n  \"#333\",\r\n  \"#a9afbb\",\r\n  \"#eee\",\r\n  \"#e7e7e7\"\r\n];\r\nconst blackColor = \"#000\";\r\nconst whiteColor = \"#FFF\";\r\n\r\nconst boxShadow = {\r\n  boxShadow:\r\n    \"0 10px 30px -12px rgba(\" +\r\n    hexToRgb(blackColor) +\r\n    \", 0.42), 0 4px 25px 0px rgba(\" +\r\n    hexToRgb(blackColor) +\r\n    \", 0.12), 0 8px 10px -5px rgba(\" +\r\n    hexToRgb(blackColor) +\r\n    \", 0.2)\"\r\n};\r\n\r\nconst primaryBoxShadow = {\r\n  boxShadow:\r\n    \"0 4px 20px 0 rgba(\" +\r\n    hexToRgb(blackColor) +\r\n    \",.14), 0 7px 10px -5px rgba(\" +\r\n    hexToRgb(primaryColor[0]) +\r\n    \",.4)\"\r\n};\r\nconst infoBoxShadow = {\r\n  boxShadow:\r\n    \"0 4px 20px 0 rgba(\" +\r\n    hexToRgb(blackColor) +\r\n    \",.14), 0 7px 10px -5px rgba(\" +\r\n    hexToRgb(infoColor[0]) +\r\n    \",.4)\"\r\n};\r\nconst successBoxShadow = {\r\n  boxShadow:\r\n    \"0 4px 20px 0 rgba(\" +\r\n    hexToRgb(blackColor) +\r\n    \",.14), 0 7px 10px -5px rgba(\" +\r\n    hexToRgb(successColor[0]) +\r\n    \",.4)\"\r\n};\r\nconst warningBoxShadow = {\r\n  boxShadow:\r\n    \"0 4px 20px 0 rgba(\" +\r\n    hexToRgb(blackColor) +\r\n    \",.14), 0 7px 10px -5px rgba(\" +\r\n    hexToRgb(warningColor[0]) +\r\n    \",.4)\"\r\n};\r\nconst dangerBoxShadow = {\r\n  boxShadow:\r\n    \"0 4px 20px 0 rgba(\" +\r\n    hexToRgb(blackColor) +\r\n    \",.14), 0 7px 10px -5px rgba(\" +\r\n    hexToRgb(dangerColor[0]) +\r\n    \",.4)\"\r\n};\r\nconst roseBoxShadow = {\r\n  boxShadow:\r\n    \"0 4px 20px 0 rgba(\" +\r\n    hexToRgb(blackColor) +\r\n    \",.14), 0 7px 10px -5px rgba(\" +\r\n    hexToRgb(roseColor[0]) +\r\n    \",.4)\"\r\n};\r\n\r\nconst warningCardHeader = {\r\n  background:\r\n    \"linear-gradient(60deg, \" + warningColor[1] + \", \" + warningColor[2] + \")\",\r\n  ...warningBoxShadow\r\n};\r\nconst successCardHeader = {\r\n  background:\r\n    \"linear-gradient(60deg, \" + successColor[1] + \", \" + successColor[2] + \")\",\r\n  ...successBoxShadow\r\n};\r\nconst dangerCardHeader = {\r\n  background:\r\n    \"linear-gradient(60deg, \" + dangerColor[1] + \", \" + dangerColor[2] + \")\",\r\n  ...dangerBoxShadow\r\n};\r\nconst infoCardHeader = {\r\n  background:\r\n    \"linear-gradient(60deg, \" + infoColor[1] + \", \" + infoColor[2] + \")\",\r\n  ...infoBoxShadow\r\n};\r\nconst primaryCardHeader = {\r\n  background:\r\n    \"linear-gradient(60deg, \" + primaryColor[1] + \", \" + primaryColor[2] + \")\",\r\n  ...primaryBoxShadow\r\n};\r\nconst roseCardHeader = {\r\n  background:\r\n    \"linear-gradient(60deg, \" + roseColor[1] + \", \" + roseColor[2] + \")\",\r\n  ...roseBoxShadow\r\n};\r\n\r\nconst cardActions = {\r\n  margin: \"0 20px 10px\",\r\n  paddingTop: \"10px\",\r\n  borderTop: \"1px solid \" + grayColor[10],\r\n  height: \"auto\",\r\n  ...defaultFont\r\n};\r\n\r\nconst cardHeader = {\r\n  margin: \"-20px 15px 0\",\r\n  borderRadius: \"3px\",\r\n  padding: \"15px\"\r\n};\r\n\r\nconst card = {\r\n  display: \"inline-block\",\r\n  position: \"relative\",\r\n  width: \"100%\",\r\n  margin: \"25px 0\",\r\n  boxShadow: \"0 1px 4px 0 rgba(\" + hexToRgb(blackColor) + \", 0.14)\",\r\n  borderRadius: \"3px\",\r\n  color: \"rgba(\" + hexToRgb(blackColor) + \", 0.87)\",\r\n  background: whiteColor\r\n};\r\n\r\nconst defaultBoxShadow = {\r\n  border: \"0\",\r\n  borderRadius: \"3px\",\r\n  boxShadow:\r\n    \"0 10px 20px -12px rgba(\" +\r\n    hexToRgb(blackColor) +\r\n    \", 0.42), 0 3px 20px 0px rgba(\" +\r\n    hexToRgb(blackColor) +\r\n    \", 0.12), 0 8px 10px -5px rgba(\" +\r\n    hexToRgb(blackColor) +\r\n    \", 0.2)\",\r\n  padding: \"10px 0\",\r\n  transition: \"all 150ms ease 0s\"\r\n};\r\n\r\nconst title = {\r\n  color: grayColor[2],\r\n  textDecoration: \"none\",\r\n  fontWeight: \"300\",\r\n  marginTop: \"30px\",\r\n  marginBottom: \"25px\",\r\n  minHeight: \"32px\",\r\n  fontFamily: \"'Roboto', 'Helvetica', 'Arial', sans-serif\",\r\n  \"& small\": {\r\n    color: grayColor[1],\r\n    fontWeight: \"400\",\r\n    lineHeight: \"1\"\r\n  }\r\n};\r\n\r\nconst cardTitle = {\r\n  ...title,\r\n  marginTop: \"0\",\r\n  marginBottom: \"3px\",\r\n  minHeight: \"auto\",\r\n  \"& a\": {\r\n    ...title,\r\n    marginTop: \".625rem\",\r\n    marginBottom: \"0.75rem\",\r\n    minHeight: \"auto\"\r\n  }\r\n};\r\n\r\nconst cardSubtitle = {\r\n  marginTop: \"-.375rem\"\r\n};\r\n\r\nconst cardLink = {\r\n  \"& + $cardLink\": {\r\n    marginLeft: \"1.25rem\"\r\n  }\r\n};\r\n\r\nexport {\r\n  hexToRgb,\r\n  //variables\r\n  drawerWidth,\r\n  transition,\r\n  container,\r\n  boxShadow,\r\n  card,\r\n  defaultFont,\r\n  primaryColor,\r\n  warningColor,\r\n  dangerColor,\r\n  successColor,\r\n  infoColor,\r\n  roseColor,\r\n  grayColor,\r\n  blackColor,\r\n  whiteColor,\r\n  primaryBoxShadow,\r\n  infoBoxShadow,\r\n  successBoxShadow,\r\n  warningBoxShadow,\r\n  dangerBoxShadow,\r\n  roseBoxShadow,\r\n  warningCardHeader,\r\n  successCardHeader,\r\n  dangerCardHeader,\r\n  infoCardHeader,\r\n  primaryCardHeader,\r\n  roseCardHeader,\r\n  cardActions,\r\n  cardHeader,\r\n  defaultBoxShadow,\r\n  title,\r\n  cardTitle,\r\n  cardSubtitle,\r\n  cardLink\r\n};\r\n","import React from 'react';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\n\r\n//colours \r\nimport {  blue, yellow } from '@material-ui/core/colors';\r\n\r\nfunction disabled() {\r\n\t//alert(\"disabled\");\r\n}\r\n\r\n//var liStyle = {padding: \"5px 10px\", margin: \"4px 2px\", color: 'black', fontSize:'16px', borderRadius: 7, border: 2};\r\n\r\nexport default function VsCancel(props) {\r\nlet _align = (props.align == null) ? \"center\" : props.align;\r\nlet myDisabled=false;\r\nif (props.disabled != null) {\r\n\tmyDisabled = props.disabled;\r\n}\r\n//console.log(myDisabled);\r\nreturn(\t\r\n<div align={props.align}>\r\n\t<IconButton color=\"secondary\"  disabled={myDisabled} size=\"small\" onClick={props.onClick} >\r\n\t\t<CancelIcon />\r\n\t</IconButton>\r\n</div>\r\n)}\r\n\r\n","import { ThemeProvider } from \"@material-ui/styles\";\r\n\r\n\r\nexport function dynamicModal(myWidth =  '75%') {\r\nconst modalStyles = {\r\n    content : {\r\n      top                   : '50%',\r\n      left                  : '50%',\r\n      right                 : 'auto',\r\n      bottom                : 'auto',\r\n      marginRight           : '-50%',\r\n      marginBottom          : '-50%',\r\n      transform             : 'translate(-50%, -50%)',\r\n      background            : '#18FFFF\t\t\t\t',        //'#E0E0E0',\r\n      //color                 : '#FFFFFF',\r\n      transparent           : false,  \r\n\t\t\twidth\t\t\t\t\t\t\t\t\t: myWidth,\r\n    }\r\n  };\r\n\treturn modalStyles;\r\n}\r\n\r\n","import React from \"react\";\r\n// nodejs library to set properties for components\r\nimport PropTypes from \"prop-types\";\r\n// @material-ui/core components\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\nconst styles = {\r\n  grid: {\r\n    margin: \"0 -15px !important\",\r\n    width: \"unset\"\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\nexport default function GridContainer(props) {\r\n  const classes = useStyles();\r\n  const { children, ...rest } = props;\r\n  return (\r\n    <Grid container {...rest} className={classes.grid}>\r\n      {children}\r\n    </Grid>\r\n  );\r\n}\r\n\r\nGridContainer.propTypes = {\r\n  children: PropTypes.node\r\n};\r\n","import {\r\n  warningCardHeader,\r\n  successCardHeader,\r\n  dangerCardHeader,\r\n  infoCardHeader,\r\n  primaryCardHeader,\r\n  roseCardHeader,\r\n  grayColor\r\n} from \"assets/jss/material-dashboard-react.js\";\r\n\r\nconst cardIconStyle = {\r\n  cardIcon: {\r\n    \"&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader\": {\r\n      borderRadius: \"3px\",\r\n      backgroundColor: grayColor[0],\r\n      padding: \"15px\",\r\n      marginTop: \"-20px\",\r\n      marginRight: \"15px\",\r\n      float: \"left\"\r\n    }\r\n  },\r\n  warningCardHeader,\r\n  successCardHeader,\r\n  dangerCardHeader,\r\n  infoCardHeader,\r\n  primaryCardHeader,\r\n  roseCardHeader\r\n};\r\n\r\nexport default cardIconStyle;\r\n","import React from \"react\";\r\n// nodejs library that concatenates classes\r\nimport classNames from \"classnames\";\r\n// nodejs library to set properties for components\r\nimport PropTypes from \"prop-types\";\r\n// @material-ui/core components\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n// @material-ui/icons\r\n\r\n// core components\r\nimport styles from \"assets/jss/material-dashboard-react/components/cardIconStyle.js\";\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\nexport default function CardIcon(props) {\r\n  const classes = useStyles();\r\n  const { className, children, color, ...rest } = props;\r\n  const cardIconClasses = classNames({\r\n    [classes.cardIcon]: true,\r\n    [classes[color + \"CardHeader\"]]: color,\r\n    [className]: className !== undefined\r\n  });\r\n  return (\r\n    <div className={cardIconClasses} {...rest}>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nCardIcon.propTypes = {\r\n  className: PropTypes.string,\r\n  color: PropTypes.oneOf([\r\n    \"warning\",\r\n    \"success\",\r\n    \"danger\",\r\n    \"info\",\r\n    \"primary\",\r\n    \"rose\"\r\n  ]),\r\n  children: PropTypes.node\r\n};\r\n","import { grayColor } from \"assets/jss/material-dashboard-react.js\";\r\n\r\nconst cardFooterStyle = {\r\n  cardFooter: {\r\n    padding: \"0\",\r\n    paddingTop: \"10px\",\r\n    margin: \"0 15px 10px\",\r\n    borderRadius: \"0\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n    display: \"flex\",\r\n    backgroundColor: \"transparent\",\r\n    border: \"0\"\r\n  },\r\n  cardFooterProfile: {\r\n    marginTop: \"-15px\"\r\n  },\r\n  cardFooterPlain: {\r\n    paddingLeft: \"5px\",\r\n    paddingRight: \"5px\",\r\n    backgroundColor: \"transparent\"\r\n  },\r\n  cardFooterStats: {\r\n    borderTop: \"1px solid \" + grayColor[10],\r\n    marginTop: \"20px\",\r\n    \"& svg\": {\r\n      position: \"relative\",\r\n      top: \"4px\",\r\n      marginRight: \"3px\",\r\n      marginLeft: \"3px\",\r\n      width: \"16px\",\r\n      height: \"16px\"\r\n    },\r\n    \"& .fab,& .fas,& .far,& .fal,& .material-icons\": {\r\n      fontSize: \"16px\",\r\n      position: \"relative\",\r\n      top: \"4px\",\r\n      marginRight: \"3px\",\r\n      marginLeft: \"3px\"\r\n    }\r\n  },\r\n  cardFooterChart: {\r\n    borderTop: \"1px solid \" + grayColor[10]\r\n  }\r\n};\r\n\r\nexport default cardFooterStyle;\r\n","import React from \"react\";\r\n// nodejs library that concatenates classes\r\nimport classNames from \"classnames\";\r\n// nodejs library to set properties for components\r\nimport PropTypes from \"prop-types\";\r\n// @material-ui/core components\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n// @material-ui/icons\r\n\r\n// core components\r\nimport styles from \"assets/jss/material-dashboard-react/components/cardFooterStyle.js\";\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\nexport default function CardFooter(props) {\r\n  const classes = useStyles();\r\n  const { className, children, plain, profile, stats, chart, ...rest } = props;\r\n  const cardFooterClasses = classNames({\r\n    [classes.cardFooter]: true,\r\n    [classes.cardFooterPlain]: plain,\r\n    [classes.cardFooterProfile]: profile,\r\n    [classes.cardFooterStats]: stats,\r\n    [classes.cardFooterChart]: chart,\r\n    [className]: className !== undefined\r\n  });\r\n  return (\r\n    <div className={cardFooterClasses} {...rest}>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nCardFooter.propTypes = {\r\n  className: PropTypes.string,\r\n  plain: PropTypes.bool,\r\n  profile: PropTypes.bool,\r\n  stats: PropTypes.bool,\r\n  chart: PropTypes.bool,\r\n  children: PropTypes.node\r\n};\r\n","import axios from \"axios\";\r\nimport download from 'js-file-download';\r\n//import LinearProgressWithLabel from '@material-ui/core/LinearProgress';\r\n//import LinearProgress from '@material-ui/core/LinearProgress';\r\n//import CircularProgressWithLabel from '@material-ui/core/LinearProgress';\r\nimport moment from \"moment\";\r\nimport { confirmAlert } from 'react-confirm-alert'; // Import\r\nimport 'react-confirm-alert/src/react-confirm-alert.css'; // Import css\r\nimport {cloneDeep} from \"lodash\";\r\nimport { func } from \"prop-types\";\r\nimport {dialogOptions } from \"views/globals\";\r\n\r\n\r\nvar crypto = require(\"crypto\");\r\nvar ifscsystem = require('ifsc-finder');\r\nvar aadhar = require('aadhaar-validator')\r\n\r\nexport function isUserLogged() {\r\n  //console.log(\"User is\", sessionStorage.getItem(\"userName\"));\r\n  if ((sessionStorage.getItem(\"userName\") === \"\") || \r\n      (sessionStorage.getItem(\"userName\") === \"0\") ||\r\n      (sessionStorage.getItem(\"userName\") === null))\r\n    return false;\r\n  else\r\n    return true;\r\n}\r\nexport function cdRefresh() {\r\n  window.location.reload();\r\n}\r\n\r\nexport function cdCurrent() {\r\n  return String.fromCharCode(169);\r\n}\r\n\r\nexport function cdDefault() {\r\n  return String.fromCharCode(9745);\r\n}\r\n\r\nexport function validateSpecialCharacters(sss) {\r\n    var sts = false;\r\n    const TerroristCharacters = [];\r\n\r\n    if (!sss.includes(\"\\\"\"))\r\n    if (!sss.includes(\"\\'\"))\r\n    if (!sss.includes(\"\\`\"))\r\n    if (!sss.includes(\"\\\\\"))\r\n    if (!sss.includes(\"/\"))\r\n    if (!sss.includes(\"~\"))\r\n    if (!sss.includes(\"\\%\"))\r\n    if (!sss.includes(\"^\"))\r\n    if (!sss.includes(\"\\&\"))\r\n    if (!sss.includes(\"\\+\"))\r\n      sts = true;\r\n    return sts;\r\n}\r\n\r\nexport function validateMobile(sss) {\r\n  var sts = false;\r\n  const TerroristCharacters = [];\r\n\r\n  if (sss.length === 10)\r\n  if (!sss.includes(\"\\.\"))\r\n  if (!sss.includes(\"\\-\"))\r\n  if (!sss.includes(\"\\+\"))\r\n  if (!sss.includes(\"\\*\"))\r\n  if (!sss.includes(\"\\/\"))\r\n  if (!sss.includes(\"e\"))\r\n  if (!sss.includes(\"E\"))\r\n  if (!isNaN(sss))\r\n    sts = true;\r\n  return sts;\r\n}\r\n\r\nexport function validateEmail(sss) {\r\n    let sts = false;\r\n    if (validateSpecialCharacters(sss)) {\r\n      let xxx = sss.split(\"@\");\r\n      if (xxx.length === 2) {\r\n        if (xxx[1].includes(\".\")) \r\n          sts = true;\r\n      }\r\n    }\r\n    return sts;\r\n}\r\n\r\nexport function validateUpi(sss) {\r\n  let sts = false;\r\n  if (validateSpecialCharacters(sss)) {\r\n    let xxx = sss.split(\"@\");\r\n    if (xxx.length === 2) {\r\n        sts = true;\r\n    }\r\n  }\r\n  return sts;\r\n}\r\n\r\n\r\nconst NumberString = /^[0-9]+$/;\r\nexport function validateInteger(sss) {\r\n  let sts = sss.match(NumberString);\r\n  return sts;\r\n}\r\n\r\n\r\nexport function hasGroup() {\r\n  //console.log(`current gis is ${localStorage.getItem(\"gid\")}`)\r\n  var sts = false;\r\n    if (localStorage.getItem(\"gid\") !== null) \r\n    if (localStorage.getItem(\"gid\") !== \"\") \r\n    if (localStorage.getItem(\"gid\") !== \"0\")\r\n      sts = true;\r\n  return sts;\r\n}\r\n\r\nexport function encrypt(text) {\r\n  let hash=\"\";\r\n  try {\r\n    const cipher = crypto.createCipheriv(process.env.REACT_APP_ALGORITHM, \r\n      process.env.REACT_APP_AKSHUSECRETKEY, \r\n      Buffer.from(process.env.REACT_APP_IV, 'hex'));\r\n    const encrypted = Buffer.concat([cipher.update(text), cipher.final()]);\r\n    hash = encrypted.toString('hex');\r\n  }\r\n  catch (err) {\r\n    console.log(err);\r\n  } \r\n  return hash;\r\n};\r\n\r\nexport function decrypt(hash) {\r\n  const decipher = crypto.createDecipheriv(process.env.REACT_APP_ALGORITHM, \r\n    process.env.REACT_APP_AKSHUSECRETKEY, \r\n    Buffer.from(process.env.REACT_APP_IV, 'hex'));\r\n  const decrpyted = Buffer.concat([decipher.update(Buffer.from(hash, 'hex')), decipher.final()]);\r\n  return decrpyted.toString();\r\n};\r\n\r\nconst AMPM = [\r\n  \"AM\", \"AM\", \"AM\", \"AM\", \"AM\", \"AM\", \"AM\", \"AM\", \"AM\", \"AM\", \"AM\", \"AM\",\r\n  \"PM\", \"PM\", \"PM\", \"PM\", \"PM\", \"PM\", \"PM\", \"PM\", \"PM\", \"PM\", \"PM\", \"PM\"\r\n];\r\n  /**\r\n * @param {Date} d The date\r\n */\r\nconst TZ_IST={hours: 5, minutes: 30};\r\nexport function cricDate(d) {\r\n  var xxx = new Date(d.getTime());\r\n  xxx.setHours(xxx.getHours()+TZ_IST.hours);\r\n  xxx.setMinutes(xxx.getMinutes()+TZ_IST.minutes);\r\n  var myHour = xxx.getHours();\r\n  var myampm = AMPM[myHour];\r\n  if (myHour > 12) myHour -= 12;\r\n  var tmp = `${MONTHNAME[xxx.getMonth()]} ${(\"0\" + xxx.getDate()).slice(-2)} ${(\"0\" + myHour).slice(-2)}:${(\"0\" +  xxx.getMinutes()).slice(-2)}${myampm}`\r\n  return tmp;\r\n}\r\n\r\nconst notToConvert = ['XI', 'ARUN']\r\n/**\r\n * @param {string} t The date\r\n */\r\n\r\nexport function cricTeamName(t) {\r\n  var tmp = t.split(' ');\r\n  for(i=0; i < tmp.length; ++i)  {\r\n    var x = tmp[i].trim().toUpperCase();\r\n    if (notToConvert.includes(x))\r\n      tmp[i] = x;\r\n    else\r\n      tmp[i] = x.substr(0, 1) + x.substr(1, x.length - 1).toLowerCase();\r\n  }\r\n  return tmp.join(' ');\r\n}\r\n\r\nvar prizeDetails = [];\r\n\r\nasync function getPrizeDetails() {\r\n  // console.log(\"Checking length\");\r\n  try {\r\n    // console.log(\"reading proze details from database\")\r\n    let response = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/prize/data`);\r\n    prizeDetails = response.data;\r\n  } catch(err)  {\r\n    console.log(\"---------prize detail error\");\r\n    console.log(err);\r\n  }\r\n} \r\n\r\nasync function getSinglePrizeDetails(count) {\r\n  // console.log(\"Checking length\");\r\n  let myPrize;\r\n  try {\r\n    // console.log(\"reading proze details from database\")\r\n    let response = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/prize/prizecount/${count}`);\r\n    myPrize = response.data;\r\n  } catch(err)  {\r\n    console.log(\"---------prize detail error\");\r\n    console.log(err);\r\n  }\r\n  return myPrize;\r\n} \r\n\r\nasync function getPrizePortion() {\r\n  let resp = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/prize/getprizeportion`);\r\n  //console.log(\"resp\", resp.data);\r\n  let prizePortion = resp.data.prizePortion / 100;\r\n  //console.log(\"prize portion\", prizePortion);\r\n  return prizePortion;\r\n\r\n}\r\n\r\nexport async function getPrizeTable(prizeCount, prizeAmount) {\r\n  \r\n  let prizePortion = await getPrizePortion();\r\n  let myPrize = await getSinglePrizeDetails(prizeCount);  //prizeDetails.find(x => x.prizeCount == prizeCount);\r\n  // we will keep 5% of amount\r\n  // rest (i.e. 95%) will be distributed among prize winners\r\n  let totPrize = Math.floor(prizeAmount*prizePortion);\r\n  let allotPrize = 0;\r\n  let prizeTable=[]\r\n  let i = 0;\r\n  for(i=1; i<prizeCount; ++i) {\r\n    let thisPrize = Math.floor(totPrize*myPrize[\"prize\"+i.toString()]/100);\r\n    prizeTable.push({rank: i, prize: thisPrize})\r\n    allotPrize += thisPrize;\r\n  }\r\n  prizeTable.push({rank: prizeCount, prize: totPrize-allotPrize});\r\n  return prizeTable;\r\n}\r\n\r\nasync function getSinglePrize(prizeCount) {\r\n  // console.log(\"Checking length\");\r\n  let myPrize;\r\n  if (prizeDetails.length > 0) return;\r\n  try {\r\n    // console.log(\"reading proze details from database\")\r\n    let response = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/prize/prizecount/${prizeCount}`);\r\n    myPrize = response.data;\r\n  } catch(err)  {\r\n    console.log(\"---------prize detail error\");\r\n    console.log(err);\r\n  }\r\n  return myPrize;\r\n} \r\n\r\nexport async function getSinglePrizeTable(prizeCount, prizeAmount) {\r\n  let prizePortion = await getPrizePortion();\r\n  //console.log(prizePortion)\r\n  let myPrize = await getSinglePrize(prizeCount);\r\n  //console.log(myPrize);\r\n\r\n  let totPrize = Math.floor(prizeAmount*prizePortion)\r\n  // console.log(\"Total prize\", totPrize);\r\n  let allotPrize = 0;\r\n  let prizeTable=[]\r\n  let i = 0;\r\n  for(i=1; i<prizeCount; ++i) {\r\n    let thisPrize = Math.floor(totPrize*myPrize[\"prize\"+i.toString()]/100);\r\n    prizeTable.push({rank: i, prize: thisPrize})\r\n    allotPrize += thisPrize;\r\n  }\r\n  prizeTable.push({rank: prizeCount, prize: totPrize-allotPrize});\r\n  return prizeTable;\r\n}\r\n\r\nexport async function getAllPrizeTable(prizeAmount) {\r\n  let allTable = [];\r\n  for(let i=1; i<=5; ++i) {\r\n    let tmp = await getSinglePrizeTable(i, prizeAmount);\r\n    allTable.push(tmp);\r\n  }\r\n  return (allTable);\r\n}\r\n\r\n\r\nexport async function getUserBalance() {\r\n  let myBalance = {wallet: 0, bonus: 0};\r\n  try {\r\n    let response = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/wallet/balance/${localStorage.getItem(\"uid\")}`);\r\n    myBalance = response.data;\r\n  } catch(err) {\r\n    console.log(e);\r\n  }\r\n  return myBalance;\r\n}\r\n\r\nexport async function feebreakup(memberfee, bonusAvailable) {\r\n  try {\r\n    let response = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/wallet/feebreakup/${memberfee}`);\r\n    // console.log(response.data);\r\n    let fee = response.data;\r\n    if (fee.bonus > bonusAvailable) {\r\n      fee.bonus = bonusAvailable;\r\n      fee.wallet = memberfee - bonusAvailable;\r\n    }\r\n    fee[\"done\"] = true;\r\n    return fee;\r\n  } catch(err) {\r\n    console.log(e);\r\n    return {done: false};\r\n  }\r\n}\r\n\r\nexport async function groupfeebreakup(groupCode, bonusAvailable) {\r\n  try {\r\n    let response = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/wallet/groupfeebreakup/${groupCode}`);\r\n    // console.log(response.data);\r\n    let fee = response.data;\r\n    if (fee.bonus > bonusAvailable) {\r\n      fee.bonus = bonusAvailable;\r\n      fee.wallet = memberfee - bonusAvailable;\r\n    }\r\n    fee[\"done\"] = true;\r\n    return fee;\r\n  } catch(err) {\r\n    console.log(e);\r\n    return  {done: false};\r\n  }\r\n\r\n}\r\n\r\nexport function specialSetPos() {\r\n  //console.log(`in SSP: ${localStorage.getItem(\"joinGroupCode\")}`)\r\n  let retval = parseInt(process.env.REACT_APP_DASHBOARD);  //parseInt(process.env.REACT_APP_GROUP);\r\n  if (localStorage.getItem(\"joinGroupCode\").length > 0)\r\n    retval = parseInt(process.env.REACT_APP_JOINGROUP);\r\n  //console.log(`in SSP: ${retval}`)\r\n  return retval;\r\n}\r\n\r\nexport function getImageName(teamName) {\r\n  let imageName = `${process.env.PUBLIC_URL}/teamimage/${teamName}.JPG`;\r\n  imageName = imageName.replaceAll(\" \", \"\");\r\n  // imageName = imageName.replace(/ /g, \" \");\r\n  //console.log(\"Function Image name\", imageName);\r\n  return imageName;\r\n}\r\n\r\nexport function currentAPLVersion() {\r\n  return(parseFloat(process.env.REACT_APP_VERSION));\r\n}\r\n\r\nexport async function latestAPLVersion()  {\r\n  let version = 0.1;\r\n  try {\r\n    let response = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/apl/latestversion`);\r\n    // console.log(response);\r\n    // let tmp = response.data;\r\n    version = parseFloat(response.data);\r\n  } catch(err) {\r\n    version = 0.1;\r\n  }\r\n  return version;\r\n}\r\n\r\nexport async function upGradeRequired() {\r\n  let upGrade = false;\r\n  let upGradeRecord;\r\n  if (process.env.REACT_APP_DEVICE === \"APK\") {\r\n    let myName = process.env.REACT_APP_NAME;\r\n    let myVersion = process.env.REACT_APP_VERSION;\r\n    let myURL = `${process.env.REACT_APP_APLAXIOS}/apl/confirmlatest/${myName}/APK/${myVersion}`;\r\n    // console.log(myURL);\r\n    let response = await axios.get(myURL);\r\n    // console.log(\"After axios call\", response.data);\r\n    upGrade = (response.data.status) ? false : true;\r\n    upGradeRecord = response.data.latest;\r\n    upGradeRecord.text = internalToText(upGradeRecord.text);\r\n    // console.log(upGradeRecord);\r\n  } else if (process.env.REACT_APP_DEVICE === \"IOS\") {\r\n\t\tconsole.log(\"IOS currently not supported\");\r\n\t}\r\n\t\r\n  //console.log(`upgrade required: ${upGrade}`);\r\n  return ({status: upGrade, latest: upGradeRecord});\r\n}\r\n\r\n\r\nexport async function org_downloadApk() {\r\n  let myName = process.env.REACT_APP_NAME;\r\n  let myURL = `${process.env.REACT_APP_APLAXIOS}/apl/downloadlatestbinary/${myName}/APK/`;\r\n  try {\r\n    axios({\r\n      method: 'get',\r\n      url: myURL,\r\n      responseType: 'arraybuffer',\r\n      // onDownloadProgress: (progressEvent) => {\r\n      //   // let newPercent = Math.round((progressEvent.loaded * 100) / progressEvent.total);\r\n      //   // console.log(\"File download in progress \", newPercent);\r\n      // },\r\n      })\r\n      .then( (response) => {\r\n          let myFile = process.env.REACT_APP_NAME + \".APK\";\r\n          console.log(myFile);\r\n          download(response.data, myFile);\r\n          console.log(\"download over\");\r\n        }\r\n      )\r\n      .catch(\r\n          (error) => {\r\n            console.log(error);\r\n            console.log(\"in axios catch\");\r\n          }\r\n      ); \r\n  } catch (e) {\r\n    console.log(e);\r\n    console.log(\"in try catch\");\r\n  } \r\n  console.log(\"Debu complete\");\r\n\r\n}\r\n\r\n\r\nexport async function downloadApk() {\r\n  let myName = process.env.REACT_APP_NAME;\r\n  let myURL = `${process.env.REACT_APP_APLAXIOS}/apl/downloadlatestbinary/${myName}/APK/`;\r\n  try {\r\n    let response = await axios({\r\n      method: 'get',\r\n      url: myURL,\r\n      responseType: 'arraybuffer',\r\n      // onDownloadProgress: (progressEvent) => {\r\n      //   // let newPercent = Math.round((progressEvent.loaded * 100) / progressEvent.total);\r\n      //   // console.log(\"File download in progress \", newPercent);\r\n      // },\r\n      });\r\n    let myFile = process.env.REACT_APP_NAME + \".APK\";\r\n    console.log(myFile);\r\n    download(response.data, myFile);\r\n    console.log(\"download over\");\r\n  } catch (e) {\r\n    console.log(e);\r\n    console.log(\"in try catch\");\r\n  } \r\n  \r\n  console.log(\"Debug complete\");\r\n\r\n}\r\n\r\nexport function clearBackupData() {\r\n  /* Clear dash board items */\r\n  localStorage.removeItem(\"saveRank\");\r\n  localStorage.removeItem(\"savePrize\");\r\n  localStorage.removeItem(\"saveScore\");\r\n  localStorage.removeItem(\"saveMaxRun\");\r\n  localStorage.removeItem(\"saveMaxWicket\");\r\n  localStorage.removeItem(\"statData\");\r\n  localStorage.removeItem(\"saveRankArray\");\r\n  /* Clear Stat items */\r\n  localStorage.removeItem(\"statData\");\r\n  /* clear team */\r\n  localStorage.removeItem(\"team\");\r\n  /* clear captain */\r\n  localStorage.removeItem(\"captain\");\r\n  localStorage.removeItem(\"viceCaptain\");\r\n  localStorage.removeItem(\"captainList\");\r\n  /* clear home */\r\n  localStorage.removeItem(\"home_tournamentList\");\r\n  localStorage.removeItem(\"home_groupList\");\r\n  /* clear wallet details */\r\n  localStorage.removeItem(\"saveBalance\");\r\n  localStorage.removeItem(\"saveTransactions\");\r\n}\r\n\r\n\r\nexport function isMobile() {\r\n  return (/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Windows Phone/i.test(navigator.userAgent)) ? true : false;\r\n}\r\n\r\nexport function checkIdle() {\r\n\r\n  let x = sessionStorage.getItem(\"notidle\");\r\n  // console.log(\"Idle storage\", x);\r\n  let sts = (x) ? false : true;\r\n  return sts;\r\n}\r\n\r\nexport function setIdle(idle) {\r\n  if (idle) {\r\n    sessionStorage.removeItem(\"notidle\");\r\n    cdRefresh()\r\n  } else {\r\n    sessionStorage.setItem(\"notidle\", \"user is working\");\r\n  }\r\n}\r\n\r\n\r\nconst CR = String.fromCharCode(13);\r\nconst LF = String.fromCharCode(10);\r\nconst SP = String.fromCharCode(32);\r\n\r\nconst IntCR = String.fromCharCode(128+13);\r\nconst IntLF = String.fromCharCode(128+10);\r\nconst IntSP = String.fromCharCode(128+32);\r\n\r\nexport function textToInternal(txt) {\r\n  let txt1 = txt;\r\n  let x = txt1.split(CR);\r\n  txt1 = x.join(IntCR);\r\n  x = txt1.split(LF);\r\n  txt1 = x.join(IntLF);\r\n  x = txt1.split(SP);\r\n  txt1 = x.join(IntSP);\r\n  return txt1;\r\n}\r\n\r\nexport function internalToText(txt) {\r\n  let txt1 = txt;\r\n  let x = txt1.split(IntCR);\r\n  txt1 = x.join(CR);\r\n  x = txt1.split(IntLF);\r\n  txt1 = x.join(LF);\r\n  x = txt1.split(IntSP);\r\n  txt1 = x.join(SP);\r\n  return txt1;\r\n}\r\n\r\n\r\nexport async function ifscBank(code) {\r\n  let mybank = await ifscsystem.getBankName(code.toUpperCase());\r\n  //console.log(mybank.substring(0,3));\r\n  if (mybank.substring(0,3) === \"Not\") \r\n    mybank = \"\";\r\n  return mybank;\r\n}\r\n\r\nexport async function ifscBranch(code) {\r\n  let mybank = await ifscsystem.getBranchName(code.toUpperCase());\r\n  //console.log(mybank.substring(0,3));\r\n  if (mybank.substring(0,3) === \"Not\") \r\n    mybank = \"\";\r\n  return mybank;\r\n}\r\n\r\nexport async function ifscCity(code) {\r\n  let mybank = await ifscsystem.getCity(code.toUpperCase());\r\n  //console.log(mybank.substring(0,3));\r\n  if (mybank.substring(0,3) === \"Not\") \r\n    mybank = \"\";\r\n  return mybank;\r\n}\r\n\r\nexport async function ifscNeft(code) {\r\n  let mybank = await ifscsystem.getCity(code.toUpperCase());\r\n  // console.log(mybank.substring(0,3));\r\n  if (mybank.substring(0,3) === \"Not\") \r\n    mybank = false;\r\n  return mybank;\r\n}\r\n\r\nexport async function validateAadhar(code) {\r\n  let sts = await aadhar.isValidNumber(code)\r\n  return sts;\r\n}\r\n\r\nasync function getMaster(key) {\r\n  let value = \"\";\r\n  try {\r\n    let response = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/apl/getmaster/${key}`);\r\n    //console.log(response.data);\r\n    value = response.data;\r\n  } catch(err)  {\r\n    console.log(\"---------get master fetch errorr\", key);\r\n    console.log(err);\r\n  } \r\n  return value; \r\n}\r\n\r\nexport async function getMinimumBalance() {\r\n  let value = await getMaster(\"MINBALANCE\");\r\n  if (value === \"\") value = process.env.REACT_APP_MINBALANCE;\r\n  return parseInt(value);\r\n}\r\n\r\nexport async function getMinimumAdd() {\r\n  let value = await getMaster(\"MINADDWALLET\");\r\n  if (value === \"\") value = process.env.REACT_APP_MINADDWALLET;\r\n  return parseInt(value);\r\n}\r\n\r\nexport async function getAuctionCountDown() {\r\n  let value = await getMaster(\"AUCTIONCOUNTDOWN\");\r\n  if (value === \"\") value = process.env.AUCTIONCOUNTDOWN;\r\n  return parseInt(value);\r\n\r\n}\r\n\r\nexport async function getIdleTimeout() {\r\n  let value = await getMaster(\"IDLETIMEOUT\");\r\n  if (value === \"\") value = process.env.REACT_APP_IDLETIMEOUT;\r\n  return parseInt(value);\r\n}\r\n\r\nconst ALL0 = \"0000000000000000000000000000000000000000000000000000000000000000000000\";\r\nconst allSpace = \"                                                                   \";\r\nexport function left (sss, sLen=1) {\r\n\tlet tmp = sss;\r\n\tif (tmp.length > sLen)\r\n\t\ttmp = tmp.substr(0, sLen);\r\n\treturn tmp;\r\n}\r\n\r\nexport function right (sss, sLen=1) {\r\n\tlet tmp = sss;\r\n\tif (tmp.length > sLen)\r\n\t\ttmp = tmp.substr(tmp.length-sLen);\t\t//\t\tlet x = sss.slice(sss.length-sLen, sss.length);\r\n\tconsole.log(tmp)\r\n\treturn tmp;\r\n}\r\n  \r\nexport function fixedString (sss, sLen=1) {\r\n\tlet xxx = sss.substr(0, sLen);\r\n\t//if (xxx.length < sLen)\r\n\t\t//xxx = \r\n\treturn right(sss, sLen);\r\n}\r\n\r\nexport function intString (num, sLen=2) {\r\n\tlet tmp = num.toString();\r\n\treturn ((tmp.length < sLen) ? ALL0.substr(0, sLen - tmp.length) : \"\") + tmp;\r\n\t//right(ALL0 + num, sLen);\r\n}\r\n\r\n\r\n//callYesNo(openModal, \"DIR\", \"Is Dir Ok\", \"Ok\", \"Cancel\", true);\r\nexport function callYesNo(openfunc, id, title, message, yesBtn, noBtn, isError) {\r\n\t\tsessionStorage.setItem(\"YESNO_id\", id);\r\n\t\tsessionStorage.setItem(\"YESNO_title\", title);\r\n\t\tsessionStorage.setItem(\"YESNO_message\", message);\r\n\t\tsessionStorage.setItem(\"YESNO_yesbutton\", yesBtn);\r\n\t\tsessionStorage.setItem(\"YESNO_nobutton\", noBtn);\r\n\t\tsessionStorage.setItem(\"YESNO_iserror\", isError);\r\n\t\t// open modal display\r\n\t\topenfunc(\"YESNO\");\r\n}\r\n\r\n\r\n// disable future dates\r\nconst today = moment();\r\nconst yesterday = moment().subtract(1, 'day');\r\n\r\n// disable past dates\r\n\r\nexport function disablePastDt(current) {\r\n  return current.isAfter(yesterday);\r\n};\r\n\r\n\r\nexport function disableFutureDt(current) {\r\n  return current.isBefore(today)\r\n}\r\n\r\nexport function disableAllDt(current) {\r\n  return false;\r\n}\r\n\r\nexport\tasync function updatePatientByFilter(filter, userCid) {\r\n\tfilter = filter.trim();\r\n\t\r\n\tlet tmp = [];\r\n\tlet subcmd;\r\n\t\r\n\tif (filter.length === 0) {\r\n\t\tsubcmd =  `list/${userCid}`;\r\n\t} else if (/^-?\\d+$/.test(filter)) {\r\n\t\tsubcmd = `listbypid/${userCid}/${filter}`\r\n\t} else {\r\n\t\tsubcmd = `listbyname/${userCid}/${filter}`;\r\n\t}\r\n\r\n\ttry {\r\n\t\tvar resp = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/patient/${subcmd}`)\r\n\t\ttmp = resp.data;\r\n\t} catch (e) {\r\n\t\tconsole.log(\"Filter error\");\r\n\t\t//tmp = [\r\n\t\t//{displayName: \"Arun Salgia\", age: 60, gender: \"Male\", pid: 20210810001, email: \"arun@gmail.com\", mobile: 8080820084 } \r\n\t\t//];\r\n\t}\r\n\t//setPatientArray(tmp);\r\n\t//console.log(tmp);\r\n\treturn tmp;\r\n}\r\n\r\nexport function dispOnlyAge(xxx) {\r\n\treturn (xxx > 0) ? xxx.toString() : \"\";\r\n}\t\r\nexport function dispAge(xxx, gender) {\r\n\treturn (xxx > 0) ? xxx.toString() + gender.substr(0, 1) : \"\";\r\n}\t\r\n\r\nexport function dispMobile(xxx) {\r\n\treturn (xxx > 0) ? xxx.toString() : \"\";\r\n}\t\r\n\r\nexport function dispEmail(xxx) {\r\n\treturn (xxx != \"cd\") ? decrypt(xxx) : \"\";\r\n}\r\n\r\n\r\nexport function ordinalSuffix(i) {\r\n    var j = i % 10,\r\n        k = i % 100;\r\n    if (j == 1 && k != 11) {\r\n        return i + \"st\";\r\n    }\r\n    if (j == 2 && k != 12) {\r\n        return i + \"nd\";\r\n    }\r\n    if (j == 3 && k != 13) {\r\n        return i + \"rd\";\r\n    }\r\n    return i + \"th\";\r\n}\r\n\r\nexport function getOnlyDate(t) {\r\n\tt = new Date(t);\t\t//?????????????????? why required\r\n\tlet tmp;\r\n\tlet outStr  = \"\";\r\n\ttmp = t.getDate();\r\n\toutStr += ((tmp < 10) ? \"0\" : \"\") + tmp.toString() + \"-\"\r\n\ttmp = t.getMonth() + 1;\r\n\toutStr += ((tmp < 10) ? \"0\" : \"\") + tmp.toString() + \"-\"\r\n\toutStr += t.getFullYear();\r\n\t\r\n\tif (false) {\r\n\t\toutStr += \" \";\t\r\n\t\ttmp = t.getHours();\r\n\t\toutStr += ((tmp < 10) ? \"0\" : \"\") + tmp.toString() + \":\"\r\n\t\ttmp = t.getMinutes();\r\n\t\toutStr += ((tmp < 10) ? \"0\" : \"\") + tmp.toString();\r\n\t}\r\n\treturn outStr;\r\n}\r\n\r\nexport function getDateTime(t) {\r\n\tlet outStr =getOnlyDate(t) + ' ';\r\n\tt = new Date(t);\t\t//?????????????????? why required\r\n\tlet tmp;\r\n\t\r\n\ttmp = t.getHours();\r\n\toutStr += ((tmp < 10) ? \"0\" : \"\") + tmp.toString() + \":\"\r\n\ttmp = t.getMinutes();\r\n\toutStr += ((tmp < 10) ? \"0\" : \"\") + tmp.toString();\r\n\r\n\treturn outStr;\r\n}\r\n\r\nexport async function downloadVisit(cid, pid) { \r\n  try {\r\n\t\tlet myURL = `${process.env.REACT_APP_AXIOS_BASEPATH}/visit/downloadvisit/${cid}/${pid}`;\r\n    let response = await axios({ method: 'get', url: myURL, responseType: 'arraybuffer',\r\n      // onDownloadProgress: (progressEvent) => {\r\n      //   // let newPercent = Math.round((progressEvent.loaded * 100) / progressEvent.total);\r\n      //   // console.log(\"File download in progress \", newPercent);\r\n      // },\r\n\t\t});\r\n    let myFile = \"patientVisit.docx\";\r\n    console.log(myFile);\r\n\t\tconsole.log(response.data);\r\n    await download(response.data, myFile);\r\n    console.log(\"download over\");\r\n  } catch (e) {\r\n    console.log(e);\r\n    console.log(\"in try catch\");\r\n  } \r\n  \r\n  console.log(\"Debug complete\");\r\n\r\n}\r\n\r\n\r\nexport async function getPatientDocument(cid, pid) {\r\n\tlet myData = [];\r\n\ttry {\r\n\t\tlet myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/image/list/${cid}/${pid}`;\r\n\t\tlet resp = await axios.get(myUrl);\r\n\t\tmyData = resp.data;\r\n\t\t//console.log(resp.data);\r\n\t} catch (e) {\r\n\t\tconsole.log(e);\r\n\t\t//setDocumentArray([]);\r\n\t}\r\n\treturn myData;\r\n}\r\n\r\n\r\nexport function stringToBase64(originalString) {\r\n\t// The original utf8 string\r\n\t//let originalString = \"GeeksforGeeks\";\r\n\t// Create buffer object, specifying utf8 as encoding\r\n\tlet bufferObj = Buffer.from(originalString, \"utf8\");\t\r\n\t\r\n\t// Encode the Buffer as a base64 string\r\n\tlet base64String = bufferObj.toString(\"base64\");\r\n\t//console.log(\"The encoded base64 string is:\", base64String);\r\n\t\r\n\tlet b64String = Buffer.from(originalString).toString('base64')\r\n\treturn b64String;\r\n}\r\n\r\nexport function base64ToString(base64string) {\r\n\t// The base64 encoded input string\r\n\t//let base64string = \"R2Vla3Nmb3JHZWVrcw==\";\r\n\t\t\r\n\t// Create a buffer from the string\r\n\tlet bufferObj = Buffer.from(base64string, \"base64\");\r\n\t// Encode the Buffer as a utf8 string\r\n\tlet decodedString = bufferObj.toString(\"utf8\");\r\n\t//console.log(\"The decoded string:\", decodedString);\r\n\t\r\n\tlet norString = Buffer.from(base64string, 'base64').toString('ascii')\r\n\treturn norString;\r\n}\r\n\r\nexport function handleLogout() {\r\n\twindow.sessionStorage.setItem(\"uid\", \"\")\r\n\twindow.sessionStorage.setItem(\"cid\", \"\");\r\n\twindow.sessionStorage.setItem(\"userName\", \"\");\r\n\twindow.sessionStorage.setItem(\"userType\", \"\");\r\n\twindow.sessionStorage.setItem(\"currentLogin\", \"\");\r\n\tcdRefresh();  \r\n};\r\n\r\nexport function compareDate(d1, d2) {\r\n\tif (d1.getFullYear() < d2.getFullYear()) return -1;\r\n\tif (d1.getFullYear() > d2.getFullYear()) return 1;\r\n\t\r\n\tif (d1.getMonth() < d2.getMonth()) return -1;\r\n\tif (d1.getMonth() > d2.getMonth()) return 1;\r\n\t\r\n\tif (d1.getDate() < d2.getDate()) return -1;\r\n\tif (d1.getDate() > d2.getDate()) return 1;\r\n\treturn 0;\r\n};\r\n\r\nexport function makeTimeString(hr, min) {\r\n\tlet AMPM = (hr < 12) ? \"AM\" : \"PM\";\r\n\tif (hr > 12) hr -= 12;\r\n\tlet tStr = ((hr < 10) ? \"0\" : \"\") + hr + \":\";\r\n\ttStr += ((min < 10) ? \"0\" : \"\") + min + \" \";\r\n\ttStr += AMPM;\r\n\t//console.log(hr, min, tStr);\r\n\treturn tStr;\r\n};\r\n\r\nexport async function getAllPatients(userCid) {\r\n\tlet myData = [];\r\n\ttry {\r\n\t\tlet myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/patient/list/${userCid}`;\r\n\t\tlet resp = await axios.get(myUrl);\r\n\t\treturn resp.data;\r\n\t}\r\n\tcatch(e) {\r\n\t\treturn [];\r\n\t}\r\n}\r\n\t\r\nexport function vsDialog(title, msg, yesB, noB) {\r\n\tlet option = cloneDeep(dialogOptions);\r\n\t//console.log(option); \r\n\toption.title = title;\r\n\toption.message = msg;\r\n\toption.buttons[0] = yesB;\r\n\toption.buttons[1] = noB;\r\n\tconfirmAlert(option);\r\n}\r\n\r\nexport function generateOrder(year, month, date, hour, minute) {\r\n\tlet myOrder = ((year * 100 + month) * 100  + date)*100;\r\n\tmyOrder = (myOrder + hour)*100 + minute;\r\n\treturn myOrder;\r\n}\r\n\r\nexport function generateOrderByDate(d) {\r\n\t//console.log(d);\r\n\tlet myOrder = ((d.getFullYear() * 100 + d.getMonth()) * 100  + d.getDate())*100;\r\n\tmyOrder = (myOrder + d.getHours())*100 + d.getMinutes();\r\n\t//console.log(myOrder);\r\n\treturn myOrder;\r\n}\r\n\r\nexport function checkIfBirthday(dob) {\r\n\tlet today = new Date();\r\n\tlet ddd = new Date(dob);\r\n\treturn ((today.getDate() === ddd.getDate()) && (today.getMonth() === ddd.getMonth())) ? true : false;\r\n}\r\n","import React from \"react\";\r\n// nodejs library to set properties for components\r\nimport PropTypes from \"prop-types\";\r\n// @material-ui/core components\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\nconst styles = {\r\n  grid: {\r\n    padding: \"0 15px !important\"\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\nexport default function GridItem(props) {\r\n  const classes = useStyles();\r\n  const { children, ...rest } = props;\r\n  return (\r\n    <Grid item {...rest} className={classes.grid}>\r\n      {children}\r\n    </Grid>\r\n  );\r\n}\r\n\r\nGridItem.propTypes = {\r\n  children: PropTypes.node\r\n};\r\n","import React, { useState, useContext, useEffect } from 'react';\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\n// import TextField from '@material-ui/core/TextField';\r\nimport { TextField, InputAdornment } from \"@material-ui/core\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Link from '@material-ui/core/Link';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport globalStyles from \"assets/globalStyles\";\r\nimport Container from '@material-ui/core/Container';\r\n// import SignUp from \"../Login/SignUp.js\";\r\n// import ForgotPassword from \"./ForgotPassword.js\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { UserContext } from \"../../UserContext\";\r\nimport axios from \"axios\";\r\nimport {red, green, blue } from '@material-ui/core/colors';\r\nimport { DesktopWindows } from '@material-ui/icons';\r\nimport { isMobile, cdRefresh, specialSetPos, encrypt, clearBackupData, downloadApk } from \"views/functions.js\"\r\nimport {setTab} from \"CustomComponents/CricDreamTabs.js\"\r\nimport { CricDreamLogo, ValidComp } from 'CustomComponents/CustomComponents.js';\r\nimport { BlankArea } from 'CustomComponents/CustomComponents';\r\nimport VisibilityIcon from '@material-ui/icons/Visibility';\r\nimport VisibilityOffIcon from '@material-ui/icons/VisibilityOff';\r\n\r\nlet welcomeMESSAGE = `${process.env.REACT_APP_WELCOME}`;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  android: {\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  download: {\r\n    fontSize: theme.typography.pxToRem(18),\r\n    fontWeight: theme.typography.fontWeightBold,\r\n    // color: yellow[900]\r\n  },\r\n  downloadButon: {\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  error:  {\r\n      // right: 0,\r\n      fontSize: '12px',\r\n      color: red[700],\r\n      // position: 'absolute',\r\n      alignItems: 'center',\r\n      marginTop: '0px',\r\n  },\r\n  error:  {\r\n    // right: 0,\r\n    fontSize: '12px',\r\n    color: blue[700],\r\n    // position: 'absolute',\r\n    alignItems: 'center',\r\n    marginTop: '0px',\r\n},\r\n}));\r\n\r\nlet deviceIsMobile=isMobile();\r\n\r\nexport default function SignIn() {\r\n  const classes = useStyles();\r\n  const gClasses = globalStyles();\r\n  const history = useHistory();\r\n  const [userName, setUserName] = useState();\r\n  const [password, setPassword] = useState();\r\n  // const [showPage, setShowPage] = useState(true);\r\n  // const [open, setOpen] = useState(true)\r\n  // const { setUser } = useContext(UserContext);\r\n  const [ errorMessage, setErrorMessage ] = useState({msg: \"\", isError: false });\r\n  const [ downloadMessage, setDownloadMessage ] = useState(\"\");\r\n  // const [errorFound, setErrorFound] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (window.localStorage.getItem(\"logout\")) {\r\n      localStorage.clear();\r\n    }\r\n    if (window.localStorage.getItem(\"uid\")) {\r\n      // setUser({ uid: window.localStorage.getItem(\"uid\"), admin: window.localStorage.getItem(\"admin\") })\r\n      // history.push(\"/admin\")\r\n    } else {\r\n      // setShowPage(true)\r\n    }\r\n  });\r\n\r\n  function setError(msg, isError) {\r\n    setErrorMessage({msg: msg, isError: isError});\r\n  }\r\n\r\n\r\n\tasync function handleSubmit(e) {\r\n  e.preventDefault();\r\n\r\n\ttry { \r\n\t\tlet enPassword = encrypt(password);\r\n\t\tlet response = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/user/jaijinendra/${userName}/${enPassword}`); \r\n\t\tsetError(\"\", false);\r\n\t\tlet userData = response.data.user;\r\n\t\twindow.sessionStorage.setItem(\"uid\", userData.uid)\r\n\t\twindow.sessionStorage.setItem(\"userName\", userData.displayName);\r\n\t\twindow.sessionStorage.setItem(\"userType\", userData.userType);\r\n\t\twindow.sessionStorage.setItem(\"cid\", userData.cid);\r\n\r\n\t\twindow.sessionStorage.setItem(\"customerData\", JSON.stringify(response.data.customer));\r\n\t\t\r\n\t\t//window.sessionStorage.setItem(\"doctorData\", JSON.stringify(response.data.doctor));\r\n\t\t \r\n\t\t//window.sessionStorage.setItem(\"admin\", true)\r\n\t\tsetTab(process.env.REACT_APP_HOME);\r\n\t} catch (err) {\r\n\t\tsetError(\"Invalid User name / Password\", true);\r\n\t}\r\n};\r\n\r\n  function handleForgot() {\r\n    console.log(\"Call forgot password here\")\r\n    // history.push('/admin/emailpassword');\r\n    sessionStorage.setItem(\"currentLogin\", \"FORGOT\");\r\n    cdRefresh();\r\n  }\r\n\r\n  function handleRegister() {\r\n    //console.log(\"Call for register here\");\r\n    // history.push(\"/admin/register\")\r\n    sessionStorage.setItem(\"currentLogin\", \"SIGNUP\");\r\n    cdRefresh();\r\n  }\r\n\r\n  const handleClick = async () => {\r\n    let myUserName = document.getElementById(\"userName\").value;\r\n    let myPassword = document.getElementById(\"password\").value;\r\n    setUserName(myUserName);\r\n    setPassword(myPassword);\r\n\r\n    let response = \"\"\r\n    try { \r\n      let enPassword = encrypt(myPassword);\r\n      response = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/user/jaijinendra/${myUserName}/${enPassword}`); \r\n      setError(\"\", false);\r\n    } catch (err) {\r\n      setError(\"Invalid Username / Password\", true);\r\n    }\r\n    // console.log(\"Signinresponse\", response.data);\r\n\r\n    if (response.status === 200) {\r\n\t\t\tconsole.log(\"Signinresponse\", response.data);\r\n\t\t\t\r\n\t\t\tlet userData = response.data.user;\r\n      window.sessionStorage.setItem(\"uid\", userData.uid)\r\n      window.sessionStorage.setItem(\"userName\", userData.displayName);\r\n      window.sessionStorage.setItem(\"userType\", userData.userType);\r\n\t\t\twindow.sessionStorage.setItem(\"cid\", userData.cid);\r\n\r\n\t\t\twindow.sessionStorage.setItem(\"customerData\", JSON.stringify(response.data.customer));\r\n\t\t\t\r\n\t\t\twindow.sessionStorage.setItem(\"doctorData\", JSON.stringify(response.data.doctor));\r\n\t\t\t \r\n\t\t\t//window.sessionStorage.setItem(\"admin\", true)\r\n\t\t\tsetTab(process.env.REACT_APP_HOME);\r\n\t\t\t \r\n\t\t\t//setUser({ uid: myUID, admin: true })\r\n\t\t\t\r\n\t\t\t/*\r\n      response = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/group/default/${myUID}`);\r\n      // console.log(\"default respose\", response.data);\r\n      // SAMPLE OUTPUT\r\n      // {\"uid\":\"8\",\"gid\":2,\"displayName\":\"Salgia Super Stars\",\r\n      // \"groupName\":\"Happy Home Society Grp 2\",\"tournament\":\"ENGAUST20\",\"ismember\":true,\"admin\":true}\r\n      window.localStorage.setItem(\"gid\", response.data.gid);\r\n      window.localStorage.setItem(\"groupName\", response.data.groupName);\r\n      window.localStorage.setItem(\"tournament\", response.data.tournament);\r\n      \r\n      window.localStorage.setItem(\"SNG\", \"\");\r\n      window.localStorage.setItem(\"cGroup\", \"\");\r\n      clearBackupData();\r\n\t\t\t*/\r\n\t\t\t\r\n      // setUser({ uid: myUID, admin: response.data.admin });\r\n      // cdRefresh(true);\r\n      //let newPos = specialSetPos();\r\n      //if (newPos < 0) newPos = 0;\r\n      // let newPos = (response.data.gid > 0) ? process.env.REACT_APP_DASHBOARD : process.env.REACT_APP_GROUP;\r\n      // console.log(`User is ${localStorage.getItem(\"uid\")}`)\r\n     \r\n    }\r\n  }\r\n  \r\n  async function handleAndroid() {\r\n    try {\r\n      setDownloadMessage(\"APL Android app download started. Please wait...\")\r\n      // console.log(\"Download Android app\");\r\n      await downloadApk();\r\n      setDownloadMessage(\"APL Android app download complete.\")\r\n      // console.log(\"APK has to be downloaded\");\r\n    } catch (e) {\r\n      setDownloadMessage(\"Error encountred while downloading APL Android app\", true)\r\n    }\r\n  }\r\n\r\n  function handleIos() {\r\n    console.log(\"Download IOS app\");\r\n  }\r\n\r\n\r\n  function DisplayDownload() {\r\n    if (process.env.REACT_APP_DEVICE !== \"WEB\") return null;\r\n\r\n    let androidImage = `${process.env.PUBLIC_URL}/image/ANDROID.JPG`;\r\n    let iosImage = `${process.env.PUBLIC_URL}/image/IOS.JPG`;\r\n    return (\r\n      <div align=\"center\">\r\n      <Typography className={gClasses.message18}>Download the offical app</Typography>\r\n      <BlankArea />\r\n      <Typography className={gClasses.nonerror} align=\"center\">{downloadMessage}</Typography>\r\n      <Grid key=\"jp1\" container align=\"center\">\r\n        <Grid item xs={12} sm={12} md={12} lg={12} >\r\n        <button><img src={androidImage} alt=\"my image\" onClick={handleAndroid} /></button>\r\n        </Grid>\r\n        {/* <Grid item className={classes.downloadButon} xs={6} sm={6} md={6} lg={6} >\r\n        <button disabled><img src={iosImage}  alt=\"my image\" onClick={handleIos} /></button>\r\n        </Grid> */}\r\n      </Grid>\r\n      </div>\r\n    )  \r\n  } \r\n\r\n  \r\n  const [showPassword, setShowPassword] = useState(false);\r\n\r\n  function handleVisibility(visible) {\r\n    let myName = document.getElementById(\"userName\").value;\r\n    let myPassword = document.getElementById(\"password\").value;\r\n    setUserName(myName);\r\n    setPassword(myPassword);\r\n    setShowPassword(visible);\r\n  }\r\n\r\n  function NonMobile() {\r\n    return (\r\n      <TextField variant=\"outlined\" required fullWidth\r\n        id=\"password\" label=\"Password\" type=\"password\"\r\n        defaultValue={password}\r\n        // onChange={(event) => setPassword(event.target.value)}\r\n      />\r\n    )\r\n  }\r\n\r\n\r\n\t//console.log(\"In sign in\");\r\n  return (\r\n\t<Container component=\"main\" maxWidth=\"xs\">\r\n\t<CssBaseline />\r\n\t<div className={classes.paper}>\r\n\t<CricDreamLogo />\r\n\t<ValidatorForm align=\"center\" className={classes.form} onSubmit={handleSubmit}>\r\n\t\t<Typography component=\"h1\" variant=\"h5\" align=\"center\">Sign in</Typography>\r\n\t\t<BlankArea />\r\n\t\t<TextValidator fullWidth  variant=\"outlined\" required className={gClasses.vgSpacing}\r\n\t\t\tid=\"newPatientName\" label=\"Name\" type=\"text\"\r\n\t\t\tvalue={userName} \r\n\t\t\tonChange={() => { setUserName(event.target.value) }}\r\n\t\t\tvalidators={['noSpecialCharacters']}\r\n\t\t\terrorMessages={['Special characters not permitted']}\r\n\t\t/>\r\n\t\t{(showPassword) &&\r\n\t\t\t<TextValidator fullWidth variant=\"outlined\"  required className={gClasses.vgSpacing}\r\n\t\t\t\tid=\"password\" label=\"Password\" type={\"text\"}\r\n\t\t\t\tvalue={password} \r\n\t\t\t\tInputProps={{\r\n\t\t\t\t\tendAdornment: (\r\n\t\t\t\t\t\t<InputAdornment position=\"end\">\r\n\t\t\t\t\t\t\t<VisibilityIcon onClick={() => { setShowPassword(false); }} />\r\n\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t),\r\n\t\t\t\t}}\r\n\t\t\t\tonChange={() => { setPassword(event.target.value) }}\r\n\t\t\t\tvalidators={['noSpecialCharacters']}\r\n\t\t\t\terrorMessages={['Special characters not permitted']}\r\n\t\t\t/>\r\n\t\t}\r\n\t\t{(!showPassword) &&\r\n\t\t\t<TextValidator fullWidth variant=\"outlined\"  required className={gClasses.vgSpacing}\r\n\t\t\t\tid=\"password\" label=\"Password\" type={\"password\"}\r\n\t\t\t\tvalue={password} \r\n\t\t\t\tInputProps={{\r\n\t\t\t\t\tendAdornment: (\r\n\t\t\t\t\t\t<InputAdornment position=\"end\">\r\n\t\t\t\t\t\t\t<VisibilityOffIcon onClick={() => { setShowPassword(true); }} />\r\n\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t),\r\n\t\t\t\t}}\r\n\t\t\t\tonChange={() => { setPassword(event.target.value) }}\r\n\t\t\t\tvalidators={['noSpecialCharacters']}\r\n\t\t\t\terrorMessages={['Special characters not permitted']}\r\n\t\t\t/>\r\n\t\t}\r\n\t\t<Typography className={(errorMessage.isError) ? gClasses.error : gClasses.nonerror} align=\"left\">{errorMessage.msg}</Typography>\r\n\t\t<ValidComp />\r\n\t\t<Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\" className={classes.submit}>\r\n\t\t\tSign In\r\n\t\t</Button>\r\n\t\t</ValidatorForm>\t\r\n\t\t<div align=\"left\">\r\n\t\t\t<Link href=\"#\" onClick={handleForgot} variant=\"body2\">Forgot password</Link>\r\n\t\t</div>\r\n\t</div>\r\n\t</Container>\r\n  );\r\n}\r\n","import React, { useState ,useContext} from 'react';\r\n// import Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\n// import TextField from '@material-ui/core/TextField';\r\nimport Link from '@material-ui/core/Link';\r\n// import { Switch, Route } from 'react-router-dom';\r\n// import Grid from '@material-ui/core/Grid';\r\n// import Box from '@material-ui/core/Box';\r\n//import LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport globalStyles from \"assets/globalStyles\";\r\nimport Container from '@material-ui/core/Container';\r\n//import { UserContext } from \"../../UserContext\";\r\n//import axios from \"axios\";\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\nimport { TextField, InputAdornment } from \"@material-ui/core\";\r\nimport red from '@material-ui/core/colors/red';\r\n// import { useHistory } from \"react-router-dom\";\r\n// import SignIn from \"./SignIn.js\";\r\nimport { cdRefresh, encrypt, decrypt, isMobile,\r\n  validateSpecialCharacters, validateMobile, validateEmail,\r\n} from \"views/functions.js\";\r\nimport { CricDreamLogo, BlankArea, ValidComp } from 'CustomComponents/CustomComponents.js';\r\nimport VisibilityIcon from '@material-ui/icons/Visibility';\r\nimport VisibilityOffIcon from '@material-ui/icons/VisibilityOff';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  error:  {\r\n      // right: 0,\r\n      fontSize: '12px',\r\n      color: red[700],\r\n      // position: 'absolute',\r\n      alignItems: 'center',\r\n      marginTop: '0px',\r\n  },\r\n}));\r\n\r\n\r\nexport default function SignUp() {\r\n  const classes = useStyles();\r\n  const gClasses = globalStyles();\r\n  // const history = useHistory();\r\n  const [referalCode, setReferalCode] = useState(\"\");\r\n  const [userName, setUserName] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [repeatPassword, setRepeatPassword] = useState(\"\");\r\n  const [registerStatus, setRegisterStatus] = useState(199);\r\n  const [mobile, setMobile] = useState(\"\");\r\n  // const { setUser } = useContext(UserContext);\r\n\r\n  const handleSubmit = async() => {\r\n    console.log(\"Submit command provided\");\r\n    let x = getInput();\r\n    console.log(\"fetched value\", x);\r\n    if (validate(\"userName\")) return;\r\n    if (validate(\"password\")) return;\r\n    if (validate(\"repeatPassword\", \"password\")) return;\r\n    // console.log(\"All okay\");\r\n\r\n    let tmp1 = encrypt(x.password);\r\n    let tmp2 = encrypt(email);\r\n    let rCode = (referalCode !== \"\") ? referalCode : \"NA\";\r\n\t\t\r\n    let response = await fetch(`${process.env.REACT_APP_AXIOS_BASEPATH}/user/cricsignup/${x.userName}/${tmp1}/${tmp2}/${mobile}/${rCode}`);\r\n    if (response.status === 200) {\r\n      let setemailresp = await fetch(`${process.env.REACT_APP_AXIOS_BASEPATH}/user/cricemailwelcome/${tmp2}`);\r\n      // history.push(\"/signin\");\r\n      sessionStorage.setItem(\"currentLogin\", \"SIGNIN\");\r\n      cdRefresh();\r\n\r\n    } else {\r\n      // error\r\n      setRegisterStatus(response.status);\r\n      console.log(`Status is ${response.status}`);\r\n    }\r\n  }\r\n\r\n  function handleLogin() {\r\n    // console.log(\"Call for login here\");\r\n    // history.push(\"/signin\")\r\n    sessionStorage.setItem(\"currentLogin\", \"SIGNIN\");\r\n    cdRefresh();\r\n\r\n  }\r\n\r\n  function ShowResisterStatus() {\r\n    // console.log(`Status is ${registerStatus}`);\r\n    let myMsg;\r\n    switch (registerStatus) {\r\n      case 199:\r\n        myMsg = \"\";\r\n        break;\r\n      case 200:\r\n        // setUserName(\"\");\r\n        // setPassword(\"\");\r\n        // setRepeatPassword(\"\");\r\n        // setEmail(\"\");\r\n        myMsg = `User ${userName} successfully regisitered.`;\r\n        break;\r\n      case 602:\r\n        myMsg = \"User Name already in use\";\r\n        break;\r\n      case 603:\r\n        myMsg = \"Email id already in use\";\r\n        break;\r\n      default:\r\n          myMsg = \"Unknown Error\";\r\n          break;\r\n    }\r\n    return(\r\n      <div>\r\n        <Typography className={(registerStatus === 200) ? gClasses.nonerror : gClasses.error}>{myMsg}</Typography>\r\n      </div>\r\n    )\r\n  }\r\n\r\n\r\n  const [error, setError] = useState({});\r\n  const [helperText, setHelperText] = useState({});\r\n  function validate(eid, eid2) {\r\n    getInput();\r\n    let e = document.getElementById(eid);\r\n    let myValue = e.value; \r\n    // console.log(eid, myValue);\r\n    let newError=false;\r\n    let newText = \"\";\r\n    \r\n    switch (eid) {\r\n      case \"userName\":\r\n        if (!validateSpecialCharacters(myValue)) {\r\n          newError = true;\r\n          newText = 'Special characters not permitted';\r\n        } else if (myValue.length < 6) {\r\n          newError = true;\r\n          newText = \"Mimumum 6 characters required\";\r\n        }\r\n      break;\r\n      case \"password\":\r\n        // console.log(\"Setting password as \", myValue);\r\n        // setPassword(myValue);\r\n        if (!validateSpecialCharacters(myValue)) {\r\n          newError = true;\r\n          newText = 'Special characters not permitted';\r\n        } else if (myValue.length < 6) {\r\n          newError = true;\r\n          newText = \"Mimumum 6 characters required\";\r\n        }\r\n      break;\r\n      case \"repeatPassword\":\r\n        let myValue2 = document.getElementById(eid2).value;\r\n        // setRepeatPassword(myValue);\r\n        if (myValue !== myValue2) {\r\n          newError = true;\r\n          newText = 'Password mismatch';\r\n        } \r\n      break;\r\n    }\r\n    \r\n    let x = {};\r\n    x[eid] = newError;\r\n    setError(x);\r\n    \r\n    x = {};\r\n    x[eid] = newText;\r\n    setHelperText(x);\r\n\r\n    e.focus();\r\n    return newError;\r\n  }\r\n\r\n  function getInput() {\r\n    let myName = document.getElementById(\"userName\").value;\r\n    let myPass1 = document.getElementById(\"password\").value;\r\n    let myPass2 = document.getElementById(\"repeatPassword\").value;\r\n    // console.log(myName, myPass1, myPass2);\r\n\r\n    setUserName(myName);\r\n    setPassword(myPass1);\r\n    setRepeatPassword(myPass2);\r\n    return {\r\n      userName: myName,\r\n      password: myPass1,\r\n      repeatPassword: myPass2\r\n    }\r\n  }\r\n\r\n  const [showPass1, setShowPass1] = useState(false);\r\n  const [showPass2, setShowPass2] = useState(false);\r\n\r\n  function handleVisibility1(isVisible) {\r\n    // console.log(\"In visisble 1\", isVisible);\r\n    getInput();\r\n    setShowPass1(isVisible);\r\n    let e = document.getElementById('password');\r\n    e.focus();\r\n  }\r\n\r\n  function handleVisibility2(isVisible) {\r\n    // console.log(\"In visisble 2\", isVisible);\r\n    getInput();\r\n    setShowPass2(isVisible);\r\n    let e = document.getElementById('repeatPassword');\r\n    e.focus();\r\n  }\r\n\r\n  function Password1NonMobile() {\r\n    return (\r\n      <TextValidator variant=\"outlined\" required fullWidth\r\n      id=\"password\" label=\"Password\" type=\"password\"\r\n      defaultValue={password}\r\n      // onChange={(event) => validate(\"password\")}\r\n      error={error.password}\r\n      helperText={helperText.password}\r\n      // validators={['required', 'minLength', 'noSpecialCharacters']}\r\n      // errorMessages={['Password to be provided', 'Mimumum 6 characters required', 'Special characters not permitted']}\r\n      // value={password}\r\n    />\r\n    );\r\n  }\r\n\r\n  function Password2NonMobile() {\r\n    return (\r\n      <TextValidator variant=\"outlined\" required fullWidth\r\n      id=\"repeatPassword\" label=\"Repeat Password\" type=\"password\"\r\n      defaultValue={repeatPassword}\r\n      // onChange={(event) => validate(\"repeatPassword\", \"password\")}\r\n      error={error.repeatPassword}\r\n      helperText={helperText.repeatPassword}\r\n      // validators={['required', 'minLength', 'noSpecialCharacters']}\r\n      // errorMessages={['Password to be provided', 'Mimumum 6 characters required', 'Special characters not permitted']}\r\n      // value={password}\r\n    />\r\n    );\r\n  }\r\n\r\n  function Password1Text() {\r\n    return (\r\n      <TextValidator variant=\"outlined\" required fullWidth\r\n      id=\"password\" label=\"Password\" type=\"text\"\r\n      defaultValue={password}\r\n      // onChange={(event) => validate(\"password\")}\r\n      error={error.password}\r\n      helperText={helperText.password}\r\n      InputProps={{\r\n        endAdornment: (\r\n          <InputAdornment position=\"end\">\r\n            <VisibilityOffIcon onClick={() => { handleVisibility1(false); }} />\r\n          </InputAdornment>\r\n        ),\r\n      }}\r\n      // validators={['required', 'minLength', 'noSpecialCharacters']}\r\n      // errorMessages={['Password to be provided', 'Mimumum 6 characters required', 'Special characters not permitted']}\r\n      // value={password}\r\n    />\r\n    );\r\n  }\r\n\r\n  function Password2Text() {\r\n    return (\r\n      <TextValidator variant=\"outlined\" required fullWidth\r\n      id=\"repeatPassword\" label=\"Repeat Password\" type=\"text\"\r\n      defaultValue={repeatPassword}\r\n      // onChange={(event) => validate(\"password\")}\r\n      error={error.repeatPassword}\r\n      helperText={helperText.repeatPassword}\r\n      InputProps={{\r\n        endAdornment: (\r\n          <InputAdornment position=\"end\">\r\n            <VisibilityOffIcon onClick={() => { handleVisibility2(false); }} />\r\n          </InputAdornment>\r\n        ),\r\n      }}\r\n      // validators={['required', 'minLength', 'noSpecialCharacters']}\r\n      // errorMessages={['Password to be provided', 'Mimumum 6 characters required', 'Special characters not permitted']}\r\n      // value={password}\r\n    />\r\n    );\r\n  }\r\n\r\n  function Password1Password() {\r\n    return (\r\n      <TextValidator variant=\"outlined\" required fullWidth\r\n      id=\"password\" label=\"Password\" type=\"password\"\r\n      defaultValue={password}\r\n      // onChange={(event) => validate(\"password\")}\r\n      error={error.password}\r\n      helperText={helperText.password}\r\n      InputProps={{\r\n        endAdornment: (\r\n          <InputAdornment position=\"end\">\r\n            <VisibilityIcon onClick={() => { handleVisibility1(true); }} />\r\n          </InputAdornment>\r\n        ),\r\n      }}\r\n      // validators={['required', 'minLength', 'noSpecialCharacters']}\r\n      // errorMessages={['Password to be provided', 'Mimumum 6 characters required', 'Special characters not permitted']}\r\n      // value={password}\r\n    />\r\n    );\r\n  }\r\n\r\n  function Password2Password() {\r\n    return (\r\n      <TextValidator variant=\"outlined\" required fullWidth\r\n      id=\"repeatPassword\" label=\"Repeat Password\" type=\"password\"\r\n      defaultValue={repeatPassword}\r\n      // onChange={(event) => validate(\"password\")}\r\n      error={error.repeatPassword}\r\n      helperText={helperText.repeatPassword}\r\n      InputProps={{\r\n        endAdornment: (\r\n          <InputAdornment position=\"end\">\r\n            <VisibilityIcon onClick={() => { handleVisibility2(true); }} />\r\n          </InputAdornment>\r\n        ),\r\n      }}\r\n      // validators={['required', 'minLength', 'noSpecialCharacters']}\r\n      // errorMessages={['Password to be provided', 'Mimumum 6 characters required', 'Special characters not permitted']}\r\n      // value={password}\r\n    />\r\n    );\r\n  }\r\n\r\n\r\n  function DisplayPassword1() {\r\n    // let tmp = isMobile();\r\n    // console.log(\"is mobile2\", tmp);\r\n    if (isMobile()) {\r\n      if (showPass1) {\r\n        return <Password1Text />\r\n      } else {\r\n        return <Password1Password />\r\n      }\r\n    } else {\r\n      return <Password1NonMobile />\r\n    }\r\n  }\r\n\r\n  function DisplayPassword2() {\r\n    // let tmp = isMobile();\r\n    // console.log(\"is mobile2\", tmp);\r\n    if (isMobile()) {\r\n      if (showPass2) {\r\n        return <Password2Text />\r\n      } else {\r\n        return <Password2Password />\r\n      }\r\n    } else {\r\n      return <Password2NonMobile />\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={gClasses.paper}>\r\n        <CricDreamLogo />\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Register New User\r\n        </Typography>\r\n    <ValidatorForm className={gClasses.form} onSubmit={handleSubmit}>\r\n      <TextValidator variant=\"outlined\" fullWidth\r\n          id=\"referral\" label=\"Referral Code\" name=\"referral\"\r\n          // defaultValue={userName}\r\n          onChange={(event) => setReferalCode(event.target.value)}\r\n          validators={['noSpecialCharacters']}\r\n          errorMessages={[`Special Characters not permitted`]}\r\n          // error={error.userName}\r\n          // helperText={helperText.userName}\r\n          value={referalCode}\r\n        />\r\n      <BlankArea/>\r\n      <TextValidator variant=\"outlined\" required fullWidth\r\n          id=\"userName\" label=\"User Name\" name=\"username\"\r\n          // defaultValue={userName}\r\n          onChange={(event) => setUserName(event.target.value)}\r\n          validators={['required', 'minLength', 'noSpecialCharacters']}\r\n          errorMessages={['User Name to be provided', 'Mimumum 6 characters required', ]}\r\n          // error={error.userName}\r\n          // helperText={helperText.userName}\r\n          value={userName}\r\n      />\r\n      <BlankArea/>\r\n      <TextValidator\r\n          variant=\"outlined\"\r\n          required\r\n          fullWidth      \r\n          label=\"Email\"\r\n          onChange={(event) => setEmail(event.target.value)}\r\n          name=\"email\"\r\n          type=\"email\"\r\n          validators={['isEmailOK', 'required']}\r\n          errorMessages={['Invalid Email', 'Email to be provided']}\r\n          value={email}\r\n      />\r\n      <BlankArea/>\r\n      <TextValidator\r\n          variant=\"outlined\"\r\n          required\r\n          fullWidth      \r\n          label=\"Mobile\"\r\n          onChange={(event) => setMobile(event.target.value)}\r\n          name=\"mobile\"\r\n          //type=\"email\"\r\n          validators={['required', 'mobile']}\r\n          errorMessages={[, 'Mobile to be provided', '10 digit mobile number required']}\r\n          value={mobile}\r\n      />\r\n      <BlankArea/>\r\n      <DisplayPassword1 />\r\n      <BlankArea/>\r\n      <DisplayPassword2 />\r\n      <BlankArea/>\r\n      <Button\r\n        type=\"submit\"\r\n        fullWidth\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        className={gClasses.submit}\r\n      >\r\n        Register\r\n    </Button>\r\n    </ValidatorForm>\r\n    <ShowResisterStatus/>\r\n    </div>\r\n    <ValidComp p1={password}/>    \r\n    <Typography className={gClasses.root}>\r\n      <Link href=\"#\" onClick={handleLogin} variant=\"body2\">\r\n        Already have an account? Sign in \r\n      </Link>\r\n    </Typography>\r\n    {/* <Switch>\r\n      <Route  path='/admin/signin' component={SignIn} key=\"MemberList\"/>\r\n    </Switch> */}\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport axios from \"axios\";\r\nimport VsButton from \"CustomComponents/VsButton\";\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\nimport GridContainer from \"components/Grid/GridContainer.js\";\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport { spacing } from '@material-ui/system';\r\nimport globalStyles from \"assets/globalStyles\";\r\nimport { InputAdornment, makeStyles, Container, CssBaseline } from '@material-ui/core';\r\n// import { Switch, Route, Link } from 'react-router-dom';\r\n// import Table from \"components/Table/Table.js\";\r\n// import Table from '@material-ui/core/Table';\r\n// import TableBody from '@material-ui/core/TableBody';\r\n// import TableCell from '@material-ui/core/TableCell';\r\n// import TableContainer from '@material-ui/core/TableContainer';\r\n// import TableHead from '@material-ui/core/TableHead';\r\n// import TablePagination from '@material-ui/core/TablePagination';\r\n// import TableRow from '@material-ui/core/TableRow';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\n// import FormControlLabel from '@material-ui/core/FormControlLabel';\r\n// import Radio from '@material-ui/core/Radio';\r\nimport Box from '@material-ui/core/Box';\r\nimport { UserContext } from \"../../UserContext\";\r\nimport { DisplayPageHeader, BlankArea, JumpButton } from 'CustomComponents/CustomComponents.js';\r\nimport { encrypt, clearBackupData, hasGroup, upGradeRequired, downloadApk } from 'views/functions';\r\nimport { red, blue, deepOrange, grey } from '@material-ui/core/colors';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardIcon from \"components/Card/CardIcon.js\";\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from \"@material-ui/core/CardActions\";\r\nimport CardFooter from \"components/Card/CardFooter.js\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Button from '@material-ui/core/Button';\r\nimport {setTab} from \"CustomComponents/CricDreamTabs.js\"\r\nimport Divider from '@material-ui/core/Divider';\r\nimport ArrowLeftIcon from '@material-ui/icons/ArrowLeft';\r\nimport ArrowRightIcon from '@material-ui/icons/ArrowRight';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Modal from 'react-modal';\r\nimport modalStyles from 'assets/modalStyles';\r\n\r\nimport { isMobile, cdRefresh } from \"views/functions.js\"\r\n\r\n// import NEWTOURNAMENTIMAGE from `${process.env.PUBLIC_URL}/NEWTOURNAMENT.JPG`;\r\n\r\nconst cardStyles = {\r\n  cardImage: {\r\n\t\tpadding: \"1px 1px\", \r\n\t\tmargin: \"1px 1px\", \r\n  }\r\n};\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tboxColor: {\r\n\t\tbackgroundColor: grey[100],\r\n\t},\r\n\tcardImage: {\r\n\t\tpadding: \"1px 1px\", \r\n\t\tmargin: \"1px 1px\", \r\n  },\r\n\ttitle: {\r\n\t\tmargin: \"10px\", \r\n\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tcolor: 'blue',\r\n\t},\r\n\tmessage: {\r\n\t\talign: \"left\",\r\n\t\tmargin: \"10px\", \r\n\t\tfontSize: theme.typography.pxToRem(16),\r\n\t},\r\n\twelcome: {\r\n\t\tmargin: \"30px\", \r\n\t\tfontSize: theme.typography.pxToRem(32),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tcolor: deepOrange[900],\r\n\t},\r\n}));\r\n\r\n\r\n//const PATIENTMSG=\"The patient's anatomy always always should be respected, even if it is absolutely contrary - the decision is contrary to best medical advice and what the physician wahts\";\r\nconst PATIENTMSG=      \"The patient's anatomy always always should be respected by the Doctor, even if it is absolutely contrary.\";\r\nconst APPOINTMENTMSG = \"Events do not just happen, but arrive by appointment. Don't make a wish, make an appointment.\"\r\nconst VISITMSG =       \"Remember visit to Dentist is a two-way street, you are in clinic for your Dental health and so is the Doctor.\"\r\nconst REPORTMSG =      \"The medical report card helps give us a focus and it frames the dialogue for moving forward.\";\r\nconst MEDICINEMSG =    \"Wherever the art of Medicine is loved, there is also a love of Humanity. Love your medicine\";\r\n\r\nconst cardStyle = {padding: \"5px 10px\", margin: \"4px 4px\", backgroundColor: blue[100], color: 'black', fontSize:'14px', borderRadius:7, border: 2};\t\r\n\r\nconst cardData = [\r\n{image: \"APPOINTMENT.JPG\", \ttitle: \"Appointment\", \tmessage: APPOINTMENTMSG, \tsetpos: process.env.REACT_APP_APPT},\r\n{image: \"VISIT.JPG\",       \ttitle: \"Visit\",       \tmessage: VISITMSG,       \tsetpos: process.env.REACT_APP_VISIT},\r\n{image: \"PATIENT.JPG\",     \ttitle: \"Patient\",     \tmessage: PATIENTMSG,     \tsetpos: process.env.REACT_APP_PATIENT},\r\n{image: \"REPORT.JPG\",     \ttitle: \"Report\",     \t\tmessage: REPORTMSG,     \t\tsetpos: process.env.REACT_APP_REPORT},\r\n{image: \"MEDICINE.JPG\",     title: \"Medicine\",      message: MEDICINEMSG,      setpos: process.env.REACT_APP_MEDICINE},\r\n];\r\n\r\n\r\nexport default function Home() {\r\n    // const { setUser } = useContext(UserContext);\r\n    // window.onbeforeunload = () => setUser(\"\")\r\n\tconst classes = useStyles();\r\n\tconst gClasses = globalStyles();\r\n\tconst [custInfo, setCustInfo] = useState({});\r\n\r\n    useEffect(() => {\r\n\t\tconst getCustomerInfo = async () => {\t\t\r\n\t\t\ttry {\r\n\t\t\t\tlet tmp = JSON.parse(sessionStorage.getItem(\"customerData\"));\r\n\t\t\t\tsetCustInfo(tmp);\r\n\t\t\t\t//console.log(tmp)\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t}\r\n\t\t}\r\n\t\t//console.log(sessionStorage.getItem(\"cid\"));\r\n\t\t//getCustomerInfo();\r\n    }, [])\r\n\r\n \r\n\t\r\n\treturn (\r\n\t<div className={gClasses.webPage} align=\"center\" key=\"main\">\r\n\t<Container component=\"main\" maxWidth=\"lg\">\r\n\t<CssBaseline />\r\n\t<Typography className={classes.welcome}>{\"Welcome to Doctor Viraag\"}</Typography>\r\n\t<VsButton name=\"Continue to Login\" align=\"right\" \r\n\t\tonClick={() => {sessionStorage.setItem(\"currentLogin\",\"SIGNIN\"); cdRefresh();}}\r\n\t/>\r\n<BlankArea />\t\r\n\t<Grid container key=\"ALLITEMS\" >\r\n\t\t<Grid item key={\"ITEM0\"} xs={false} sm={false} md={false} lg={1} />\r\n\t\t{cardData.map( (item, index) =>\r\n\t\t\t<Grid item key={\"ITEM\"+index} xs={12} sm={6} md={6} lg={2} >\r\n\t\t\t\t<Box className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} \r\n\t\t\t\t>\r\n\t\t\t\t<img className={classes.cardImage} src={`${process.env.PUBLIC_URL}/image/${item.image}`} alt=\"ARUN\" />\r\n\t\t\t\t<Typography className={classes.title}>{item.title}</Typography>\r\n\t\t\t\t<div align=\"left\">\r\n\t\t\t\t<Typography className={classes.message}>{item.message}</Typography>\r\n\t\t\t\t</div>\r\n\t\t\t\t</Box>\r\n\t\t\t</Grid>\r\n\t\t)} \r\n\t<Grid item key={\"ITEM100\"} xs={false} sm={false} md={false} lg={1} />\r\n\t</Grid>\r\n\t</Container>\r\n\t</div>\r\n\t);\r\n}\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { InputAdornment, makeStyles, Container, CssBaseline } from '@material-ui/core';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport axios from \"axios\";\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport SwitchBtn from '@material-ui/core/Switch';\r\nimport Modal from 'react-modal';\r\nimport Box from '@material-ui/core/Box';\r\nimport VsButton from \"CustomComponents/VsButton\";\r\nimport VsCancel from \"CustomComponents/VsCancel\";\r\nimport RadioGroup from '@material-ui/core/RadioGroup'; \r\nimport Radio from '@material-ui/core/Radio';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Switch from \"@material-ui/core/Switch\";\r\n//import  from '@material-ui/core/Container';\r\n//import  from '@material-ui/core/CssBaseline';\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Link from '@material-ui/core/Link';\r\nimport Button from '@material-ui/core/Button';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\r\n// import FormControlLabel from '@material-ui/core/FormControlLabel';\r\n// import Radio from '@material-ui/core/Radio';\r\nimport Card from \"components/Card/Card.js\";\r\nimport CardBody from \"components/Card/CardBody.js\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Avatar from \"@material-ui/core/Avatar\"\r\nimport { useHistory } from \"react-router-dom\";\r\nimport lodash from 'lodash';\r\n\r\n// import CardAvatar from \"components/Card/CardAvatar.js\";\r\n// import { UserContext } from \"../../UserContext\";\r\nimport { isUserLogged, isMobile, encrypt, decrypt, callYesNo, updatePatientByFilter,\r\n\tdispOnlyAge, dispAge, dispEmail, dispMobile,\r\n\tcdRefresh ,\r\n } from \"views/functions.js\"\r\nimport {DisplayYesNo, DisplayPageHeader, BlankArea,\r\nDisplayPatientDetails,\r\n} from \"CustomComponents/CustomComponents.js\"\r\n\r\n// styles\r\nimport globalStyles from \"assets/globalStyles\";\r\nimport {dynamicModal } from \"assets/dynamicModal\";\r\n\r\n// icons\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n//import CancelIcon from '@material-ui/icons/Cancel';\r\n\r\nimport {red, blue, yellow, orange, deepOrange, pink } from '@material-ui/core/colors';\r\nimport { LeakRemoveTwoTone, LensTwoTone } from '@material-ui/icons';\r\nimport {setTab} from \"CustomComponents/CricDreamTabs.js\"\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tfilterRadio: {\r\n\t\t\tfontSize: theme.typography.pxToRem(14),\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t\tcolor: '#000000',\t\r\n\t},\r\n\tth: { \r\n\t\tborder: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tfontSize: theme.typography.pxToRem(13),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t//backgroundColor: '#FFA726',\r\n\t\tbackgroundColor: deepOrange[200],\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n\t},\r\n\tapptName: {\r\n\t\tfontSize: theme.typography.pxToRem(15),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t},  \r\n\ttdBonus: {\r\n    border: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tborderWidth: 1,\r\n\t\tbackgroundColor: blue[100],\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n  },\r\n\ttdWallet : {\r\n\t\tbackgroundColor: pink[100],\r\n    border: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n  },\r\n  wallet : {\r\n    spacing: 0,\r\n    // border: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n    height: 10,\r\n    backgroundColor: '#B3E5FC',\r\n  },\r\n  bonus : {\r\n    spacing: 0,\r\n    // border: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n    height: 10,\r\n    backgroundColor: '#FFC0CB',\r\n  },\r\n}));\r\n  \r\n\r\n\r\nlet searchText = \"\";\r\nfunction setSearchText(sss) { searchText = sss;}\r\n\r\n\r\nvar userCid;\r\nexport default function Doctor() {\r\n\r\n  const classes = useStyles();\r\n\tconst gClasses = globalStyles();\r\n\r\n\tconst [doctorArray, setDoctorArray] = useState([]);\r\n\tconst [masterDoctorArray, setMasterDoctorArray] = useState([])\r\n\tconst [categary, setCategary] = useState([]);\r\n\tconst [radioValue, setRadioValue] = useState(\"All\");\r\n\t\r\n  useEffect(() => {\r\n\t\tconst getDoctors = async () => {\r\n\t\t\ttry {\r\n\t\t\tvar response = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/doctor/list`);\r\n\t\t\t\tsetMasterDoctorArray(response.data);\r\n\t\t\t\tsetDoctorArray(response.data);\r\n\t\t\t\tlet allCat = [...new Set(response.data.map(item => item.type))]; // [ 'A', 'B']\r\n\t\t\t\tallCat = [\"All\"].concat(allCat);\r\n\t\t\t\tconsole.log(allCat);\r\n\t\t\t\tsetCategary(allCat);\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t}\r\n\t\t}\r\n\t\tuserCid = sessionStorage.getItem(\"cid\");\r\n\t\tgetDoctors();\r\n  }, [])\r\n\r\n\tfunction handleRadioChange(v) {\r\n\t\tconsole.log(v);\r\n\t\tsetRadioValue(v);\r\n\t\tlet tmp = (v === \"All\") ? [].concat(masterDoctorArray) : masterDoctorArray.filter(x => x.type === v);\r\n\t\tsetDoctorArray(tmp);\r\n\t}\r\n\t\r\n\tfunction DisplayFilterRadios() {\r\n\treturn (\t\r\n\t\t<FormControl component=\"fieldset\">\r\n\t\t<RadioGroup row aria-label=\"radioselection\" name=\"radioselection\" value={radioValue} \r\n\t\t\tonChange={() => {handleRadioChange(event.target.value); }}\r\n\t\t>\r\n\t\t{categary.map( (a, index) =>\r\n\t\t\t<FormControlLabel className={classes.filterRadio} value={a}\tcontrol={<Radio color=\"primary\"/>} label={a} />\r\n\t\t)}\r\n\t\t</RadioGroup>\r\n\t</FormControl>\r\n\t)}\r\n\t\r\n\tfunction DisplayRadios() {\r\n\treturn (\r\n\t\t<Box className={classes.allAppt} border={1} width=\"100%\">\r\n\t\t\t<TableContainer>\r\n\t\t\t<Table style={{ width: '100%' }}>\r\n\t\t\t<TableHead>\r\n\t\t\t\t<TableRow align=\"center\">\r\n\t\t\t\t\t<TableCell key={\"TH1\"} component=\"th\" scope=\"row\" align=\"center\" padding=\"none\"\r\n\t\t\t\t\tclassName={classes.th} colSpan={1}>\r\n\t\t\t\t\t{\"Doctors Directory\"}\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t</TableRow>\r\n\t\t\t\t<TableRow align=\"center\">\r\n\t\t\t\t\t<TableCell key={\"TH3\"} component=\"th\" scope=\"row\" align=\"center\" padding=\"none\"\r\n\t\t\t\t\t\tclassName={classes.th} colSpan={1}>\r\n\t\t\t\t\t\t<DisplayFilterRadios />\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t</TableRow>\r\n\t\t\t</TableHead>\r\n\t\t\t</Table>\r\n\t\t\t</TableContainer>\r\n\t\t</Box>\t\t\r\n\t)}\r\n\t\r\n\r\n\tfunction DisplayDoctor(props) {\r\n\tconsole.log(doctorArray);\r\n\treturn(\r\n\t\t<Box className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t\t<div align=\"center\" >\r\n\t\t<Typography>\r\n\t\t<span className={gClasses.patientName}>{props.doctor.name}</span>\r\n\t\t</Typography>\r\n\t\t</div>\r\n\t\t<div align=\"left\" >\r\n\t\t<Typography>\r\n\t\t<span className={gClasses.patientInfo}>{props.doctor.type}</span>\r\n\t\t</Typography>\r\n\t\t<Typography>\r\n\t\t<span className={gClasses.patientInfo}>{props.doctor.clinicName}</span>\r\n\t\t</Typography>\r\n\t\t<Typography className={gClasses.patientInfo}> \r\n\t\t\t{props.doctor.addr1}\r\n\t\t</Typography>\r\n\t\t<Typography className={gClasses.patientInfo}> \r\n\t\t\t{props.doctor.addr2}\r\n\t\t</Typography>\r\n\t\t<Typography className={gClasses.patientInfo}> \r\n\t\t\t{props.doctor.addr3}\r\n\t\t</Typography>\r\n\t\t<Typography className={gClasses.patientInfo}> \r\n\t\t\t{\"Email: \"+ props.doctor.email}\r\n\t\t</Typography>\r\n\t\t<Typography className={gClasses.patientInfo}> \r\n\t\t\t{\"Mobile: \"+ props.doctor.mobile}\r\n\t\t</Typography>\r\n\t\t<BlankArea />\r\n\t\t</div>\r\n\t\t</Box>\r\n\t)}\r\n\r\n\tfunction handleWelcome() {\r\n\t\tsessionStorage.setItem(\"currentLogin\",\"\"); \r\n\t\tcdRefresh();\r\n\t\tconsole.log(\"Calling welcome\");\r\n\t}\r\n\t\r\n\t\r\n  return (\r\n  <div className={gClasses.webPage} align=\"center\" key=\"main\">\r\n\t\t<Container component=\"main\" maxWidth=\"lg\">\r\n\t\t<CssBaseline />\r\n\t\t<DisplayPageHeader headerName=\"Doctor Directory\" groupName=\"\" tournament=\"\"/>\r\n\t\t<BlankArea />\r\n\t\t<div align=\"right\">\r\n\t\t<Button variant=\"contained\" color=\"primary\" \r\n\t\tonClick={() => {sessionStorage.setItem(\"currentLogin\",\"\"); cdRefresh();}}\r\n\t\tclassName={classes.doctorButton}\r\n\t\t>\r\n\t\tBack\r\n\t\t</Button>\r\n\t\t</div>\r\n\t\t<BlankArea />\r\n\t\t<Box className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t\t\t<DisplayRadios />\r\n\t\t\t<BlankArea />\r\n\t\t\t<Grid className={gClasses.noPadding} key=\"AllPatients\" container alignItems=\"center\" >\r\n\t\t\t{doctorArray.map( (d, index) => \r\n\t\t\t\t<Grid key={\"DR\"+d.name} item xs={12} sm={6} md={4} lg={4} >\r\n\t\t\t\t<DisplayDoctor \r\n\t\t\t\t\tdoctor={d} \r\n\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t)}\r\n\t\t</Grid>\r\n\t\t</Box>\t\r\n\t\t</ Container>\r\n  </div>\r\n  );    \r\n}\r\n\r\n","import React, { useState, useEffect ,useContext} from 'react';\r\n//import Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Link from '@material-ui/core/Link';\r\n//import { Switch, Route } from 'react-router-dom';\r\n// import Grid from '@material-ui/core/Grid';\r\n// import Box from '@material-ui/core/Box';\r\n//import LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\n// import TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport globalStyles from \"assets/globalStyles\";\r\nimport Container from '@material-ui/core/Container';\r\nimport { TextField, InputAdornment } from \"@material-ui/core\";\r\n//import { UserContext } from \"../../UserContext\";\r\nimport axios from \"axios\";\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\nimport red from '@material-ui/core/colors/red';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { cdRefresh, encrypt} from \"views/functions.js\";\r\nimport { CricDreamLogo, BlankArea, ValidComp } from 'CustomComponents/CustomComponents.js';\r\nimport { setTab } from \"CustomComponents/CricDreamTabs.js\"\r\nimport { useAlert } from 'react-alert';\r\nimport VisibilityIcon from '@material-ui/icons/Visibility';\r\nimport VisibilityOffIcon from '@material-ui/icons/VisibilityOff';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  error:  {\r\n      // right: 0,\r\n      fontSize: '12px',\r\n      color: red[700],\r\n      // position: 'absolute',\r\n      alignItems: 'center',\r\n      marginTop: '0px',\r\n  },\r\n}));\r\n\r\n\r\n\r\n\r\nexport default function ResetPassword() {\r\n  const classes = useStyles();\r\n\tconst gClasses = globalStyles();\r\n\tconst alert = useAlert();\r\n//  const history = useHistory();\r\n  // const [userName, setUserName] = useState(\"\");\r\n\r\n  const [newPassword, setNewPassword] = useState(\"\");\r\n  const [repeatPassword, setRepeatPassword] = useState(\"\");\r\n\tconst [showNewPassword, setShowNewPassword] = useState(false);\r\n\tconst [showRepeatPassword, setShowRepeatPassword] = useState(false);\r\n\t\r\n\tconst [disableButton, setDisableButton] = useState(true);\r\n\t\r\n\t\r\n\tuseEffect(() => {\r\n\r\n    const verifyCode = async () => {\r\n\t\t\ttry {\r\n\t\t\t\tlet myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/user/cricverifycode/${sessionStorage.getItem(\"currentUserCode\")}`\r\n\t\t\t\t// console.log(myUrl);\r\n\t\t\t\tlet  response = await axios.get(myUrl);\r\n\t\t\t\t// console.log(response.data);\r\n\t\t\t\tlet sts = response.data.status;\r\n\t\t\t\tswitch (sts) {\r\n\t\t\t\t\tcase 1001:\r\n\t\t\t\t\t\talert.error(\"Invalid Link\");\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 1002:\r\n\t\t\t\t\t\talert.error(\"Link expired. Regenerate link\");\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 0:\r\n\t\t\t\t\t\tsetDisableButton(false);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\talert.error(\"Invalid code \"+sts.toString()+\" received from server\");\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(\"Failed\");\r\n\t\t\t\talert.error(\"Error in response from server\");\r\n\t\t\t}\r\n    }\r\n    verifyCode();\r\n  }, []);\r\n\r\n\r\n\r\n  const handleSubmit = async() => {\r\n    console.log(\"Submit command provided\");\r\n    if (true) {\r\n      //let tmp1 = encrypt(currentPassword);\r\n      let tmp2 = encrypt(newPassword);\r\n      let response = await fetch(`${process.env.REACT_APP_AXIOS_BASEPATH}/user/cricresetpassword/${sessionStorage.getItem(\"currentUserCode\")}/${tmp2}`);\r\n      if (response.status === 200) {\r\n\t\t\t\tsessionStorage.setItem(\"currentLogin\",\"SIGNIN\");\r\n        setTab(0);\r\n      } else {\r\n        // error\r\n        setRegisterStatus(response.status);\r\n        console.log(`Status is ${response.status}`);\r\n      }\r\n    } \r\n  }\r\n\r\n\r\n  function ShowResisterStatus() {\r\n    // console.log(`Status is ${registerStatus}`);\r\n    let myMsg;\r\n    switch (registerStatus) {\r\n      case 0:\r\n        myMsg = ``;\r\n        break;\r\n      case 200:\r\n        myMsg = `Updated Password successfully.`;\r\n        break;\r\n      case 602:\r\n        myMsg = \"Invalid Current password\";\r\n        break;\r\n      case 611:\r\n        myMsg = \"New password cannot be same as Current Password\";\r\n      break;\r\n\t\t\tcase 1001:\r\n\t\t\tcase 1002:\r\n        myMsg = \"Invalid / Expired Link\";\r\n\t\t\tbreak; \r\n\t\t\tcase 99999:\r\n        myMsg = \"Reset link expired\";\r\n\t\t\tbreak; \r\n      default:\r\n        myMsg = \"Unknown Error\";\r\n        break;\r\n    }\r\n    return(\r\n      <Typography className={(registerStatus === 200) ? classes.root : classes.error}>{myMsg}</Typography>\r\n    )\r\n\t}\r\n\r\n\tfunction handleLogin() {\r\n    // console.log(\"Call for login here\");\r\n    // history.push(\"/signin\")\r\n    sessionStorage.setItem(\"currentLogin\", \"SIGNIN\");\r\n    cdRefresh();\r\n\r\n  }\r\n\t\r\n\tfunction handleForgot() {\r\n\t\tsessionStorage.setItem(\"currentLogin\", \"RESET\");\r\n    cdRefresh();\r\n\t}\r\n\t\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n\t\t\t<CricDreamLogo /> \r\n      <Typography component=\"h1\" variant=\"h5\">\r\n        Reset Password\r\n      </Typography>\r\n      <ValidatorForm className={classes.form} onSubmit={handleSubmit}>\r\n\t\t\t{(showNewPassword) &&\r\n\t\t\t\t<TextValidator fullWidth variant=\"outlined\"  required className={gClasses.vgSpacing}\r\n\t\t\t\t\tlabel=\"New Password\" type={\"text\"}\r\n\t\t\t\t\tvalue={newPassword} \r\n\t\t\t\t\tInputProps={{\r\n\t\t\t\t\t\tendAdornment: (\r\n\t\t\t\t\t\t\t<InputAdornment position=\"end\">\r\n\t\t\t\t\t\t\t\t<VisibilityIcon onClick={() => { setShowNewPassword(false); }} />\r\n\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tonChange={() => { setNewPassword(event.target.value) }}\r\n\t\t\t\t\tvalidators={['minLength', 'noSpecialCharacters']}\r\n\t\t\t\t\terrorMessages={['Minimum 6 chars required','Special characters not permitted']}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t\t{(!showNewPassword) &&\r\n\t\t\t\t<TextValidator fullWidth variant=\"outlined\"  required className={gClasses.vgSpacing}\r\n\t\t\t\t\tlabel=\"New Password\" type={\"password\"}\r\n\t\t\t\t\tvalue={newPassword} \r\n\t\t\t\t\tInputProps={{\r\n\t\t\t\t\t\tendAdornment: (\r\n\t\t\t\t\t\t\t<InputAdornment position=\"end\">\r\n\t\t\t\t\t\t\t\t<VisibilityOffIcon onClick={() => { setShowNewPassword(true); }} />\r\n\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tonChange={() => { setNewPassword(event.target.value) }}\r\n\t\t\t\t\tvalidators={['minLength', 'noSpecialCharacters']}\r\n\t\t\t\t\terrorMessages={['Minimum 6 chars required','Special characters not permitted']}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t\t{(showRepeatPassword) &&\r\n\t\t\t\t<TextValidator fullWidth variant=\"outlined\"  required className={gClasses.vgSpacing}\r\n\t\t\t\t\tlabel=\"Repeat Password\" type={\"text\"}\r\n\t\t\t\t\tvalue={repeatPassword} \r\n\t\t\t\t\tonChange={() => { setRepeatPassword(event.target.value) }}\r\n\t\t\t\t\tInputProps={{\r\n\t\t\t\t\t\tendAdornment: (\r\n\t\t\t\t\t\t\t<InputAdornment position=\"end\">\r\n\t\t\t\t\t\t\t\t<VisibilityIcon onClick={() => { setShowRepeatPassword(false); }} />\r\n\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t}}\r\n          validators={['isPasswordMatch']}\r\n          errorMessages={['password mismatch']}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t\t{(!showRepeatPassword) &&\r\n\t\t\t\t<TextValidator fullWidth variant=\"outlined\"  required className={gClasses.vgSpacing}\r\n\t\t\t\t\tlabel=\"Repeat Password\" type={\"password\"}\r\n\t\t\t\t\tvalue={repeatPassword} \r\n\t\t\t\t\tonChange={() => { setRepeatPassword(event.target.value) }}\r\n\t\t\t\t\tInputProps={{\r\n\t\t\t\t\t\tendAdornment: (\r\n\t\t\t\t\t\t\t<InputAdornment position=\"end\">\r\n\t\t\t\t\t\t\t\t<VisibilityOffIcon onClick={() => { setShowRepeatPassword(true); }} />\r\n\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t}}\r\n          validators={['isPasswordMatch']}\r\n          errorMessages={['password mismatch']}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n      <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\" disabled={disableButton} >\r\n        Update\r\n\t\t\t</Button>\r\n\t\t\t<ValidComp p1={newPassword}/> \r\n    </ValidatorForm>\r\n    </div>\r\n\t\t<Typography className={classes.root}>\r\n      <Link href=\"#\" onClick={handleLogin} variant=\"body2\">\r\n        Already have an account? Sign in \r\n      </Link>\r\n    </Typography>\t\t\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useState ,useContext} from 'react'; \r\n//import Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\n// import TextField from '@material-ui/core/TextField';\r\nimport Link from '@material-ui/core/Link';\r\n// import { Switch, Route } from 'react-router-dom';\r\n// import Grid from '@material-ui/core/Grid';\r\n// import Box from '@material-ui/core/Box';\r\n//import LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\n//import { UserContext } from \"../../UserContext\";\r\n// import axios from \"axios\";\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\nimport red from '@material-ui/core/colors/red';\r\nimport { useHistory } from \"react-router-dom\";\r\n// import SignIn from \"./SignIn.js\";\r\nimport {ValidComp, BlankArea, CricDreamLogo} from \"CustomComponents/CustomComponents.js\"\r\nimport { cdRefresh, encrypt } from \"views/functions.js\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  error:  {\r\n      // right: 0,\r\n      fontSize: '12px',\r\n      color: red[700],\r\n      // position: 'absolute',\r\n      alignItems: 'center',\r\n      marginTop: '0px',\r\n  },\r\n  textData: {\r\n    fontSize: '14px',\r\n    margin: theme.spacing(0),\r\n  },\r\n}));\r\n\r\n/***\r\nclass ChildComp extends React.Component {\r\n\r\n  componentDidMount()  {\r\n\r\n    ValidatorForm.addValidationRule('isEmailOK', (value) => {\r\n      return validateEmail(value);\r\n    });\r\n\r\n  }\r\n\r\n\r\n  componentWillUnmount() {\r\n    // remove rule when it is not needed\r\n    ValidatorForm.removeValidationRule('isEmailOK');\r\n  }\r\n\r\n  render() {\r\n    return <br/>;\r\n  }\r\n\r\n}\r\n***/\r\n\r\nexport default function ForgotPassword() {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [registerStatus, setRegisterStatus] = useState(199);\r\n\r\n  // const { setUser } = useContext(UserContext);\r\n\r\n\r\n  const handleSubmit = async() => {\r\n    let tmp1 = encrypt(email); \r\n    //let response = await fetch(`${process.env.REACT_APP_AXIOS_BASEPATH}/user/cricemailpassword/${tmp1}`);\r\n\t\tlet response = await fetch(`${process.env.REACT_APP_AXIOS_BASEPATH}/user/bhoolgaya/${tmp1}`);\r\n    setRegisterStatus(response.status);\r\n  }\r\n\r\n  function handleLogin() {\r\n    sessionStorage.setItem(\"currentLogin\", \"SIGNIN\");\r\n    cdRefresh();\r\n  }\r\n\r\n  function ShowResisterStatus() {\r\n    let myMsg;\r\n    switch (registerStatus) {\r\n      case 199:\r\n        myMsg = ``;\r\n        break;\r\n      case 200:\r\n        myMsg = `Successfully mailed reset password link`;\r\n        break;\r\n      case 602:\r\n        myMsg = `Email not configured in database`;\r\n        break;\r\n      case 603:\r\n        myMsg = `Transport error while sending email`;\r\n        break;\r\n      default:\r\n          myMsg = \"Unknown Error\";\r\n          break;\r\n    }\r\n    return(\r\n      <div>\r\n        <Typography className={(registerStatus === 200) ? classes.root : classes.error}>{myMsg}</Typography>\r\n      </div>\r\n    )\r\n  }\r\n\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n      <CricDreamLogo />\r\n      {/* <Avatar className={classes.avatar}>\r\n        <LockOutlinedIcon />\r\n      </Avatar> */}\r\n      <Typography component=\"h1\" variant=\"h5\">Forgot Password.</Typography>\r\n      <br/>\r\n      <p className={classes.textData}>Forgot possword? Do not worry.</p>\r\n      <p className={classes.textData}>Password will be mailed to you</p>\r\n      <ValidatorForm className={classes.form} onSubmit={handleSubmit}>\r\n      <TextValidator\r\n          variant=\"outlined\"\r\n          required\r\n          fullWidth      \r\n          label=\"Email\"\r\n          onChange={(event) => setEmail(event.target.value)}\r\n          name=\"email\"\r\n          type=\"email\"\r\n          validators={['isEmailOK', 'required']}\r\n          errorMessages={['Invalid Email', 'Email to be provided']}\r\n          value={email}\r\n      />\r\n      <ShowResisterStatus/>\r\n      <BlankArea/>\r\n      <Button\r\n        type=\"submit\"\r\n        fullWidth\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        className={classes.submit}\r\n      >\r\n        Submit\r\n    </Button>\r\n    </ValidatorForm>\r\n    <BlankArea/>\r\n    <Typography className={classes.root}>\r\n      <Link href=\"#\" onClick={handleLogin} variant=\"body2\">Already have an account? Sign in</Link>\r\n    </Typography>\r\n    </div>\r\n    <ValidComp />    \r\n    </Container>\r\n  );\r\n}\r\n","import React, { useState, useMemo } from \"react\";\r\nimport { BrowserRouter as Router, Route, Redirect } from \"react-router-dom\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { createBrowserHistory } from \"history\";\r\nimport { UserContext } from \"./UserContext\"; \r\n//import Admin from \"layouts/Admin.js\";\r\nimport \"assets/css/material-dashboard-react.css?v=1.9.0\";\r\n// import { DesktopWindows } from \"@material-ui/icons\";\r\nimport { CricDreamTabs, setTab }from \"CustomComponents/CricDreamTabs\"\r\nimport axios from \"axios\";\r\nimport SignIn from \"views/Login/SignIn\"\r\nimport SignUp from \"views/Login/SignUp.js\";\r\nimport Welcome from \"views/MED/Welcome\";\r\nimport Doctor from \"views/MED/Doctor\";\r\nimport ResetPassword from \"views/Login/ResetPassword\";\r\n//import Session from \"views/Session/Session\"\r\n//import JoinGroup from \"views/Group/JoinGroup.js\"\r\nimport ForgotPassword from \"views/Login/ForgotPassword.js\";\r\nimport IdleTimer from 'react-idle-timer'\r\n\r\nimport { PinDropSharp } from \"@material-ui/icons\";\r\n\r\n\r\nimport firebase from 'firebase';\r\n//import arunfb from 'firebase';\r\n\r\n//const arunfb = require('firebase/app').default\r\n//import messaging from 'firebase/messaging';\r\n\r\nimport { \r\nsetIdle, isUserLogged,\r\nisMobile, cdRefresh, specialSetPos, \r\nencrypt, \r\nclearBackupData, downloadApk \r\n} from \"views/functions.js\"\r\n\r\nconst hist = createBrowserHistory();\r\n\r\n\r\n/***\r\nfunction checkJoinGroup(pathArray) {\r\n  let sts = false;\r\n  if ((pathArray[1].toLowerCase() === \"joingroup\") && (pathArray.length === 3) && (pathArray[2].length > 0)) {\r\n    localStorage.setItem(\"joinGroupCode\", pathArray[2]);\r\n    sts = true;\r\n  }\r\n  return sts;\r\n}\r\n***/\r\n\r\nfunction initCdParams() {\r\n  let ipos = 0;\r\n  if ((localStorage.getItem(\"tabpos\") !== null) &&\r\n  (localStorage.getItem(\"tabpos\") !== \"\") ) {\r\n    ipos = parseInt(localStorage.getItem(\"tabpos\"));\r\n    if (ipos >= process.env.REACT_APP_BASEPOS) localStorage.setItem(\"tabpos\", ipos-process.env.REACT_APP_BASEPOS);\r\n  } else\r\n    localStorage.setItem(\"tabpos\", 0);\r\n  console.log(`ipos: ${ipos}   Tabpos ${localStorage.getItem(\"tabpos\")}`)\r\n}\r\n\r\n\r\n\r\nfunction checkSessionRequest() {\r\n\tlet resetLink = false;\r\n\tlet x = location.pathname.split(\"/\");\r\n  console.log(\"Path is\");\r\n  console.log(x);\r\n\tif (x.length >= 3)\r\n\tif (x[1].toLowerCase() === \"medmaster\")\r\n\tif (x[2].toLowerCase() === \"session\") {\r\n\t\tresetLink = true;\r\n\t}\r\n\treturn resetLink;\r\n}\r\n\r\n\r\nfunction checkResetPasswordRequest() {\r\n\tlet resetLink = \"\";\r\n\tlet x = location.pathname.split(\"/\");\r\n  //console.log(\"Path is\");\r\n  //console.log(x);\r\n\tif (x.length >= 4)\r\n\tif (x[1] === \"doctorviraag\")\r\n\tif (x[2] === \"resetpassword\") {\r\n\t\tresetLink = x[3];\r\n\t}\r\n\treturn resetLink;\r\n}\r\n\r\n\r\nfunction AppRouter() {\r\n  //let history={hist}\r\n\r\n  const [user, setUser] = useState(null);\r\n\tconst [fireToken, setFireToken] = useState(\"\");\r\n\t\r\n  const value = useMemo(() => ({ user, setUser }), [user, setUser]);\r\n  var idleTimer = null;\r\n  \r\n  \r\n  async function handleOnActive (event) {\r\n    // console.log('user is active', event);\r\n  }\r\n\r\n  async function handleOnAction (event) {\r\n    // console.log(`Action from user ${sessionStorage.getItem(\"uid\")}`);\r\n  }\r\n\r\n\r\n  async function handleOnIdle (event) {\r\n    // console.log('user is idle', event);\r\n    // console.log('last active', idleTimer.getLastActiveTime());\r\n    setIdle(true);\r\n  }\r\n\r\n\r\n\r\n  function DispayTabs() {\r\n    let isLogged = isUserLogged();\r\n    if (isLogged) {\r\n      return (\r\n        <div>\r\n          <CricDreamTabs/>\r\n        </div>\r\n      )  \r\n    } \r\n\t\telse if (sessionStorage.getItem(\"currentLogin\") ===  \"SIGNIN\") {\r\n\t\t\treturn <SignIn />\r\n\t\t} \r\n\t\telse if (sessionStorage.getItem(\"currentLogin\") ===  \"SIGNUP\") {\r\n\t\t\treturn <SignUp />\r\n\t\t} \r\n\t\telse if (sessionStorage.getItem(\"currentLogin\") ===  \"FORGOT\") {\r\n\t\t\treturn <ForgotPassword />\r\n\t\t} \r\n\t\telse if (sessionStorage.getItem(\"currentLogin\") ===  \"DOCTOR\") {\r\n\t\t\treturn <Doctor />\r\n\t\t} \r\n\t\telse  {\r\n\t\t\tlet myLink = checkResetPasswordRequest();\r\n\t\t\t//console.log(\"Link\", myLink);\r\n\t\t\tif (myLink !== \"\") {\r\n\t\t\t\tsessionStorage.setItem(\"currentUserCode\", myLink);\r\n\t\t\t\thist.push(\"/\");\r\n\t\t\t\t//console.log(history, hist);\r\n\t\t\t\treturn (<ResetPassword />);\r\n\t\t\t} else {\r\n\t\t\t\t//console.log(\"About to call Welcome\");\r\n\t\t\t\tif (process.env.REACT_APP_SHOWWELCOMEPAGE === 'true')\r\n\t\t\t\t\treturn (<Welcome/>)\r\n\t\t\t\telse\r\n\t\t\t\t\treturn <SignIn />\r\n\t\t\t}\r\n\t\t} \r\n  }\r\n\r\n  // logic before displaying component\r\n  // window.onbeforeunload = () => Router.refresh();\r\n  //console.log(\"in before unload\");\r\n\r\n  initCdParams();\r\n  return (\r\n    <Router history={hist}> \r\n    <UserContext.Provider value={value}>\r\n    </UserContext.Provider>\r\n    <DispayTabs />\r\n    </Router>\r\n  );\r\n\r\n}\r\n\r\nexport default AppRouter;\r\n","/*!\r\n\r\n=========================================================\r\n* Material Dashboard React - v1.9.0\r\n=========================================================\r\n\r\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\r\n* Copyright 2020 Creative Tim (https://www.creative-tim.com)\r\n* Licensed under MIT (https://github.com/creativetimofficial/material-dashboard-react/blob/master/LICENSE.md)\r\n\r\n* Coded by Creative Tim\r\n\r\n=========================================================\r\n\r\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n\r\n*/\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport { transitions, positions, Provider as AlertProvider } from 'react-alert'\r\nimport AlertTemplate from 'react-alert-template-basic'\r\n\r\n// optional configuration\r\nconst options = {\r\n  // you can also just use 'bottom center'\r\n  position: positions.TOP_CENTER,\r\n  timeout: 2500,\r\n  offset: '30px',\r\n\twidth: 'auto',\r\n  // you can also just use 'scale'\r\n  transition: transitions.SCALE\r\n};\r\n\r\nReactDOM.render( <AlertProvider template={AlertTemplate} {...options}> <App /> </AlertProvider>, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\n"],"sourceRoot":""}